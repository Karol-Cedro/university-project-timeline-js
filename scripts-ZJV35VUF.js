"use strict";/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */(function(k,p){typeof exports=="object"&&typeof module=="object"?module.exports=p():typeof define=="function"&&define.amd?define([],p):typeof exports=="object"?exports.vis=p():k.vis=p()})(this,function(){return function(L){var k={};function p(D){if(k[D])return k[D].exports;var c=k[D]={i:D,l:!1,exports:{}};return L[D].call(c.exports,c,c.exports,p),c.l=!0,c.exports}return p.m=L,p.c=k,p.d=function(D,c,b){p.o(D,c)||Object.defineProperty(D,c,{configurable:!1,enumerable:!0,get:b})},p.n=function(D){var c=D&&D.__esModule?function(){return D.default}:function(){return D};return p.d(c,"a",c),c},p.o=function(D,c){return Object.prototype.hasOwnProperty.call(D,c)},p.p="",p(p.s=123)}([function(L,k,p){"use strict";k.__esModule=!0,k.default=function(D,c){if(!(D instanceof c))throw new TypeError("Cannot call a class as a function")}},function(L,k,p){"use strict";k.__esModule=!0;var D=p(169),c=b(D);function b(x){return x&&x.__esModule?x:{default:x}}k.default=function(){function x(C,E){for(var y=0;y<E.length;y++){var S=E[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),(0,c.default)(C,S.key,S)}}return function(C,E,y){return E&&x(C.prototype,E),y&&x(C,y),C}}()},function(L,k,p){"use strict";var D=p(77),c=m(D),b=p(29),x=m(b),C=p(8),E=m(C),y=p(6),S=m(y);function m(e){return e&&e.__esModule?e:{default:e}}var v=p(9),d=p(157);k.isNumber=function(e){return e instanceof Number||typeof e=="number"},k.recursiveDOMDelete=function(e){if(e)for(;e.hasChildNodes()===!0;)k.recursiveDOMDelete(e.firstChild),e.removeChild(e.firstChild)},k.giveRange=function(e,r,i,t){if(r==e)return .5;var a=1/(r-e);return Math.max(0,(t-e)*a)},k.isString=function(e){return e instanceof String||typeof e=="string"},k.isDate=function(e){if(e instanceof Date)return!0;if(k.isString(e)){var r=o.exec(e);if(r)return!0;if(!isNaN(Date.parse(e)))return!0}return!1},k.randomUUID=function(){return d.v4()},k.assignAllKeys=function(e,r){for(var i in e)e.hasOwnProperty(i)&&(0,S.default)(e[i])!=="object"&&(e[i]=r)};function h(e,r,i,t){var a=!1;t===!0&&(a=r[i]===null&&e[i]!==void 0),a?delete e[i]:e[i]=r[i]}k.fillIfDefined=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var t in e)r[t]!==void 0&&(r[t]===null||(0,S.default)(r[t])!=="object"?h(e,r,t,i):(0,S.default)(e[t])==="object"&&k.fillIfDefined(e[t],r[t],i))},k.extend=function(e,r){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}return e},k.selectiveExtend=function(e,r,i){if(!Array.isArray(e))throw new Error("Array with property names expected as first argument");for(var t=2;t<arguments.length;t++)for(var a=arguments[t],u=0;u<e.length;u++){var n=e[u];a&&a.hasOwnProperty(n)&&(r[n]=a[n])}return r},k.selectiveDeepExtend=function(e,r,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var a=0;a<e.length;a++){var u=e[a];if(i.hasOwnProperty(u))if(i[u]&&i[u].constructor===Object)r[u]===void 0&&(r[u]={}),r[u].constructor===Object?k.deepExtend(r[u],i[u],!1,t):h(r,i,u,t);else{if(Array.isArray(i[u]))throw new TypeError("Arrays are not supported by deepExtend");h(r,i,u,t)}}return r},k.selectiveNotDeepExtend=function(e,r,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var a in i)if(i.hasOwnProperty(a)&&e.indexOf(a)===-1)if(i[a]&&i[a].constructor===Object)r[a]===void 0&&(r[a]={}),r[a].constructor===Object?k.deepExtend(r[a],i[a]):h(r,i,a,t);else if(Array.isArray(i[a])){r[a]=[];for(var u=0;u<i[a].length;u++)r[a].push(i[a][u])}else h(r,i,a,t);return r},k.deepExtend=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var a in r)if(r.hasOwnProperty(a)||i===!0)if(r[a]&&r[a].constructor===Object)e[a]===void 0&&(e[a]={}),e[a].constructor===Object?k.deepExtend(e[a],r[a],i):h(e,r,a,t);else if(Array.isArray(r[a])){e[a]=[];for(var u=0;u<r[a].length;u++)e[a].push(r[a][u])}else h(e,r,a,t);return e},k.equalArray=function(e,r){if(e.length!=r.length)return!1;for(var i=0,t=e.length;i<t;i++)if(e[i]!=r[i])return!1;return!0},k.convert=function(e,r){var i;if(e!==void 0){if(e===null)return null;if(!r)return e;if(typeof r!="string"&&!(r instanceof String))throw new Error("Type must be a string");switch(r){case"boolean":case"Boolean":return!!e;case"number":case"Number":return k.isString(e)&&!isNaN(Date.parse(e))?v(e).valueOf():Number(e.valueOf());case"string":case"String":return String(e);case"Date":if(k.isNumber(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(v.isMoment(e))return new Date(e.valueOf());if(k.isString(e))return i=o.exec(e),i?new Date(Number(i[1])):v(new Date(e)).toDate();throw new Error("Cannot convert object of type "+k.getType(e)+" to type Date");case"Moment":if(k.isNumber(e))return v(e);if(e instanceof Date)return v(e.valueOf());if(v.isMoment(e))return v(e);if(k.isString(e))return i=o.exec(e),v(i?Number(i[1]):e);throw new Error("Cannot convert object of type "+k.getType(e)+" to type Date");case"ISODate":if(k.isNumber(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(v.isMoment(e))return e.toDate().toISOString();if(k.isString(e))return i=o.exec(e),i?new Date(Number(i[1])).toISOString():v(e).format();throw new Error("Cannot convert object of type "+k.getType(e)+" to type ISODate");case"ASPDate":if(k.isNumber(e))return"/Date("+e+")/";if(e instanceof Date)return"/Date("+e.valueOf()+")/";if(k.isString(e)){i=o.exec(e);var t;return i?t=new Date(Number(i[1])).valueOf():t=new Date(e).valueOf(),"/Date("+t+")/"}else throw new Error("Cannot convert object of type "+k.getType(e)+" to type ASPDate");default:throw new Error('Unknown type "'+r+'"')}}};var o=/^\/?Date\((\-?\d+)/i;k.getType=function(e){var r=typeof e>"u"?"undefined":(0,S.default)(e);return r=="object"?e===null?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Array.isArray(e)?"Array":e instanceof Date?"Date":"Object":r=="number"?"Number":r=="boolean"?"Boolean":r=="string"?"String":r===void 0?"undefined":r},k.copyAndExtendArray=function(e,r){for(var i=[],t=0;t<e.length;t++)i.push(e[t]);return i.push(r),i},k.copyArray=function(e){for(var r=[],i=0;i<e.length;i++)r.push(e[i]);return r},k.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left},k.getAbsoluteRight=function(e){return e.getBoundingClientRect().right},k.getAbsoluteTop=function(e){return e.getBoundingClientRect().top},k.addClassName=function(e,r){var i=e.className.split(" "),t=r.split(" ");i=i.concat(t.filter(function(a){return i.indexOf(a)<0})),e.className=i.join(" ")},k.removeClassName=function(e,r){var i=e.className.split(" "),t=r.split(" ");i=i.filter(function(a){return t.indexOf(a)<0}),e.className=i.join(" ")},k.forEach=function(e,r){var i,t;if(Array.isArray(e))for(i=0,t=e.length;i<t;i++)r(e[i],i,e);else for(i in e)e.hasOwnProperty(i)&&r(e[i],i,e)},k.toArray=function(e){var r=[];for(var i in e)e.hasOwnProperty(i)&&r.push(e[i]);return r},k.updateProperty=function(e,r,i){return e[r]!==i?(e[r]=i,!0):!1},k.throttle=function(e){var r=!1;return function(){r||(r=!0,requestAnimationFrame(function(){r=!1,e()}))}},k.addEventListener=function(e,r,i,t){e.addEventListener?(t===void 0&&(t=!1),r==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(r="DOMMouseScroll"),e.addEventListener(r,i,t)):e.attachEvent("on"+r,i)},k.removeEventListener=function(e,r,i,t){e.removeEventListener?(t===void 0&&(t=!1),r==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(r="DOMMouseScroll"),e.removeEventListener(r,i,t)):e.detachEvent("on"+r,i)},k.preventDefault=function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1},k.getTarget=function(e){e||(e=window.event);var r;return e.target?r=e.target:e.srcElement&&(r=e.srcElement),r.nodeType!=null&&r.nodeType==3&&(r=r.parentNode),r},k.hasParent=function(e,r){for(var i=e;i;){if(i===r)return!0;i=i.parentNode}return!1},k.option={},k.option.asBoolean=function(e,r){return typeof e=="function"&&(e=e()),e!=null?e!=!1:r||null},k.option.asNumber=function(e,r){return typeof e=="function"&&(e=e()),e!=null?Number(e)||r||null:r||null},k.option.asString=function(e,r){return typeof e=="function"&&(e=e()),e!=null?String(e):r||null},k.option.asSize=function(e,r){return typeof e=="function"&&(e=e()),k.isString(e)?e:k.isNumber(e)?e+"px":r||null},k.option.asElement=function(e,r){return typeof e=="function"&&(e=e()),e||r||null},k.hexToRGB=function(e){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(r,function(t,a,u,n){return a+a+u+u+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},k.overrideOpacity=function(e,r){var i;return e.indexOf("rgba")!=-1?e:e.indexOf("rgb")!=-1?(i=e.substr(e.indexOf("(")+1).replace(")","").split(","),"rgba("+i[0]+","+i[1]+","+i[2]+","+r+")"):(i=k.hexToRGB(e),i==null?e:"rgba("+i.r+","+i.g+","+i.b+","+r+")")},k.RGBToHex=function(e,r,i){return"#"+((1<<24)+(e<<16)+(r<<8)+i).toString(16).slice(1)},k.parseColor=function(e){var r;if(k.isString(e)===!0){if(k.isValidRGB(e)===!0){var i=e.substr(4).substr(0,e.length-5).split(",").map(function(l){return parseInt(l)});e=k.RGBToHex(i[0],i[1],i[2])}if(k.isValidHex(e)===!0){var t=k.hexToHSV(e),a={h:t.h,s:t.s*.8,v:Math.min(1,t.v*1.02)},u={h:t.h,s:Math.min(1,t.s*1.25),v:t.v*.8},n=k.HSVToHex(u.h,u.s,u.v),s=k.HSVToHex(a.h,a.s,a.v);r={background:e,border:n,highlight:{background:s,border:n},hover:{background:s,border:n}}}else r={background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else r={},r.background=e.background||void 0,r.border=e.border||void 0,k.isString(e.highlight)?r.highlight={border:e.highlight,background:e.highlight}:(r.highlight={},r.highlight.background=e.highlight&&e.highlight.background||void 0,r.highlight.border=e.highlight&&e.highlight.border||void 0),k.isString(e.hover)?r.hover={border:e.hover,background:e.hover}:(r.hover={},r.hover.background=e.hover&&e.hover.background||void 0,r.hover.border=e.hover&&e.hover.border||void 0);return r},k.RGBToHSV=function(e,r,i){e=e/255,r=r/255,i=i/255;var t=Math.min(e,Math.min(r,i)),a=Math.max(e,Math.max(r,i));if(t==a)return{h:0,s:0,v:t};var u=e==t?r-i:i==t?e-r:i-e,n=e==t?3:i==t?1:5,s=60*(n-u/(a-t))/360,l=(a-t)/a,g=a;return{h:s,s:l,v:g}};var f={split:function(r){var i={};return r.split(";").forEach(function(t){if(t.trim()!=""){var a=t.split(":"),u=a[0].trim(),n=a[1].trim();i[u]=n}}),i},join:function(r){return(0,E.default)(r).map(function(i){return i+": "+r[i]}).join("; ")}};k.addCssText=function(e,r){var i=f.split(e.style.cssText),t=f.split(r),a=k.extend(i,t);e.style.cssText=f.join(a)},k.removeCssText=function(e,r){var i=f.split(e.style.cssText),t=f.split(r);for(var a in t)t.hasOwnProperty(a)&&delete i[a];e.style.cssText=f.join(i)},k.HSVToRGB=function(e,r,i){var t,a,u,n=Math.floor(e*6),s=e*6-n,l=i*(1-r),g=i*(1-s*r),T=i*(1-(1-s)*r);switch(n%6){case 0:t=i,a=T,u=l;break;case 1:t=g,a=i,u=l;break;case 2:t=l,a=i,u=T;break;case 3:t=l,a=g,u=i;break;case 4:t=T,a=l,u=i;break;case 5:t=i,a=l,u=g;break}return{r:Math.floor(t*255),g:Math.floor(a*255),b:Math.floor(u*255)}},k.HSVToHex=function(e,r,i){var t=k.HSVToRGB(e,r,i);return k.RGBToHex(t.r,t.g,t.b)},k.hexToHSV=function(e){var r=k.hexToRGB(e);return k.RGBToHSV(r.r,r.g,r.b)},k.isValidHex=function(e){var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return r},k.isValidRGB=function(e){e=e.replace(" ","");var r=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(e);return r},k.isValidRGBA=function(e){e=e.replace(" ","");var r=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(e);return r},k.selectiveBridgeObject=function(e,r){if(r!==null&&(typeof r>"u"?"undefined":(0,S.default)(r))==="object"){for(var i=(0,x.default)(r),t=0;t<e.length;t++)r.hasOwnProperty(e[t])&&(0,S.default)(r[e[t]])=="object"&&(i[e[t]]=k.bridgeObject(r[e[t]]));return i}else return null},k.bridgeObject=function(e){if(e!==null&&(typeof e>"u"?"undefined":(0,S.default)(e))==="object"){var r=(0,x.default)(e);if(e instanceof Element)r=e;else{r=(0,x.default)(e);for(var i in e)e.hasOwnProperty(i)&&(0,S.default)(e[i])=="object"&&(r[i]=k.bridgeObject(e[i]))}return r}else return null},k.insertSort=function(e,r){for(var i=0;i<e.length;i++){for(var t=e[i],a=i;a>0&&r(t,e[a-1])<0;a--)e[a]=e[a-1];e[a]=t}return e},k.mergeOptions=function(e,r,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=function(R){return R!=null},u=function(R){return R!==null&&(typeof R>"u"?"undefined":(0,S.default)(R))==="object"},n=function(R){for(var I in R)if(R.hasOwnProperty(I))return!1;return!0};if(!u(e))throw new Error("Parameter mergeTarget must be an object");if(!u(r))throw new Error("Parameter options must be an object");if(!a(i))throw new Error("Parameter option must have a value");if(!u(t))throw new Error("Parameter globalOptions must be an object");var s=function(R,I,F){u(R[F])||(R[F]={});var W=I[F],Y=R[F];for(var X in W)W.hasOwnProperty(X)&&(Y[X]=W[X])},l=r[i],g=u(t)&&!n(t),T=g?t[i]:void 0,O=T?T.enabled:void 0;if(l!==void 0){if(typeof l=="boolean"){u(e[i])||(e[i]={}),e[i].enabled=l;return}if(l===null&&!u(e[i]))if(a(T))e[i]=(0,x.default)(T);else return;if(u(l)){var P=!0;l.enabled!==void 0?P=l.enabled:O!==void 0&&(P=T.enabled),s(e,r,i),e[i].enabled=P}}},k.binarySearchCustom=function(e,r,i,t){for(var a=1e4,u=0,n=0,s=e.length-1;n<=s&&u<a;){var l=Math.floor((n+s)/2),g=e[l],T=t===void 0?g[i]:g[i][t],O=r(T);if(O==0)return l;O==-1?n=l+1:s=l-1,u++}return-1},k.binarySearchValue=function(e,r,i,t,a){var u=1e4,n=0,s=0,l=e.length-1,g,T,O,P;for(a=a??function(_,R){return _==R?0:_<R?-1:1};s<=l&&n<u;){if(P=Math.floor(.5*(l+s)),g=e[Math.max(0,P-1)][i],T=e[P][i],O=e[Math.min(e.length-1,P+1)][i],a(T,r)==0)return P;if(a(g,r)<0&&a(T,r)>0)return t=="before"?Math.max(0,P-1):P;if(a(T,r)<0&&a(O,r)>0)return t=="before"?P:Math.min(e.length-1,P+1);a(T,r)<0?s=P+1:l=P-1,n++}return-1},k.easingFunctions={linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+(4-2*r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}},k.getScrollBarWidth=function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.visibility="hidden",r.style.width="200px",r.style.height="150px",r.style.overflow="hidden",r.appendChild(e),document.body.appendChild(r);var i=e.offsetWidth;r.style.overflow="scroll";var t=e.offsetWidth;return i==t&&(t=r.clientWidth),document.body.removeChild(r),i-t},k.topMost=function(e,r){var i=void 0;Array.isArray(r)||(r=[r]);var t=!0,a=!1,u=void 0;try{for(var n=(0,c.default)(e),s;!(t=(s=n.next()).done);t=!0){var l=s.value;if(l){i=l[r[0]];for(var g=1;g<r.length;g++)if(i)i=i[r[g]];else continue;if(typeof i<"u")break}}}catch(T){a=!0,u=T}finally{try{!t&&n.return&&n.return()}finally{if(a)throw u}}return i}},function(L,k,p){L.exports={default:p(194),__esModule:!0}},function(L,k,p){"use strict";k.__esModule=!0;var D=p(6),c=b(D);function b(x){return x&&x.__esModule?x:{default:x}}k.default=function(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&((typeof C>"u"?"undefined":(0,c.default)(C))==="object"||typeof C=="function")?C:x}},function(L,k,p){"use strict";k.__esModule=!0;var D=p(196),c=y(D),b=p(29),x=y(b),C=p(6),E=y(C);function y(S){return S&&S.__esModule?S:{default:S}}k.default=function(S,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof m>"u"?"undefined":(0,E.default)(m)));S.prototype=(0,x.default)(m&&m.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),m&&(c.default?(0,c.default)(S,m):S.__proto__=m)}},function(L,k,p){"use strict";k.__esModule=!0;var D=p(142),c=E(D),b=p(144),x=E(b),C=typeof x.default=="function"&&typeof c.default=="symbol"?function(y){return typeof y}:function(y){return y&&typeof x.default=="function"&&y.constructor===x.default&&y!==x.default.prototype?"symbol":typeof y};function E(y){return y&&y.__esModule?y:{default:y}}k.default=typeof x.default=="function"&&C(c.default)==="symbol"?function(y){return typeof y>"u"?"undefined":C(y)}:function(y){return y&&typeof x.default=="function"&&y.constructor===x.default&&y!==x.default.prototype?"symbol":typeof y>"u"?"undefined":C(y)}},function(L,k){var p=L.exports={version:"2.5.1"};typeof __e=="number"&&(__e=p)},function(L,k,p){L.exports={default:p(140),__esModule:!0}},function(L,k,p){"use strict";L.exports=typeof window<"u"&&window.moment||p(154)},function(L,k,p){"use strict";function D(){var x=function(){};return{on:x,off:x,destroy:x,emit:x,get:function(E){return{set:x}}}}if(typeof window<"u"){var c=p(175),b=window.Hammer||p(176);L.exports=c(b,{preventDefault:"mouse"})}else L.exports=function(){return D()}},function(L,k,p){"use strict";var D=p(19),c=y(D),b=p(6),x=y(b),C=p(8),E=y(C);function y(d){return d&&d.__esModule?d:{default:d}}var S=p(2),m=p(43);function v(d,h){if(d&&!Array.isArray(d)&&(h=d,d=null),this._options=h||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var o=(0,E.default)(this._options.type),f=0,e=o.length;f<e;f++){var r=o[f],i=this._options.type[r];i=="Date"||i=="ISODate"||i=="ASPDate"?this._type[r]="Date":this._type[r]=i}this._subscribers={},d&&this.add(d),this.setOptions(h)}v.prototype.setOptions=function(d){d&&d.queue!==void 0&&(d.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=m.extend(this,{replace:["add","update","remove"]})),(0,x.default)(d.queue)==="object"&&this._queue.setOptions(d.queue)))},v.prototype.on=function(d,h){var o=this._subscribers[d];o||(o=[],this._subscribers[d]=o),o.push({callback:h})},v.prototype.off=function(d,h){var o=this._subscribers[d];o&&(this._subscribers[d]=o.filter(function(f){return f.callback!=h}))},v.prototype._trigger=function(d,h,o){if(d=="*")throw new Error("Cannot trigger event *");var f=[];d in this._subscribers&&(f=f.concat(this._subscribers[d])),"*"in this._subscribers&&(f=f.concat(this._subscribers["*"]));for(var e=0,r=f.length;e<r;e++){var i=f[e];i.callback&&i.callback(d,h,o||null)}},v.prototype.add=function(d,h){var o=[],f,e=this;if(Array.isArray(d))for(var r=0,i=d.length;r<i;r++)f=e._addItem(d[r]),o.push(f);else if(d&&(typeof d>"u"?"undefined":(0,x.default)(d))==="object")f=e._addItem(d),o.push(f);else throw new Error("Unknown dataType");return o.length&&this._trigger("add",{items:o},h),o},v.prototype.update=function(d,h){var o=[],f=[],e=[],r=[],i=this,t=i._fieldId,a=function(g){var T=g[t];if(i._data[T]){var O=S.extend({},i._data[T]);T=i._updateItem(g),f.push(T),r.push(g),e.push(O)}else T=i._addItem(g),o.push(T)};if(Array.isArray(d))for(var u=0,n=d.length;u<n;u++)d[u]&&(0,x.default)(d[u])==="object"?a(d[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(d&&(typeof d>"u"?"undefined":(0,x.default)(d))==="object")a(d);else throw new Error("Unknown dataType");if(o.length&&this._trigger("add",{items:o},h),f.length){var s={items:f,oldData:e,data:r};this._trigger("update",s,h)}return o.concat(f)},v.prototype.get=function(d){var h=this,o,f,e,r=S.getType(arguments[0]);r=="String"||r=="Number"?(o=arguments[0],e=arguments[1]):r=="Array"?(f=arguments[0],e=arguments[1]):e=arguments[0];var i;if(e&&e.returnType){var t=["Array","Object"];i=t.indexOf(e.returnType)==-1?"Array":e.returnType}else i="Array";var a=e&&e.type||this._options.type,u=e&&e.filter,n=[],s,l,g,T,O;if(o!=null)s=h._getItem(o,a),s&&u&&!u(s)&&(s=null);else if(f!=null)for(T=0,O=f.length;T<O;T++)s=h._getItem(f[T],a),(!u||u(s))&&n.push(s);else for(l=(0,E.default)(this._data),T=0,O=l.length;T<O;T++)g=l[T],s=h._getItem(g,a),(!u||u(s))&&n.push(s);if(e&&e.order&&o==null&&this._sort(n,e.order),e&&e.fields){var P=e.fields;if(o!=null)s=this._filterFields(s,P);else for(T=0,O=n.length;T<O;T++)n[T]=this._filterFields(n[T],P)}if(i=="Object"){var _={},R;for(T=0,O=n.length;T<O;T++)R=n[T],_[R.id]=R;return _}else return o!=null?s:n},v.prototype.getIds=function(d){var h=this._data,o=d&&d.filter,f=d&&d.order,e=d&&d.type||this._options.type,r=(0,E.default)(h),i,t,a,u,n,s=[];if(o)if(f){for(n=[],i=0,t=r.length;i<t;i++)a=r[i],u=this._getItem(a,e),o(u)&&n.push(u);for(this._sort(n,f),i=0,t=n.length;i<t;i++)s.push(n[i][this._fieldId])}else for(i=0,t=r.length;i<t;i++)a=r[i],u=this._getItem(a,e),o(u)&&s.push(u[this._fieldId]);else if(f){for(n=[],i=0,t=r.length;i<t;i++)a=r[i],n.push(h[a]);for(this._sort(n,f),i=0,t=n.length;i<t;i++)s.push(n[i][this._fieldId])}else for(i=0,t=r.length;i<t;i++)a=r[i],u=h[a],s.push(u[this._fieldId]);return s},v.prototype.getDataSet=function(){return this},v.prototype.forEach=function(d,h){var o=h&&h.filter,f=h&&h.type||this._options.type,e=this._data,r=(0,E.default)(e),i,t,a,u;if(h&&h.order){var n=this.get(h);for(i=0,t=n.length;i<t;i++)a=n[i],u=a[this._fieldId],d(a,u)}else for(i=0,t=r.length;i<t;i++)u=r[i],a=this._getItem(u,f),(!o||o(a))&&d(a,u)},v.prototype.map=function(d,h){var o=h&&h.filter,f=h&&h.type||this._options.type,e=[],r=this._data,i=(0,E.default)(r),t,a,u,n;for(t=0,a=i.length;t<a;t++)u=i[t],n=this._getItem(u,f),(!o||o(n))&&e.push(d(n,u));return h&&h.order&&this._sort(e,h.order),e},v.prototype._filterFields=function(d,h){if(!d)return d;var o={},f=(0,E.default)(d),e=f.length,r,i;if(Array.isArray(h))for(r=0;r<e;r++)i=f[r],h.indexOf(i)!=-1&&(o[i]=d[i]);else for(r=0;r<e;r++)i=f[r],h.hasOwnProperty(i)&&(o[h[i]]=d[i]);return o},v.prototype._sort=function(d,h){if(S.isString(h)){var o=h;d.sort(function(f,e){var r=f[o],i=e[o];return r>i?1:r<i?-1:0})}else if(typeof h=="function")d.sort(h);else throw new TypeError("Order must be a function or a string")},v.prototype.remove=function(d,h){var o=[],f=[],e=[],r,i,t,a;for(e=Array.isArray(d)?d:[d],r=0,i=e.length;r<i;r++)a=this._remove(e[r]),a&&(t=a[this._fieldId],t!=null&&(o.push(t),f.push(a)));return o.length&&this._trigger("remove",{items:o,oldData:f},h),o},v.prototype._remove=function(d){var h,o;return S.isNumber(d)||S.isString(d)?o=d:d&&(typeof d>"u"?"undefined":(0,x.default)(d))==="object"&&(o=d[this._fieldId]),o!==void 0&&this._data[o]?(h=this._data[o],delete this._data[o],this.length--,h):null},v.prototype.clear=function(d){var h,o,f=(0,E.default)(this._data),e=[];for(h=0,o=f.length;h<o;h++)e.push(this._data[f[h]]);return this._data={},this.length=0,this._trigger("remove",{items:f,oldData:e},d),f},v.prototype.max=function(d){var h=this._data,o=(0,E.default)(h),f=null,e=null,r,i;for(r=0,i=o.length;r<i;r++){var t=o[r],a=h[t],u=a[d];u!=null&&(!f||u>e)&&(f=a,e=u)}return f},v.prototype.min=function(d){var h=this._data,o=(0,E.default)(h),f=null,e=null,r,i;for(r=0,i=o.length;r<i;r++){var t=o[r],a=h[t],u=a[d];u!=null&&(!f||u<e)&&(f=a,e=u)}return f},v.prototype.distinct=function(d){var h=this._data,o=(0,E.default)(h),f=[],e=this._options.type&&this._options.type[d]||null,r=0,i,t,a;for(i=0,a=o.length;i<a;i++){var u=o[i],n=h[u],s=n[d],l=!1;for(t=0;t<r;t++)if(f[t]==s){l=!0;break}!l&&s!==void 0&&(f[r]=s,r++)}if(e)for(i=0,a=f.length;i<a;i++)f[i]=S.convert(f[i],e);return f},v.prototype._addItem=function(d){var h=d[this._fieldId];if(h!=null){if(this._data[h])throw new Error("Cannot add item: item with id "+h+" already exists")}else h=S.randomUUID(),d[this._fieldId]=h;var o={},f=(0,E.default)(d),e,r;for(e=0,r=f.length;e<r;e++){var i=f[e],t=this._type[i];o[i]=S.convert(d[i],t)}return this._data[h]=o,this.length++,h},v.prototype._getItem=function(d,h){var o,f,e,r,i=this._data[d];if(!i)return null;var t={},a=(0,E.default)(i);if(h)for(e=0,r=a.length;e<r;e++)o=a[e],f=i[o],t[o]=S.convert(f,h[o]);else for(e=0,r=a.length;e<r;e++)o=a[e],f=i[o],t[o]=f;return t[this._fieldId]||(t[this._fieldId]=i.id),t},v.prototype._updateItem=function(d){var h=d[this._fieldId];if(h==null)throw new Error("Cannot update item: item has no id (item: "+(0,c.default)(d)+")");var o=this._data[h];if(!o)throw new Error("Cannot update item: no item with id "+h+" found");for(var f=(0,E.default)(d),e=0,r=f.length;e<r;e++){var i=f[e],t=this._type[i];o[i]=S.convert(d[i],t)}return h},L.exports=v},function(L,k,p){"use strict";var D=p(8),c=b(D);function b(y){return y&&y.__esModule?y:{default:y}}var x=p(2),C=p(11);function E(y,S){this._data=null,this._ids={},this.length=0,this._options=S||{},this._fieldId="id",this._subscribers={};var m=this;this.listener=function(){m._onEvent.apply(m,arguments)},this.setData(y)}E.prototype.setData=function(y){var S,m,v,d,h;if(this._data){for(this._data.off&&this._data.off("*",this.listener),S=this._data.getIds({filter:this._options&&this._options.filter}),h=[],v=0,d=S.length;v<d;v++)h.push(this._data._data[S[v]]);this._ids={},this.length=0,this._trigger("remove",{items:S,oldData:h})}if(this._data=y,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",S=this._data.getIds({filter:this._options&&this._options.filter}),v=0,d=S.length;v<d;v++)m=S[v],this._ids[m]=!0;this.length=S.length,this._trigger("add",{items:S}),this._data.on&&this._data.on("*",this.listener)}},E.prototype.refresh=function(){var y,S,m,v=this._data.getIds({filter:this._options&&this._options.filter}),d=(0,c.default)(this._ids),h={},o=[],f=[],e=[];for(S=0,m=v.length;S<m;S++)y=v[S],h[y]=!0,this._ids[y]||(o.push(y),this._ids[y]=!0);for(S=0,m=d.length;S<m;S++)y=d[S],h[y]||(f.push(y),e.push(this._data._data[y]),delete this._ids[y]);this.length+=o.length-f.length,o.length&&this._trigger("add",{items:o}),f.length&&this._trigger("remove",{items:f,oldData:e})},E.prototype.get=function(y){var S=this,m,v,d,h=x.getType(arguments[0]);h=="String"||h=="Number"||h=="Array"?(m=arguments[0],v=arguments[1],d=arguments[2]):(v=arguments[0],d=arguments[1]);var o=x.extend({},this._options,v);this._options.filter&&v&&v.filter&&(o.filter=function(e){return S._options.filter(e)&&v.filter(e)});var f=[];return m!=null&&f.push(m),f.push(o),f.push(d),this._data&&this._data.get.apply(this._data,f)},E.prototype.getIds=function(y){var S;if(this._data){var m=this._options.filter,v;y&&y.filter?m?v=function(h){return m(h)&&y.filter(h)}:v=y.filter:v=m,S=this._data.getIds({filter:v,order:y&&y.order})}else S=[];return S},E.prototype.map=function(y,S){var m=[];if(this._data){var v=this._options.filter,d;S&&S.filter?v?d=function(o){return v(o)&&S.filter(o)}:d=S.filter:d=v,m=this._data.map(y,{filter:d,order:S&&S.order})}else m=[];return m},E.prototype.getDataSet=function(){for(var y=this;y instanceof E;)y=y._data;return y||null},E.prototype._onEvent=function(y,S,m){var v,d,h,o,f=S&&S.items,e=[],r=[],i=[],t=[],a=[],u=[];if(f&&this._data){switch(y){case"add":for(v=0,d=f.length;v<d;v++)h=f[v],o=this.get(h),o&&(this._ids[h]=!0,e.push(h));break;case"update":for(v=0,d=f.length;v<d;v++)h=f[v],o=this.get(h),o?this._ids[h]?(r.push(h),a.push(S.data[v]),t.push(S.oldData[v])):(this._ids[h]=!0,e.push(h)):this._ids[h]&&(delete this._ids[h],i.push(h),u.push(S.oldData[v]));break;case"remove":for(v=0,d=f.length;v<d;v++)h=f[v],this._ids[h]&&(delete this._ids[h],i.push(h),u.push(S.oldData[v]));break}this.length+=e.length-i.length,e.length&&this._trigger("add",{items:e},m),r.length&&this._trigger("update",{items:r,oldData:t,data:a},m),i.length&&this._trigger("remove",{items:i,oldData:u},m)}},E.prototype.on=C.prototype.on,E.prototype.off=C.prototype.off,E.prototype._trigger=C.prototype._trigger,E.prototype.subscribe=E.prototype.on,E.prototype.unsubscribe=E.prototype.off,L.exports=E},function(L,k,p){var D=p(57)("wks"),c=p(40),b=p(18).Symbol,x=typeof b=="function",C=L.exports=function(E){return D[E]||(D[E]=x&&b[E]||(x?b:c)("Symbol."+E))};C.store=D},function(L,k,p){"use strict";k.prepareElements=function(D){for(var c in D)D.hasOwnProperty(c)&&(D[c].redundant=D[c].used,D[c].used=[])},k.cleanupElements=function(D){for(var c in D)if(D.hasOwnProperty(c)&&D[c].redundant){for(var b=0;b<D[c].redundant.length;b++)D[c].redundant[b].parentNode.removeChild(D[c].redundant[b]);D[c].redundant=[]}},k.resetElements=function(D){k.prepareElements(D),k.cleanupElements(D),k.prepareElements(D)},k.getSVGElement=function(D,c,b){var x;return c.hasOwnProperty(D)?c[D].redundant.length>0?(x=c[D].redundant[0],c[D].redundant.shift()):(x=document.createElementNS("http://www.w3.org/2000/svg",D),b.appendChild(x)):(x=document.createElementNS("http://www.w3.org/2000/svg",D),c[D]={used:[],redundant:[]},b.appendChild(x)),c[D].used.push(x),x},k.getDOMElement=function(D,c,b,x){var C;return c.hasOwnProperty(D)?c[D].redundant.length>0?(C=c[D].redundant[0],c[D].redundant.shift()):(C=document.createElement(D),x!==void 0?b.insertBefore(C,x):b.appendChild(C)):(C=document.createElement(D),c[D]={used:[],redundant:[]},x!==void 0?b.insertBefore(C,x):b.appendChild(C)),c[D].used.push(C),C},k.drawPoint=function(D,c,b,x,C,E){var y;if(b.style=="circle"?(y=k.getSVGElement("circle",x,C),y.setAttributeNS(null,"cx",D),y.setAttributeNS(null,"cy",c),y.setAttributeNS(null,"r",.5*b.size)):(y=k.getSVGElement("rect",x,C),y.setAttributeNS(null,"x",D-.5*b.size),y.setAttributeNS(null,"y",c-.5*b.size),y.setAttributeNS(null,"width",b.size),y.setAttributeNS(null,"height",b.size)),b.styles!==void 0&&y.setAttributeNS(null,"style",b.styles),y.setAttributeNS(null,"class",b.className+" vis-point"),E){var S=k.getSVGElement("text",x,C);E.xOffset&&(D=D+E.xOffset),E.yOffset&&(c=c+E.yOffset),E.content&&(S.textContent=E.content),E.className&&S.setAttributeNS(null,"class",E.className+" vis-label"),S.setAttributeNS(null,"x",D),S.setAttributeNS(null,"y",c)}return y},k.drawBar=function(D,c,b,x,C,E,y,S){if(x!=0){x<0&&(x*=-1,c-=x);var m=k.getSVGElement("rect",E,y);m.setAttributeNS(null,"x",D-.5*b),m.setAttributeNS(null,"y",c),m.setAttributeNS(null,"width",b),m.setAttributeNS(null,"height",x),m.setAttributeNS(null,"class",C),S&&m.setAttributeNS(null,"style",S)}}},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.printStyle=void 0;var D=p(19),c=d(D),b=p(6),x=d(b),C=p(8),E=d(C),y=p(0),S=d(y),m=p(1),v=d(m);function d(i){return i&&i.__esModule?i:{default:i}}var h=p(2),o=!1,f=void 0,e="background: #FFeeee; color: #dd0000",r=function(){function i(){(0,S.default)(this,i)}return(0,v.default)(i,null,[{key:"validate",value:function(a,u,n){o=!1,f=u;var s=u;return n!==void 0&&(s=u[n]),i.parse(a,s,[]),o}},{key:"parse",value:function(a,u,n){for(var s in a)a.hasOwnProperty(s)&&i.check(s,a,u,n)}},{key:"check",value:function(a,u,n,s){if(n[a]===void 0&&n.__any__===void 0){i.getSuggestion(a,n,s);return}var l=a,g=!0;n[a]===void 0&&n.__any__!==void 0&&(l="__any__",g=i.getType(u[a])==="object");var T=n[l];g&&T.__type__!==void 0&&(T=T.__type__),i.checkFields(a,u,n,l,T,s)}},{key:"checkFields",value:function(a,u,n,s,l,g){var T=function(R){console.log("%c"+R+i.printLocation(g,a),e)},O=i.getType(u[a]),P=l[O];P!==void 0?i.getType(P)==="array"&&P.indexOf(u[a])===-1?(T('Invalid option detected in "'+a+'". Allowed values are:'+i.print(P)+' not "'+u[a]+'". '),o=!0):O==="object"&&s!=="__any__"&&(g=h.copyAndExtendArray(g,a),i.parse(u[a],n[s],g)):l.any===void 0&&(T('Invalid type received for "'+a+'". Expected: '+i.print((0,E.default)(l))+". Received ["+O+'] "'+u[a]+'"'),o=!0)}},{key:"getType",value:function(a){var u=typeof a>"u"?"undefined":(0,x.default)(a);return u==="object"?a===null?"null":a instanceof Boolean?"boolean":a instanceof Number?"number":a instanceof String?"string":Array.isArray(a)?"array":a instanceof Date?"date":a.nodeType!==void 0?"dom":a._isAMomentObject===!0?"moment":"object":u==="number"?"number":u==="boolean"?"boolean":u==="string"?"string":u===void 0?"undefined":u}},{key:"getSuggestion",value:function(a,u,n){var s=i.findInOptions(a,u,n,!1),l=i.findInOptions(a,f,[],!0),g=8,T=4,O=void 0;s.indexMatch!==void 0?O=" in "+i.printLocation(s.path,a,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:l.distance<=T&&s.distance>l.distance?O=" in "+i.printLocation(s.path,a,"")+"Perhaps it was misplaced? Matching option found at: "+i.printLocation(l.path,l.closestMatch,""):s.distance<=g?O='. Did you mean "'+s.closestMatch+'"?'+i.printLocation(s.path,a):O=". Did you mean one of these: "+i.print((0,E.default)(u))+i.printLocation(n,a),console.log('%cUnknown option detected: "'+a+'"'+O,e),o=!0}},{key:"findInOptions",value:function(a,u,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=1e9,g="",T=[],O=a.toLowerCase(),P=void 0;for(var _ in u){var R=void 0;if(u[_].__type__!==void 0&&s===!0){var I=i.findInOptions(a,u[_],h.copyAndExtendArray(n,_));l>I.distance&&(g=I.closestMatch,T=I.path,l=I.distance,P=I.indexMatch)}else _.toLowerCase().indexOf(O)!==-1&&(P=_),R=i.levenshteinDistance(a,_),l>R&&(g=_,T=h.copyArray(n),l=R)}return{closestMatch:g,path:T,distance:l,indexMatch:P}}},{key:"printLocation",value:function(a,u){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,s=`

`+n+`options = {
`,l=0;l<a.length;l++){for(var g=0;g<l+1;g++)s+="  ";s+=a[l]+`: {
`}for(var T=0;T<a.length+1;T++)s+="  ";s+=u+`
`;for(var O=0;O<a.length+1;O++){for(var P=0;P<a.length-O;P++)s+="  ";s+=`}
`}return s+`

`}},{key:"print",value:function(a){return(0,c.default)(a).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(a,u){if(a.length===0)return u.length;if(u.length===0)return a.length;var n=[],s;for(s=0;s<=u.length;s++)n[s]=[s];var l;for(l=0;l<=a.length;l++)n[0][l]=l;for(s=1;s<=u.length;s++)for(l=1;l<=a.length;l++)u.charAt(s-1)==a.charAt(l-1)?n[s][l]=n[s-1][l-1]:n[s][l]=Math.min(n[s-1][l-1]+1,Math.min(n[s][l-1]+1,n[s-1][l]+1));return n[u.length][a.length]}}]),i}();k.default=r,k.printStyle=e},function(L,k,p){"use strict";var D=p(2);function c(b,x){this.options=null,this.props=null}c.prototype.setOptions=function(b){b&&D.extend(this.options,b)},c.prototype.redraw=function(){return!1},c.prototype.destroy=function(){},c.prototype._isResized=function(){var b=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,b},L.exports=c},function(L,k,p){var D=p(18),c=p(7),b=p(80),x=p(26),C="prototype",E=function(y,S,m){var v=y&E.F,d=y&E.G,h=y&E.S,o=y&E.P,f=y&E.B,e=y&E.W,r=d?c:c[S]||(c[S]={}),i=r[C],t=d?D:h?D[S]:(D[S]||{})[C],a,u,n;d&&(m=S);for(a in m)u=!v&&t&&t[a]!==void 0,!(u&&a in r)&&(n=u?t[a]:m[a],r[a]=d&&typeof t[a]!="function"?m[a]:f&&u?b(n,D):e&&t[a]==n?function(s){var l=function(g,T,O){if(this instanceof s){switch(arguments.length){case 0:return new s;case 1:return new s(g);case 2:return new s(g,T)}return new s(g,T,O)}return s.apply(this,arguments)};return l[C]=s[C],l}(n):o&&typeof n=="function"?b(Function.call,n):n,o&&((r.virtual||(r.virtual={}))[a]=n,y&E.R&&i&&!i[a]&&x(i,a,n)))};E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,L.exports=E},function(L,k){var p=L.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=p)},function(L,k,p){L.exports={default:p(160),__esModule:!0}},function(L,k,p){var D=p(27),c=p(81),b=p(53),x=Object.defineProperty;k.f=p(21)?Object.defineProperty:function(E,y,S){if(D(E),y=b(y,!0),D(S),c)try{return x(E,y,S)}catch{}if("get"in S||"set"in S)throw TypeError("Accessors not supported!");return"value"in S&&(E[y]=S.value),E}},function(L,k,p){L.exports=!p(28)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(L,k){var p={}.hasOwnProperty;L.exports=function(D,c){return p.call(D,c)}},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(6),c=y(D),b=p(0),x=y(b),C=p(1),E=y(C);function y(m){return m&&m.__esModule?m:{default:m}}var S=function(){function m(v,d,h){(0,x.default)(this,m),this.body=d,this.labelModule=h,this.setOptions(v),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,E.default)(m,[{key:"setOptions",value:function(d){this.options=d}},{key:"_setMargins",value:function(d){this.margin={},this.options.margin&&((0,c.default)(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),d.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(d,h){var o=this.options.borderWidth;return this.resize(d),Math.min(Math.abs(this.width/2/Math.cos(h)),Math.abs(this.height/2/Math.sin(h)))+o}},{key:"enableShadow",value:function(d,h){h.shadow&&(d.shadowColor=h.shadowColor,d.shadowBlur=h.shadowSize,d.shadowOffsetX=h.shadowX,d.shadowOffsetY=h.shadowY)}},{key:"disableShadow",value:function(d,h){h.shadow&&(d.shadowColor="rgba(0,0,0,0)",d.shadowBlur=0,d.shadowOffsetX=0,d.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(d,h){if(h.borderDashes!==!1)if(d.setLineDash!==void 0){var o=h.borderDashes;o===!0&&(o=[5,15]),d.setLineDash(o)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,h.borderDashes=!1}},{key:"disableBorderDashes",value:function(d,h){h.borderDashes!==!1&&(d.setLineDash!==void 0?d.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,h.borderDashes=!1))}},{key:"needsRefresh",value:function(d,h){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(d,h)}},{key:"initContextForDraw",value:function(d,h){var o=h.borderWidth/this.body.view.scale;d.lineWidth=Math.min(this.width,o),d.strokeStyle=h.borderColor,d.fillStyle=h.color}},{key:"performStroke",value:function(d,h){var o=h.borderWidth/this.body.view.scale;d.save(),o>0&&(this.enableBorderDashes(d,h),d.stroke(),this.disableBorderDashes(d,h)),d.restore()}},{key:"performFill",value:function(d,h){this.enableShadow(d,h),d.fill(),this.disableShadow(d,h),this.performStroke(d,h)}},{key:"_addBoundingBoxMargin",value:function(d){this.boundingBox.left-=d,this.boundingBox.top-=d,this.boundingBox.bottom+=d,this.boundingBox.right+=d}},{key:"_updateBoundingBox",value:function(d,h,o,f,e){o!==void 0&&this.resize(o,f,e),this.left=d-this.width/2,this.top=h-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(d,h,o,f,e){this._updateBoundingBox(d,h,o,f,e)}},{key:"getDimensionsFromLabel",value:function(d,h,o){this.textSize=this.labelModule.getTextSize(d,h,o);var f=this.textSize.width,e=this.textSize.height,r=14;return f===0&&(f=r,e=r),{width:f,height:e}}}]),m}();k.default=S},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(23),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"resize",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(a,u)){this.labelModule.getTextSize(t,a,u);var s=2*n.size;this.width=s,this.height=s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,a,u,n,s,l,g,T){if(this.resize(t,l,g,T),this.left=n-this.width/2,this.top=s-this.height/2,this.initContextForDraw(t,T),t[a](n,s,T.size),this.performFill(t,T),this.options.label!==void 0){this.labelModule.calculateLabelSize(t,l,g,n,s,"hanging");var O=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,n,O,l,g,"hanging")}this.updateBoundingBox(n,s)}},{key:"updateBoundingBox",value:function(t,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=a+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),r}(h.default);k.default=f},function(L,k,p){var D=p(78),c=p(51);L.exports=function(b){return D(c(b))}},function(L,k,p){var D=p(20),c=p(39);L.exports=p(21)?function(b,x,C){return D.f(b,x,c(1,C))}:function(b,x,C){return b[x]=C,b}},function(L,k,p){var D=p(32);L.exports=function(c){if(!D(c))throw TypeError(c+" is not an object!");return c}},function(L,k){L.exports=function(p){try{return!!p()}catch{return!0}}},function(L,k,p){L.exports={default:p(138),__esModule:!0}},function(L,k,p){"use strict";k.__esModule=!0;var D=p(188),c=C(D),b=p(77),x=C(b);function C(E){return E&&E.__esModule?E:{default:E}}k.default=function(){function E(y,S){var m=[],v=!0,d=!1,h=void 0;try{for(var o=(0,x.default)(y),f;!(v=(f=o.next()).done)&&(m.push(f.value),!(S&&m.length===S));v=!0);}catch(e){d=!0,h=e}finally{try{!v&&o.return&&o.return()}finally{if(d)throw h}}return m}return function(y,S){if(Array.isArray(y))return y;if((0,c.default)(Object(y)))return E(y,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(L,k){L.exports={}},function(L,k){L.exports=function(p){return typeof p=="object"?p!==null:typeof p=="function"}},function(L,k,p){var D=p(84),c=p(58);L.exports=Object.keys||function(x){return D(x,c)}},function(L,k,p){"use strict";function D(c,b,x){this.x=c!==void 0?c:0,this.y=b!==void 0?b:0,this.z=x!==void 0?x:0}D.subtract=function(c,b){var x=new D;return x.x=c.x-b.x,x.y=c.y-b.y,x.z=c.z-b.z,x},D.add=function(c,b){var x=new D;return x.x=c.x+b.x,x.y=c.y+b.y,x.z=c.z+b.z,x},D.avg=function(c,b){return new D((c.x+b.x)/2,(c.y+b.y)/2,(c.z+b.z)/2)},D.crossProduct=function(c,b){var x=new D;return x.x=c.y*b.z-c.z*b.y,x.y=c.z*b.x-c.x*b.z,x.z=c.x*b.y-c.y*b.x,x},D.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},L.exports=D},function(L,k,p){"use strict";var D,c,b;(function(x,C){c=[],D=C,b=typeof D=="function"?D.apply(k,c):D,b!==void 0&&(L.exports=b)})(this,function(){function x(C){var E=C&&C.preventDefault||!1,y=C&&C.container||window,S={},m={keydown:{},keyup:{}},v={},d;for(d=97;d<=122;d++)v[String.fromCharCode(d)]={code:65+(d-97),shift:!1};for(d=65;d<=90;d++)v[String.fromCharCode(d)]={code:d,shift:!0};for(d=0;d<=9;d++)v[""+d]={code:48+d,shift:!1};for(d=1;d<=12;d++)v["F"+d]={code:111+d,shift:!1};for(d=0;d<=9;d++)v["num"+d]={code:96+d,shift:!1};v["num*"]={code:106,shift:!1},v["num+"]={code:107,shift:!1},v["num-"]={code:109,shift:!1},v["num/"]={code:111,shift:!1},v["num."]={code:110,shift:!1},v.left={code:37,shift:!1},v.up={code:38,shift:!1},v.right={code:39,shift:!1},v.down={code:40,shift:!1},v.space={code:32,shift:!1},v.enter={code:13,shift:!1},v.shift={code:16,shift:void 0},v.esc={code:27,shift:!1},v.backspace={code:8,shift:!1},v.tab={code:9,shift:!1},v.ctrl={code:17,shift:!1},v.alt={code:18,shift:!1},v.delete={code:46,shift:!1},v.pageup={code:33,shift:!1},v.pagedown={code:34,shift:!1},v["="]={code:187,shift:!1},v["-"]={code:189,shift:!1},v["]"]={code:221,shift:!1},v["["]={code:219,shift:!1};var h=function(e){f(e,"keydown")},o=function(e){f(e,"keyup")},f=function(e,r){if(m[r][e.keyCode]!==void 0){for(var i=m[r][e.keyCode],t=0;t<i.length;t++)(i[t].shift===void 0||i[t].shift==!0&&e.shiftKey==!0||i[t].shift==!1&&e.shiftKey==!1)&&i[t].fn(e);E==!0&&e.preventDefault()}};return S.bind=function(e,r,i){if(i===void 0&&(i="keydown"),v[e]===void 0)throw new Error("unsupported key: "+e);m[i][v[e].code]===void 0&&(m[i][v[e].code]=[]),m[i][v[e].code].push({fn:r,shift:v[e].shift})},S.bindAll=function(e,r){r===void 0&&(r="keydown");for(var i in v)v.hasOwnProperty(i)&&S.bind(i,e,r)},S.getKey=function(e){for(var r in v)if(v.hasOwnProperty(r)){if(e.shiftKey==!0&&v[r].shift==!0&&e.keyCode==v[r].code)return r;if(e.shiftKey==!1&&v[r].shift==!1&&e.keyCode==v[r].code)return r;if(e.keyCode==v[r].code&&r=="shift")return r}return"unknown key, currently not supported"},S.unbind=function(e,r,i){if(i===void 0&&(i="keydown"),v[e]===void 0)throw new Error("unsupported key: "+e);if(r!==void 0){var t=[],a=m[i][v[e].code];if(a!==void 0)for(var u=0;u<a.length;u++)a[u].fn==r&&a[u].shift==v[e].shift||t.push(m[i][v[e].code][u]);m[i][v[e].code]=t}else m[i][v[e].code]=[]},S.reset=function(){m={keydown:{},keyup:{}}},S.destroy=function(){m={keydown:{},keyup:{}},y.removeEventListener("keydown",h,!0),y.removeEventListener("keyup",o,!0)},y.addEventListener("keydown",h,!0),y.addEventListener("keyup",o,!0),S}return x})},function(L,k,p){"use strict";k.convertHiddenOptions=function(D,c,b){if(b&&!Array.isArray(b))return k.convertHiddenOptions(D,c,[b]);if(c.hiddenDates=[],b&&Array.isArray(b)==!0){for(var x=0;x<b.length;x++)if(b[x].repeat===void 0){var C={};C.start=D(b[x].start).toDate().valueOf(),C.end=D(b[x].end).toDate().valueOf(),c.hiddenDates.push(C)}c.hiddenDates.sort(function(E,y){return E.start-y.start})}},k.updateHiddenDates=function(D,c,b){if(b&&!Array.isArray(b))return k.updateHiddenDates(D,c,[b]);if(b&&c.domProps.centerContainer.width!==void 0){k.convertHiddenOptions(D,c,b);for(var x=D(c.range.start),C=D(c.range.end),E=c.range.end-c.range.start,y=E/c.domProps.centerContainer.width,S=0;S<b.length;S++)if(b[S].repeat!==void 0){var m=D(b[S].start),v=D(b[S].end);if(m._d=="Invalid Date")throw new Error("Supplied start date is not valid: "+b[S].start);if(v._d=="Invalid Date")throw new Error("Supplied end date is not valid: "+b[S].end);var d=v-m;if(d>=4*y){var h=0,o=C.clone();switch(b[S].repeat){case"daily":m.day()!=v.day()&&(h=1),m.dayOfYear(x.dayOfYear()),m.year(x.year()),m.subtract(7,"days"),v.dayOfYear(x.dayOfYear()),v.year(x.year()),v.subtract(7-h,"days"),o.add(1,"weeks");break;case"weekly":var f=v.diff(m,"days"),e=m.day();m.date(x.date()),m.month(x.month()),m.year(x.year()),v=m.clone(),m.day(e),v.day(e),v.add(f,"days"),m.subtract(1,"weeks"),v.subtract(1,"weeks"),o.add(1,"weeks");break;case"monthly":m.month()!=v.month()&&(h=1),m.month(x.month()),m.year(x.year()),m.subtract(1,"months"),v.month(x.month()),v.year(x.year()),v.subtract(1,"months"),v.add(h,"months"),o.add(1,"months");break;case"yearly":m.year()!=v.year()&&(h=1),m.year(x.year()),m.subtract(1,"years"),v.year(x.year()),v.subtract(1,"years"),v.add(h,"years"),o.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",b[S].repeat);return}for(;m<o;)switch(c.hiddenDates.push({start:m.valueOf(),end:v.valueOf()}),b[S].repeat){case"daily":m.add(1,"days"),v.add(1,"days");break;case"weekly":m.add(1,"weeks"),v.add(1,"weeks");break;case"monthly":m.add(1,"months"),v.add(1,"months");break;case"yearly":m.add(1,"y"),v.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",b[S].repeat);return}c.hiddenDates.push({start:m.valueOf(),end:v.valueOf()})}}k.removeDuplicates(c);var r=k.isHidden(c.range.start,c.hiddenDates),i=k.isHidden(c.range.end,c.hiddenDates),t=c.range.start,a=c.range.end;r.hidden==!0&&(t=c.range.startToFront==!0?r.startDate-1:r.endDate+1),i.hidden==!0&&(a=c.range.endToFront==!0?i.startDate-1:i.endDate+1),(r.hidden==!0||i.hidden==!0)&&c.range._applyRange(t,a)}},k.removeDuplicates=function(D){for(var c=D.hiddenDates,b=[],x=0;x<c.length;x++)for(var C=0;C<c.length;C++)x!=C&&c[C].remove!=!0&&c[x].remove!=!0&&(c[C].start>=c[x].start&&c[C].end<=c[x].end?c[C].remove=!0:c[C].start>=c[x].start&&c[C].start<=c[x].end?(c[x].end=c[C].end,c[C].remove=!0):c[C].end>=c[x].start&&c[C].end<=c[x].end&&(c[x].start=c[C].start,c[C].remove=!0));for(x=0;x<c.length;x++)c[x].remove!==!0&&b.push(c[x]);D.hiddenDates=b,D.hiddenDates.sort(function(E,y){return E.start-y.start})},k.printDates=function(D){for(var c=0;c<D.length;c++)console.log(c,new Date(D[c].start),new Date(D[c].end),D[c].start,D[c].end,D[c].remove)},k.stepOverHiddenDates=function(D,c,b){for(var x=!1,C=c.current.valueOf(),E=0;E<c.hiddenDates.length;E++){var y=c.hiddenDates[E].start,S=c.hiddenDates[E].end;if(C>=y&&C<S){x=!0;break}}if(x==!0&&C<c._end.valueOf()&&C!=b){var m=D(b),v=D(S);m.year()!=v.year()?c.switchedYear=!0:m.month()!=v.month()?c.switchedMonth=!0:m.dayOfYear()!=v.dayOfYear()&&(c.switchedDay=!0),c.current=v}},k.toScreen=function(D,c,b){var x;if(D.body.hiddenDates.length==0)return x=D.range.conversion(b),(c.valueOf()-x.offset)*x.scale;var C=k.isHidden(c,D.body.hiddenDates);C.hidden==!0&&(c=C.startDate);var E=k.getHiddenDurationBetween(D.body.hiddenDates,D.range.start,D.range.end);if(c<D.range.start){x=D.range.conversion(b,E);var y=k.getHiddenDurationBeforeStart(D.body.hiddenDates,c,x.offset);return c=D.options.moment(c).toDate().valueOf(),c=c+y,-(x.offset-c.valueOf())*x.scale}else if(c>D.range.end){var S={start:D.range.start,end:c};return c=k.correctTimeForHidden(D.options.moment,D.body.hiddenDates,S,c),x=D.range.conversion(b,E),(c.valueOf()-x.offset)*x.scale}else return c=k.correctTimeForHidden(D.options.moment,D.body.hiddenDates,D.range,c),x=D.range.conversion(b,E),(c.valueOf()-x.offset)*x.scale},k.toTime=function(D,c,b){if(D.body.hiddenDates.length==0){var x=D.range.conversion(b);return new Date(c/x.scale+x.offset)}else{var C=k.getHiddenDurationBetween(D.body.hiddenDates,D.range.start,D.range.end),E=D.range.end-D.range.start-C,y=E*c/b,S=k.getAccumulatedHiddenDuration(D.body.hiddenDates,D.range,y);return new Date(S+y+D.range.start)}},k.getHiddenDurationBetween=function(D,c,b){for(var x=0,C=0;C<D.length;C++){var E=D[C].start,y=D[C].end;E>=c&&y<b&&(x+=y-E)}return x},k.getHiddenDurationBeforeStart=function(D,c,b){for(var x=0,C=0;C<D.length;C++){var E=D[C].start,y=D[C].end;E>=c&&y<=b&&(x+=y-E)}return x},k.correctTimeForHidden=function(D,c,b,x){return x=D(x).toDate().valueOf(),x-=k.getHiddenDurationBefore(D,c,b,x),x},k.getHiddenDurationBefore=function(D,c,b,x){var C=0;x=D(x).toDate().valueOf();for(var E=0;E<c.length;E++){var y=c[E].start,S=c[E].end;y>=b.start&&S<b.end&&x>=S&&(C+=S-y)}return C},k.getAccumulatedHiddenDuration=function(D,c,b){for(var x=0,C=0,E=c.start,y=0;y<D.length;y++){var S=D[y].start,m=D[y].end;if(S>=c.start&&m<c.end){if(C+=S-E,E=m,C>=b)break;x+=m-S}}return x},k.snapAwayFromHidden=function(D,c,b,x){var C=k.isHidden(c,D);return C.hidden==!0?b<0?x==!0?C.startDate-(C.endDate-c)-1:C.startDate-1:x==!0?C.endDate+(c-C.startDate)+1:C.endDate+1:c},k.isHidden=function(D,c){for(var b=0;b<c.length;b++){var x=c[b].start,C=c[b].end;if(D>=x&&D<C)return{hidden:!0,startDate:x,endDate:C}}return{hidden:!1,startDate:x,endDate:C}}},function(L,k,p){"use strict";k.onTouch=function(D,c){c.inputHandler=function(b){b.isFirst&&c(b)},D.on("hammer.input",c.inputHandler)},k.onRelease=function(D,c){return c.inputHandler=function(b){b.isFinal&&c(b)},D.on("hammer.input",c.inputHandler)},k.offTouch=function(D,c){D.off("hammer.input",c.inputHandler)},k.offRelease=k.offTouch,k.disablePreventDefaultVertically=function(D){var c="pan-y";return D.getTouchAction=function(){return[c]},D}},function(L,k,p){"use strict";var D=p(6),c=C(D),b=p(8),x=C(b);function C(v){return v&&v.__esModule?v:{default:v}}var E=p(10),y=p(2),S=p(9);function m(v,d,h){this.id=null,this.parent=null,this.data=v,this.dom=null,this.conversion=d||{},this.options=h||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}m.prototype.stack=!0,m.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},m.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},m.prototype.setData=function(v){var d=v.group!=null&&this.data.group!=v.group;d&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,v.group),this.parent&&(this.parent.stackDirty=!0);var h=v.subgroup!=null&&this.data.subgroup!=v.subgroup;h&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,v.subgroup),this.data=v,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},m.prototype.setParent=function(v){this.displayed?(this.hide(),this.parent=v,this.parent&&this.show()):this.parent=v},m.prototype.isVisible=function(v){return!1},m.prototype.show=function(){return!1},m.prototype.hide=function(){return!1},m.prototype.redraw=function(){},m.prototype.repositionX=function(){},m.prototype.repositionY=function(){},m.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var v=this,d=document.createElement("div");d.className="vis-drag-center",d.dragCenterItem=this;var h=new E(d);h.on("tap",function(o){v.parent.itemSet.body.emitter.emit("click",{event:o,item:v.id})}),h.on("doubletap",function(o){o.stopPropagation(),v.parent.itemSet._onUpdateItem(v),v.parent.itemSet.body.emitter.emit("doubleClick",{event:o,item:v.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(d,this.dom.dragLeft):this.dom.box.appendChild(d):this.dom.point&&this.dom.point.appendChild(d),this.dom.dragCenter=d}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},m.prototype._repaintDeleteButton=function(v){var d=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&d&&!this.dom.deleteButton){var h=this,o=document.createElement("div");this.options.rtl?o.className="vis-delete-rtl":o.className="vis-delete",o.title="Delete this item",new E(o).on("tap",function(f){f.stopPropagation(),h.parent.removeFromDataSet(h)}),v.appendChild(o),this.dom.deleteButton=o}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},m.prototype._repaintOnItemUpdateTimeTooltip=function(v){if(this.options.tooltipOnItemUpdateTime){var d=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&d&&!this.dom.onItemUpdateTimeTooltip){var h=document.createElement("div");h.className="vis-onUpdateTime-tooltip",v.appendChild(h),this.dom.onItemUpdateTimeTooltip=h}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var o=50,f=this.parent.itemSet.body.domProps.scrollTop,e;this.options.orientation.item=="top"?e=this.top:e=this.parent.height-this.top-this.height;var r=e+this.parent.top-o<-f;r?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px");var i,t;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(t=this.options.tooltipOnItemUpdateTime.template.bind(this),i=t(this.data)):(i="start: "+S(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(i+="<br> end: "+S(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=i}}},m.prototype._updateContents=function(v){var d,h,o,f,e,r=this.parent.itemSet.itemsData.get(this.id),i=this.dom.box||this.dom.point,t=i.getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(e=this.options.visibleFrameTemplate.bind(this),f=e(r,i)):f="",t){if(f instanceof Object&&!(f instanceof Element))e(r,t);else if(h=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(f),h){if(f instanceof Element)t.innerHTML="",t.appendChild(f);else if(f!=null)t.innerHTML=f;else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=f}}if(this.options.template?(o=this.options.template.bind(this),d=o(r,v,this.data)):d=this.data.content,d instanceof Object&&!(d instanceof Element))o(r,v);else if(h=this._contentToString(this.content)!==this._contentToString(d),h){if(d instanceof Element)v.innerHTML="",v.appendChild(d);else if(d!=null)v.innerHTML=d;else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '+this.id);this.content=d}},m.prototype._updateDataAttributes=function(v){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var d=[];if(Array.isArray(this.options.dataAttributes))d=this.options.dataAttributes;else if(this.options.dataAttributes=="all")d=(0,x.default)(this.data);else return;for(var h=0;h<d.length;h++){var o=d[h],f=this.data[o];f!=null?v.setAttribute("data-"+o,f):v.removeAttribute("data-"+o)}}},m.prototype._updateStyle=function(v){this.style&&(y.removeCssText(v,this.style),this.style=null),this.data.style&&(y.addCssText(v,this.data.style),this.style=this.data.style)},m.prototype._contentToString=function(v){return typeof v=="string"?v:v&&"outerHTML"in v?v.outerHTML:v},m.prototype._updateEditStatus=function(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:(0,c.default)(this.options.editable)==="object"&&(this.editable={},y.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:(0,c.default)(this.data.editable)==="object"&&(this.editable={},y.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},m.prototype.getWidthLeft=function(){return 0},m.prototype.getWidthRight=function(){return 0},m.prototype.getTitle=function(){return this.data.title},L.exports=m},function(L,k){L.exports=function(p,D){return{enumerable:!(p&1),configurable:!(p&2),writable:!(p&4),value:D}}},function(L,k){var p=0,D=Math.random();L.exports=function(c){return"Symbol(".concat(c===void 0?"":c,")_",(++p+D).toString(36))}},function(L,k,p){var D=p(51);L.exports=function(c){return Object(D(c))}},function(L,k){k.f={}.propertyIsEnumerable},function(L,k,p){"use strict";function D(c){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(c)}D.prototype.setOptions=function(c){c&&typeof c.delay<"u"&&(this.delay=c.delay),c&&typeof c.max<"u"&&(this.max=c.max),this._flushIfNeeded()},D.extend=function(c,b){var x=new D(b);if(c.flush!==void 0)throw new Error("Target object already has a property flush");c.flush=function(){x.flush()};var C=[{name:"flush",original:void 0}];if(b&&b.replace)for(var E=0;E<b.replace.length;E++){var y=b.replace[E];C.push({name:y,original:c[y]}),x.replace(c,y)}return x._extended={object:c,methods:C},x},D.prototype.destroy=function(){if(this.flush(),this._extended){for(var c=this._extended.object,b=this._extended.methods,x=0;x<b.length;x++){var C=b[x];C.original?c[C.name]=C.original:delete c[C.name]}this._extended=null}},D.prototype.replace=function(c,b){var x=this,C=c[b];if(!C)throw new Error("Method "+b+" undefined");c[b]=function(){for(var E=[],y=0;y<arguments.length;y++)E[y]=arguments[y];x.queue({args:E,fn:C,context:this})}},D.prototype.queue=function(c){typeof c=="function"?this._queue.push({fn:c}):this._queue.push(c),this._flushIfNeeded()},D.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&typeof this.delay=="number"){var c=this;this._timeout=setTimeout(function(){c.flush()},this.delay)}},D.prototype.flush=function(){for(;this._queue.length>0;){var c=this._queue.shift();c.fn.apply(c.context||c.fn,c.args||[])}},L.exports=D},function(L,k){L.exports=p;function p(c){if(c)return D(c)}function D(c){for(var b in p.prototype)c[b]=p.prototype[b];return c}p.prototype.on=p.prototype.addEventListener=function(c,b){return this._callbacks=this._callbacks||{},(this._callbacks[c]=this._callbacks[c]||[]).push(b),this},p.prototype.once=function(c,b){var x=this;this._callbacks=this._callbacks||{};function C(){x.off(c,C),b.apply(this,arguments)}return C.fn=b,this.on(c,C),this},p.prototype.off=p.prototype.removeListener=p.prototype.removeAllListeners=p.prototype.removeEventListener=function(c,b){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var x=this._callbacks[c];if(!x)return this;if(arguments.length==1)return delete this._callbacks[c],this;for(var C,E=0;E<x.length;E++)if(C=x[E],C===b||C.fn===b){x.splice(E,1);break}return this},p.prototype.emit=function(c){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),x=this._callbacks[c];if(x){x=x.slice(0);for(var C=0,E=x.length;C<E;++C)x[C].apply(this,b)}return this},p.prototype.listeners=function(c){return this._callbacks=this._callbacks||{},this._callbacks[c]||[]},p.prototype.hasListeners=function(c){return!!this.listeners(c).length}},function(L,k,p){"use strict";var D=p(6),c=b(D);function b(d){return d&&d.__esModule?d:{default:d}}var x=p(2),C=p(16),E=p(66),y=p(36),S=p(9);function m(d,h){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:E.FORMAT,moment:S,timeAxis:null},this.options=x.extend({},this.defaultOptions),this.body=d,this._create(),this.setOptions(h)}m.prototype=new C,m.prototype.setOptions=function(d){d&&(x.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,d),x.selectiveDeepExtend(["format"],this.options,d),"orientation"in d&&(typeof d.orientation=="string"?this.options.orientation.axis=d.orientation:(0,c.default)(d.orientation)==="object"&&"axis"in d.orientation&&(this.options.orientation.axis=d.orientation.axis)),"locale"in d&&(typeof S.locale=="function"?S.locale(d.locale):S.lang(d.locale)))},m.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},m.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},m.prototype.redraw=function(){var d=this.props,h=this.dom.foreground,o=this.dom.background,f=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,e=h.parentNode!==f;this._calculateCharSize();var r=this.options.showMinorLabels&&this.options.orientation.axis!=="none",i=this.options.showMajorLabels&&this.options.orientation.axis!=="none";d.minorLabelHeight=r?d.minorCharHeight:0,d.majorLabelHeight=i?d.majorCharHeight:0,d.height=d.minorLabelHeight+d.majorLabelHeight,d.width=h.offsetWidth,d.minorLineHeight=this.body.domProps.root.height-d.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),d.minorLineWidth=1,d.majorLineHeight=d.minorLineHeight+d.majorLabelHeight,d.majorLineWidth=1;var t=h.nextSibling,a=o.nextSibling;return h.parentNode&&h.parentNode.removeChild(h),o.parentNode&&o.parentNode.removeChild(o),h.style.height=this.props.height+"px",this._repaintLabels(),t?f.insertBefore(h,t):f.appendChild(h),a?this.body.dom.backgroundVertical.insertBefore(o,a):this.body.dom.backgroundVertical.appendChild(o),this._isResized()||e},m.prototype._repaintLabels=function(){var d=this.options.orientation.axis,h=x.convert(this.body.range.start,"Number"),o=x.convert(this.body.range.end,"Number"),f=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),e=f-y.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,f);e-=this.body.util.toTime(0).valueOf();var r=new E(new Date(h),new Date(o),e,this.body.hiddenDates,this.options);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;var i=this.dom;i.redundant.lines=i.lines,i.redundant.majorTexts=i.majorTexts,i.redundant.minorTexts=i.minorTexts,i.lines=[],i.majorTexts=[],i.minorTexts=[];var t,a,u,n,s,l,g,T=0,O,P,_,R=void 0,I=0,F=1e3,W;for(r.start(),a=r.getCurrent(),n=this.body.util.toScreen(a);r.hasNext()&&I<F;){switch(I++,s=r.isMajor(),W=r.getClassName(),_=r.getLabelMinor(),t=a,u=n,r.next(),a=r.getCurrent(),l=r.isMajor(),n=this.body.util.toScreen(a),O=T,T=n-u,r.scale){case"week":g=!0;break;default:g=T>=O*.4;break}if(this.options.showMinorLabels&&g){var Y=this._repaintMinorText(u,_,d,W);Y.style.width=T+"px"}s&&this.options.showMajorLabels?(u>0&&(R==null&&(R=u),Y=this._repaintMajorText(u,r.getLabelMajor(),d,W)),P=this._repaintMajorLine(u,T,d,W)):g?P=this._repaintMinorLine(u,T,d,W):P&&(P.style.width=parseInt(P.style.width)+T+"px")}if(I===F&&!v&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+F+" lines."),v=!0),this.options.showMajorLabels){var X=this.body.util.toTime(0),q=r.getLabelMajor(X),Q=q.length*(this.props.majorCharWidth||10)+10;(R==null||Q<R)&&this._repaintMajorText(0,q,d,W)}x.forEach(this.dom.redundant,function(J){for(;J.length;){var j=J.pop();j&&j.parentNode&&j.parentNode.removeChild(j)}})},m.prototype._repaintMinorText=function(d,h,o,f){var e=this.dom.redundant.minorTexts.shift();if(!e){var r=document.createTextNode("");e=document.createElement("div"),e.appendChild(r),this.dom.foreground.appendChild(e)}return this.dom.minorTexts.push(e),e.innerHTML=h,e.style.top=o=="top"?this.props.majorLabelHeight+"px":"0",this.options.rtl?(e.style.left="",e.style.right=d+"px"):e.style.left=d+"px",e.className="vis-text vis-minor "+f,e},m.prototype._repaintMajorText=function(d,h,o,f){var e=this.dom.redundant.majorTexts.shift();if(!e){var r=document.createElement("div");e=document.createElement("div"),e.appendChild(r),this.dom.foreground.appendChild(e)}return e.childNodes[0].innerHTML=h,e.className="vis-text vis-major "+f,e.style.top=o=="top"?"0":this.props.minorLabelHeight+"px",this.options.rtl?(e.style.left="",e.style.right=d+"px"):e.style.left=d+"px",this.dom.majorTexts.push(e),e},m.prototype._repaintMinorLine=function(d,h,o,f){var e=this.dom.redundant.lines.shift();e||(e=document.createElement("div"),this.dom.background.appendChild(e)),this.dom.lines.push(e);var r=this.props;return o=="top"?e.style.top=r.majorLabelHeight+"px":e.style.top=this.body.domProps.top.height+"px",e.style.height=r.minorLineHeight+"px",this.options.rtl?(e.style.left="",e.style.right=d-r.minorLineWidth/2+"px",e.className="vis-grid vis-vertical-rtl vis-minor "+f):(e.style.left=d-r.minorLineWidth/2+"px",e.className="vis-grid vis-vertical vis-minor "+f),e.style.width=h+"px",e},m.prototype._repaintMajorLine=function(d,h,o,f){var e=this.dom.redundant.lines.shift();e||(e=document.createElement("div"),this.dom.background.appendChild(e)),this.dom.lines.push(e);var r=this.props;return o=="top"?e.style.top="0":e.style.top=this.body.domProps.top.height+"px",this.options.rtl?(e.style.left="",e.style.right=d-r.majorLineWidth/2+"px",e.className="vis-grid vis-vertical-rtl vis-major "+f):(e.style.left=d-r.majorLineWidth/2+"px",e.className="vis-grid vis-vertical vis-major "+f),e.style.height=r.majorLineHeight+"px",e.style.width=h+"px",e},m.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var v=!1;L.exports=m},function(L,k,p){"use strict";var D=p(10),c=p(2),b=p(16),x=p(9),C=p(98);function E(y,S){this.body=y,this.defaultOptions={moment:x,locales:C,locale:"en",id:void 0,title:void 0},this.options=c.extend({},this.defaultOptions),S&&S.time?this.customTime=S.time:this.customTime=new Date,this.eventParams={},this.setOptions(S),this._create()}E.prototype=new b,E.prototype.setOptions=function(y){y&&c.selectiveExtend(["moment","locale","locales","id"],this.options,y)},E.prototype._create=function(){var y=document.createElement("div");y["custom-time"]=this,y.className="vis-custom-time "+(this.options.id||""),y.style.position="absolute",y.style.top="0px",y.style.height="100%",this.bar=y;var S=document.createElement("div");S.style.position="relative",S.style.top="0px",S.style.left="-10px",S.style.height="100%",S.style.width="20px";function m(v){this.body.range._onMouseWheel(v)}S.addEventListener?(S.addEventListener("mousewheel",m.bind(this),!1),S.addEventListener("DOMMouseScroll",m.bind(this),!1)):S.attachEvent("onmousewheel",m.bind(this)),y.appendChild(S),this.hammer=new D(S),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:D.DIRECTION_HORIZONTAL})},E.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},E.prototype.redraw=function(){var y=this.body.dom.backgroundVertical;this.bar.parentNode!=y&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),y.appendChild(this.bar));var S=this.body.util.toScreen(this.customTime),m=this.options.locales[this.options.locale];m||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),m=this.options.locales.en);var v=this.options.title;return v===void 0?(v=m.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),v=v.charAt(0).toUpperCase()+v.substring(1)):typeof v=="function"&&(v=v.call(this.customTime)),this.bar.style.left=S+"px",this.bar.title=v,!1},E.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},E.prototype.setCustomTime=function(y){this.customTime=c.convert(y,"Date"),this.redraw()},E.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},E.prototype.setCustomTitle=function(y){this.options.title=y},E.prototype._onDragStart=function(y){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,y.stopPropagation()},E.prototype._onDrag=function(y){if(this.eventParams.dragging){var S=this.body.util.toScreen(this.eventParams.customTime)+y.deltaX,m=this.body.util.toTime(S);this.setCustomTime(m),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:y}),y.stopPropagation()}},E.prototype._onDragEnd=function(y){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:y}),y.stopPropagation())},E.customTimeFromTarget=function(y){for(var S=y.target;S;){if(S.hasOwnProperty("custom-time"))return S["custom-time"];S=S.parentNode}return null},L.exports=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(P){return P&&P.__esModule?P:{default:P}}var E=p(2),y=p(117).default,S=p(48).default,m=p(193).default,v=p(200).default,d=p(201).default,h=p(202).default,o=p(203).default,f=p(204).default,e=p(205).default,r=p(206).default,i=p(207).default,t=p(208).default,a=p(209).default,u=p(210).default,n=p(211).default,s=p(212).default,l=p(213).default,g=p(15),T=g.printStyle,O=function(){function P(_,R,I,F,W,Y){(0,c.default)(this,P),this.options=E.bridgeObject(W),this.globalOptions=W,this.defaultOptions=Y,this.body=R,this.edges=[],this.id=void 0,this.imagelist=I,this.grouplist=F,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new y(this.body,this.options,!1),this.setOptions(_)}return(0,x.default)(P,[{key:"attachEdge",value:function(R){this.edges.indexOf(R)===-1&&this.edges.push(R)}},{key:"detachEdge",value:function(R){var I=this.edges.indexOf(R);I!=-1&&this.edges.splice(I,1)}},{key:"setOptions",value:function(R){var I=this.options.shape;if(R){if(R.id!==void 0&&(this.id=R.id),this.id===void 0)throw new Error("Node must have an id");P.checkMass(R,this.id),R.x!==void 0&&(R.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(R.x),this.predefinedPosition=!0)),R.y!==void 0&&(R.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(R.y),this.predefinedPosition=!0)),R.size!==void 0&&(this.baseSize=R.size),R.value!==void 0&&(R.value=parseFloat(R.value)),P.parseOptions(this.options,R,!0,this.globalOptions,this.grouplist);var F=[R,this.options,this.defaultOptions];return this.chooser=S.choosify("node",F),this._load_images(),this.updateLabelModule(R),this.updateShape(I),R.hidden!==void 0||R.physics!==void 0}}},{key:"_load_images",value:function(){if(!(this.options.shape!=="circularImage"&&this.options.shape!=="image")){if(this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var R={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?this.chooser===!0?this.selected?(R.borderWidth*=2,R.color=this.options.color.highlight.background,R.borderColor=this.options.color.highlight.border,R.shadow=this.options.shadow.enabled):this.hover&&(R.color=this.options.color.hover.background,R.borderColor=this.options.color.hover.border,R.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(R,this.options.id,this.selected,this.hover),R.shadow===!1&&(R.shadowColor!==this.options.shadow.color||R.shadowSize!==this.options.shadow.size||R.shadowX!==this.options.shadow.x||R.shadowY!==this.options.shadow.y)&&(R.shadow=!0)):R.shadow=this.options.shadow.enabled,R}},{key:"updateLabelModule",value:function(R){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),P.updateGroupOptions(this.options,R,this.grouplist);var I=this.grouplist.get(this.options.group,!1),F=[R,this.options,I,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,F),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(R){if(R===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new m(this.options,this.body,this.labelModule);break;case"circle":this.shape=new v(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new d(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new h(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new o(this.options,this.body,this.labelModule);break;case"dot":this.shape=new f(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new e(this.options,this.body,this.labelModule);break;case"icon":this.shape=new r(this.options,this.body,this.labelModule);break;case"image":this.shape=new i(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new t(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new a(this.options,this.body,this.labelModule);break;case"star":this.shape=new u(this.options,this.body,this.labelModule);break;case"text":this.shape=new n(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new s(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new l(this.options,this.body,this.labelModule);break;default:this.shape=new e(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(R,I){return this.shape.distanceToBorder(R,I)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(R,I,F){if(this.options.value!==void 0){var W=this.options.scaling.customScalingFunction(R,I,F,this.options.value),Y=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var X=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+W*X}this.options.size=this.options.scaling.min+W*Y}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(R){var I=this.getFormattingValues();this.shape.draw(R,this.x,this.y,this.selected,this.hover,I)}},{key:"updateBoundingBox",value:function(R){this.shape.updateBoundingBox(this.x,this.y,R)}},{key:"resize",value:function(R){var I=this.getFormattingValues();this.shape.resize(R,this.selected,this.hover,I)}},{key:"getItemsOnPoint",value:function(R){var I=[];return this.labelModule.visible()&&S.pointInRect(this.labelModule.getSize(),R)&&I.push({nodeId:this.id,labelId:0}),S.pointInRect(this.shape.boundingBox,R)&&I.push({nodeId:this.id}),I}},{key:"isOverlappingWith",value:function(R){return this.shape.left<R.right&&this.shape.left+this.shape.width>R.left&&this.shape.top<R.bottom&&this.shape.top+this.shape.height>R.top}},{key:"isBoundingBoxOverlappingWith",value:function(R){return this.shape.boundingBox.left<R.right&&this.shape.boundingBox.right>R.left&&this.shape.boundingBox.top<R.bottom&&this.shape.boundingBox.bottom>R.top}}],[{key:"updateGroupOptions",value:function(R,I,F){if(F!==void 0){var W=R.group;if(I!==void 0&&I.group!==void 0&&W!==I.group)throw new Error("updateGroupOptions: group values in options don't match.");var Y=typeof W=="number"||typeof W=="string"&&W!="";if(Y){var X=F.get(W);E.selectiveNotDeepExtend(["font"],R,X),R.color=E.parseColor(R.color)}}}},{key:"parseOptions",value:function(R,I){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Y=arguments[4],X=["color","fixed","shadow"];if(E.selectiveNotDeepExtend(X,R,I,F),P.checkMass(I),E.mergeOptions(R,I,"shadow",W),I.color!==void 0&&I.color!==null){var q=E.parseColor(I.color);E.fillIfDefined(R.color,q)}else F===!0&&I.color===null&&(R.color=E.bridgeObject(W.color));I.fixed!==void 0&&I.fixed!==null&&(typeof I.fixed=="boolean"?(R.fixed.x=I.fixed,R.fixed.y=I.fixed):(I.fixed.x!==void 0&&typeof I.fixed.x=="boolean"&&(R.fixed.x=I.fixed.x),I.fixed.y!==void 0&&typeof I.fixed.y=="boolean"&&(R.fixed.y=I.fixed.y))),F===!0&&I.font===null&&(R.font=E.bridgeObject(W.font)),P.updateGroupOptions(R,I,Y),I.scaling!==void 0&&E.mergeOptions(R.scaling,I.scaling,"label",W.scaling)}},{key:"checkMass",value:function(R,I){if(R.mass!==void 0&&R.mass<=0){var F="";I!==void 0&&(F=" in node id: "+I),console.log("%cNegative or zero mass disallowed"+F+", setting mass to 1.",T),R.mass=1}}}]),P}();k.default=O},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(6),c=y(D),b=p(0),x=y(b),C=p(1),E=y(C);function y(v){return v&&v.__esModule?v:{default:v}}var S=p(2),m=function(){function v(){(0,x.default)(this,v)}return(0,E.default)(v,null,[{key:"choosify",value:function(h,o){var f=["node","edge","label"],e=!0,r=S.topMost(o,"chosen");if(typeof r=="boolean")e=r;else if((typeof r>"u"?"undefined":(0,c.default)(r))==="object"){if(f.indexOf(h)===-1)throw new Error("choosify: subOption '"+h+"' should be one of '"+f.join("', '")+"'");var i=S.topMost(o,["chosen",h]);(typeof i=="boolean"||typeof i=="function")&&(e=i)}return e}},{key:"pointInRect",value:function(h,o,f){if(h.width<=0||h.height<=0)return!1;if(f!==void 0){var e={x:o.x-f.x,y:o.y-f.y};if(f.angle!==0){var r=-f.angle,i={x:Math.cos(r)*e.x-Math.sin(r)*e.y,y:Math.sin(r)*e.x+Math.cos(r)*e.y};o=i}else o=e}var t=h.x+h.width,a=h.y+h.width;return h.left<o.x&&t>o.x&&h.top<o.y&&a>o.y}},{key:"isValidLabel",value:function(h){return typeof h=="string"&&h!==""}}]),v}();k.default=m},function(L,k,p){p(125);for(var D=p(18),c=p(26),b=p(31),x=p(13)("toStringTag"),C="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),E=0;E<C.length;E++){var y=C[E],S=D[y],m=S&&S.prototype;m&&!m[x]&&c(m,x,y),b[y]=b.Array}},function(L,k){var p={}.toString;L.exports=function(D){return p.call(D).slice(8,-1)}},function(L,k){L.exports=function(p){if(p==null)throw TypeError("Can't call method on  "+p);return p}},function(L,k){L.exports=!0},function(L,k,p){var D=p(32);L.exports=function(c,b){if(!D(c))return c;var x,C;if(b&&typeof(x=c.toString)=="function"&&!D(C=x.call(c))||typeof(x=c.valueOf)=="function"&&!D(C=x.call(c))||!b&&typeof(x=c.toString)=="function"&&!D(C=x.call(c)))return C;throw TypeError("Can't convert object to primitive value")}},function(L,k,p){var D=p(27),c=p(130),b=p(58),x=p(56)("IE_PROTO"),C=function(){},E="prototype",y=function(){var S=p(82)("iframe"),m=b.length,v="<",d=">",h;for(S.style.display="none",p(134).appendChild(S),S.src="javascript:",h=S.contentWindow.document,h.open(),h.write(v+"script"+d+"document.F=Object"+v+"/script"+d),h.close(),y=h.F;m--;)delete y[E][b[m]];return y()};L.exports=Object.create||function(m,v){var d;return m!==null?(C[E]=D(m),d=new C,C[E]=null,d[x]=m):d=y(),v===void 0?d:c(d,v)}},function(L,k){var p=Math.ceil,D=Math.floor;L.exports=function(c){return isNaN(c=+c)?0:(c>0?D:p)(c)}},function(L,k,p){var D=p(57)("keys"),c=p(40);L.exports=function(b){return D[b]||(D[b]=c(b))}},function(L,k,p){var D=p(18),c="__core-js_shared__",b=D[c]||(D[c]={});L.exports=function(x){return b[x]||(b[x]={})}},function(L,k){L.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(L,k,p){var D=p(20).f,c=p(22),b=p(13)("toStringTag");L.exports=function(x,C,E){x&&!c(x=E?x:x.prototype,b)&&D(x,b,{configurable:!0,value:C})}},function(L,k,p){"use strict";var D=p(135)(!0);p(79)(String,"String",function(c){this._t=String(c),this._i=0},function(){var c=this._t,b=this._i,x;return b>=c.length?{value:void 0,done:!0}:(x=D(c,b),this._i+=x.length,{value:x,done:!1})})},function(L,k,p){k.f=p(13)},function(L,k,p){var D=p(18),c=p(7),b=p(52),x=p(61),C=p(20).f;L.exports=function(E){var y=c.Symbol||(c.Symbol=b?{}:D.Symbol||{});E.charAt(0)!="_"&&!(E in y)&&C(y,E,{value:x.f(E)})}},function(L,k){k.f=Object.getOwnPropertySymbols},function(L,k,p){"use strict";var D=p(8),c=y(D),b=p(19),x=y(b),C=p(6),E=y(C);function y(f){return f&&f.__esModule?f:{default:f}}var S=p(2),m=p(9),v=p(16),d=p(36);function h(f,e){var r=m().hours(0).minutes(0).seconds(0).milliseconds(0),i=r.clone().add(-3,"days").valueOf(),t=r.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,e===void 0?(this.start=i,this.end=t):(this.start=e.start||i,this.end=e.end||t),this.rolling=!1,this.body=f,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:m,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=S.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}h.prototype=new v,h.prototype.setOptions=function(f){if(f){var e=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];S.selectiveExtend(e,this.options,f),f.rollingMode&&f.rollingMode.follow&&this.startRolling(),("start"in f||"end"in f)&&this.setRange(f.start,f.end)}};function o(f){if(f!="horizontal"&&f!="vertical")throw new TypeError('Unknown direction "'+f+'". Choose "horizontal" or "vertical".')}h.prototype.startRolling=function(){var f=this;function e(){f.stopRolling(),f.rolling=!0;var r=f.end-f.start,i=S.convert(new Date,"Date").valueOf(),t=i-r*f.options.rollingMode.offset,a=i+r*(1-f.options.rollingMode.offset),u={animation:!1};f.setRange(t,a,u);var n=f.conversion(f.body.domProps.center.width).scale;r=1/n/10,r<30&&(r=30),r>1e3&&(r=1e3),f.body.dom.rollingModeBtn.style.visibility="hidden",f.currentTimeTimer=setTimeout(e,r)}e()},h.prototype.stopRolling=function(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},h.prototype.setRange=function(f,e,r,i,t){r||(r={}),r.byUser!==!0&&(r.byUser=!1);var a=this,u=f!=null?S.convert(f,"Date").valueOf():null,n=e!=null?S.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,r.animation){var s=this.start,l=this.end,g=(0,E.default)(r.animation)==="object"&&"duration"in r.animation?r.animation.duration:500,T=(0,E.default)(r.animation)==="object"&&"easingFunction"in r.animation?r.animation.easingFunction:"easeInOutQuad",O=S.easingFunctions[T];if(!O)throw new Error("Unknown easing function "+(0,x.default)(T)+". Choose from: "+(0,c.default)(S.easingFunctions).join(", "));var P=new Date().valueOf(),_=!1,R=function W(){if(!a.props.touch.dragging){var Y=new Date().valueOf(),X=Y-P,q=O(X/g),Q=X>g,J=Q||u===null?u:s+(u-s)*q,j=Q||n===null?n:l+(n-l)*q;I=a._applyRange(J,j),d.updateHiddenDates(a.options.moment,a.body,a.options.hiddenDates),_=_||I;var G={start:new Date(a.start),end:new Date(a.end),byUser:r.byUser,event:r.event};if(t&&t(q,I,Q),I&&a.body.emitter.emit("rangechange",G),Q){if(_&&(a.body.emitter.emit("rangechanged",G),i))return i()}else a.animationTimer=setTimeout(W,20)}};return R()}else{var I=this._applyRange(u,n);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),I){var F={start:new Date(this.start),end:new Date(this.end),byUser:r.byUser,event:r.event};if(this.body.emitter.emit("rangechange",F),clearTimeout(a.timeoutID),a.timeoutID=setTimeout(function(){a.body.emitter.emit("rangechanged",F)},200),i)return i()}}},h.prototype.getMillisecondsPerPixel=function(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},h.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},h.prototype._applyRange=function(f,e){var r=f!=null?S.convert(f,"Date").valueOf():this.start,i=e!=null?S.convert(e,"Date").valueOf():this.end,t=this.options.max!=null?S.convert(this.options.max,"Date").valueOf():null,a=this.options.min!=null?S.convert(this.options.min,"Date").valueOf():null,u;if(isNaN(r)||r===null)throw new Error('Invalid start "'+f+'"');if(isNaN(i)||i===null)throw new Error('Invalid end "'+e+'"');if(i<r&&(i=r),a!==null&&r<a&&(u=a-r,r+=u,i+=u,t!=null&&i>t&&(i=t)),t!==null&&i>t&&(u=i-t,r-=u,i-=u,a!=null&&r<a&&(r=a)),this.options.zoomMin!==null){var n=parseFloat(this.options.zoomMin);if(n<0&&(n=0),i-r<n){var s=.5;this.end-this.start===n&&r>=this.start-s&&i<=this.end?(r=this.start,i=this.end):(u=n-(i-r),r-=u/2,i+=u/2)}}if(this.options.zoomMax!==null){var l=parseFloat(this.options.zoomMax);l<0&&(l=0),i-r>l&&(this.end-this.start===l&&r<this.start&&i>this.end?(r=this.start,i=this.end):(u=i-r-l,r+=u/2,i-=u/2))}var g=this.start!=r||this.end!=i;return!(r>=this.start&&r<=this.end||i>=this.start&&i<=this.end)&&!(this.start>=r&&this.start<=i||this.end>=r&&this.end<=i)&&this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=i,g},h.prototype.getRange=function(){return{start:this.start,end:this.end}},h.prototype.conversion=function(f,e){return h.conversion(this.start,this.end,f,e)},h.conversion=function(f,e,r,i){return i===void 0&&(i=0),r!=0&&e-f!=0?{offset:f,scale:r/(e-f-i)}:{offset:0,scale:1}},h.prototype._onDragStart=function(f){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(f)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},h.prototype._onDrag=function(f){if(f&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;o(e);var r=e=="horizontal"?f.deltaX:f.deltaY;r-=this.deltaDifference;var i=this.props.touch.end-this.props.touch.start,t=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);i-=t;var a=e=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height,u;this.options.rtl?u=r/a*i:u=-r/a*i;var n=this.props.touch.start+u,s=this.props.touch.end+u,l=d.snapAwayFromHidden(this.body.hiddenDates,n,this.previousDelta-r,!0),g=d.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-r,!0);if(l!=n||g!=s){this.deltaDifference+=r,this.props.touch.start=l,this.props.touch.end=g,this._onDrag(f);return}this.previousDelta=r,this._applyRange(n,s);var T=new Date(this.start),O=new Date(this.end);this.body.emitter.emit("rangechange",{start:T,end:O,byUser:!0,event:f}),this.body.emitter.emit("panmove")}},h.prototype._onDragEnd=function(f){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:f}))},h.prototype._onMouseWheel=function(f){var e=0;if(f.wheelDelta?e=f.wheelDelta/120:f.detail&&(e=-f.detail/3),!(this.options.zoomKey&&!f[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(f)&&e){var r;e<0?r=1-e/5:r=1/(1+e/5);var i;if(this.rolling)i=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var t=this.getPointer({x:f.clientX,y:f.clientY},this.body.dom.center);i=this._pointerToDate(t)}this.zoom(r,i,e,f),f.preventDefault()}},h.prototype._onTouch=function(f){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,S.preventDefault(f)},h.prototype._onPinch=function(f){if(this.options.zoomable&&this.options.moveable){S.preventDefault(f),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(f.center,this.body.dom.center)),this.stopRolling();var e=1/(f.scale+this.scaleOffset),r=this._pointerToDate(this.props.touch.center),i=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),t=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,r),a=i-t,u=r-t+(this.props.touch.start-(r-t))*e,n=r+a+(this.props.touch.end-(r+a))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var s=d.snapAwayFromHidden(this.body.hiddenDates,u,1-e,!0),l=d.snapAwayFromHidden(this.body.hiddenDates,n,e-1,!0);(s!=u||l!=n)&&(this.props.touch.start=s,this.props.touch.end=l,this.scaleOffset=1-f.scale,u=s,n=l);var g={animation:!1,byUser:!0,event:f};this.setRange(u,n,g),this.startToFront=!1,this.endToFront=!0}},h.prototype._isInsideRange=function(f){var e=f.center?f.center.x:f.clientX,r;this.options.rtl?r=e-S.getAbsoluteLeft(this.body.dom.centerContainer):r=S.getAbsoluteRight(this.body.dom.centerContainer)-e;var i=this.body.util.toTime(r);return i>=this.start&&i<=this.end},h.prototype._pointerToDate=function(f){var e,r=this.options.direction;if(o(r),r=="horizontal")return this.body.util.toTime(f.x).valueOf();var i=this.body.domProps.center.height;return e=this.conversion(i),f.y/e.scale+e.offset},h.prototype.getPointer=function(f,e){return this.options.rtl?{x:S.getAbsoluteRight(e)-f.x,y:f.y-S.getAbsoluteTop(e)}:{x:f.x-S.getAbsoluteLeft(e),y:f.y-S.getAbsoluteTop(e)}},h.prototype.zoom=function(f,e,r,i){e==null&&(e=(this.start+this.end)/2);var t=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),a=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),u=t-a,n=e-a+(this.start-(e-a))*f,s=e+u+(this.end-(e+u))*f;this.startToFront=!(r>0),this.endToFront=!(-r>0);var l=d.snapAwayFromHidden(this.body.hiddenDates,n,r,!0),g=d.snapAwayFromHidden(this.body.hiddenDates,s,-r,!0);(l!=n||g!=s)&&(n=l,s=g);var T={animation:!1,byUser:!0,event:i};this.setRange(n,s,T),this.startToFront=!1,this.endToFront=!0},h.prototype.move=function(f){var e=this.end-this.start,r=this.start+e*f,i=this.end+e*f;this.start=r,this.end=i},h.prototype.moveTo=function(f){var e=(this.start+this.end)/2,r=e-f,i=this.start-r,t=this.end-r,a={animation:!1,byUser:!0,event:null};this.setRange(i,t,a)},L.exports=h},function(L,k,p){"use strict";var D=p(19),c=C(D),b=p(6),x=C(b);function C(e){return e&&e.__esModule?e:{default:e}}var E=p(44),y=p(10),S=p(37),m=p(2),v=p(45),d=p(97),h=p(36),o=p(46);function f(){}E(f.prototype),f.prototype._create=function(e){this.dom={},this.dom.container=e,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(function(){this.initialDrawDone===!0&&this._redraw()}).bind(this)),this.on("rangechanged",(function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}).bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var r=this;this._origRedraw=this._redraw.bind(this),this._redraw=m.throttle(this._origRedraw),this.on("_change",function(g){r.itemSet&&r.itemSet.initialItemSetDrawn&&g&&g.queue==!0?r._redraw():r._origRedraw()}),this.hammer=new y(this.dom.root);var i=this.hammer.get("pinch").set({enable:!0});S.disablePreventDefaultVertically(i),this.hammer.get("pan").set({threshold:5,direction:y.DIRECTION_HORIZONTAL}),this.listeners={};var t=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];t.forEach(function(g){var T=function(P){r.isActive()&&r.emit(g,P)};r.hammer.on(g,T),r.listeners[g]=T}),S.onTouch(this.hammer,(function(g){r.emit("touch",g)}).bind(this)),S.onRelease(this.hammer,(function(g){r.emit("release",g)}).bind(this));function a(g){this.isActive()&&this.emit("mousewheel",g);var T=0,O=0;if("detail"in g&&(O=g.detail*-1),"wheelDelta"in g&&(O=g.wheelDelta),"wheelDeltaY"in g&&(O=g.wheelDeltaY),"wheelDeltaX"in g&&(T=g.wheelDeltaX*-1),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(T=O*-1,O=0),"deltaY"in g&&(O=g.deltaY*-1),"deltaX"in g&&(T=g.deltaX),!(!this.options.zoomKey||g[this.options.zoomKey])){if(g.preventDefault(),this.options.verticalScroll&&Math.abs(O)>=Math.abs(T)){var P=this.props.scrollTop,_=P+O;this.isActive()&&(this._setScrollTop(_),this._redraw(),this.emit("scroll",g))}else if(this.options.horizontalScroll){var R=Math.abs(T)>=Math.abs(O)?T:O,I=R/120*(this.range.end-this.range.start)/20,F=this.range.start+I,W=this.range.end+I,Y={animation:!1,byUser:!0,event:g};this.range.setRange(F,W,Y)}}}this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",a.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",a.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",a.bind(this));function u(g){if(r.options.verticalScroll&&(g.preventDefault(),r.isActive())){var T=-g.target.scrollTop;r._setScrollTop(T),r._redraw(),r.emit("scrollSide",g)}}this.dom.left.parentNode.addEventListener("scroll",u.bind(this)),this.dom.right.parentNode.addEventListener("scroll",u.bind(this));var n=!1;function s(g){if(g.preventDefault&&g.preventDefault(),!(!g.target.className.indexOf("vis")>-1)&&!n)return g.dataTransfer.dropEffect="move",n=!0,!1}function l(g){g.preventDefault&&g.preventDefault(),g.stopPropagation&&g.stopPropagation();try{var T=JSON.parse(g.dataTransfer.getData("text"));if(!T||!T.content)return}catch{return!1}return n=!1,g.center={x:g.clientX,y:g.clientY},T.target!=="item"?r.itemSet._onAddItem(g):r.itemSet._onDropObjectOnItem(g),r.emit("drop",r.getEventProperties(g)),!1}if(this.dom.center.addEventListener("dragover",s.bind(this),!1),this.dom.center.addEventListener("drop",l.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root)},f.prototype.setOptions=function(e){if(e){var r=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];if(m.selectiveExtend(r,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),(0,x.default)(this.options.orientation)!=="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:(0,x.default)(e.orientation)==="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){var i=this.timeAxis2=new v(this.body);i.setOptions=function(u){var n=u?m.extend({},u):{};n.orientation="top",v.prototype.setOptions.call(i,n)},this.components.push(i)}}else if(this.timeAxis2){var t=this.components.indexOf(this.timeAxis2);t!==-1&&this.components.splice(t,1),this.timeAxis2.destroy(),this.timeAxis2=null}if(typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&h.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(u){return u.setOptions(e)}),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);var a=m.deepExtend({},this.options);this.components.forEach(function(u){m.deepExtend(a,u.options)}),this.configurator.setModuleOptions({global:a})}this._redraw()},f.prototype.isActive=function(){return!this.activator||this.activator.active},f.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var e in this.listeners)this.listeners.hasOwnProperty(e)&&delete this.listeners[e];this.listeners=null,this.hammer=null,this.components.forEach(function(r){return r.destroy()}),this.body=null},f.prototype.setCustomTime=function(e,r){var i=this.customTimes.filter(function(t){return r===t.options.id});if(i.length===0)throw new Error("No custom time bar found with id "+(0,c.default)(r));i.length>0&&i[0].setCustomTime(e)},f.prototype.getCustomTime=function(e){var r=this.customTimes.filter(function(i){return i.options.id===e});if(r.length===0)throw new Error("No custom time bar found with id "+(0,c.default)(e));return r[0].getCustomTime()},f.prototype.setCustomTimeTitle=function(e,r){var i=this.customTimes.filter(function(t){return t.options.id===r});if(i.length===0)throw new Error("No custom time bar found with id "+(0,c.default)(r));if(i.length>0)return i[0].setCustomTitle(e)},f.prototype.getEventProperties=function(e){return{event:e}},f.prototype.addCustomTime=function(e,r){var i=e!==void 0?m.convert(e,"Date").valueOf():new Date,t=this.customTimes.some(function(u){return u.options.id===r});if(t)throw new Error("A custom time with id "+(0,c.default)(r)+" already exists");var a=new o(this.body,m.extend({},this.options,{time:i,id:r}));return this.customTimes.push(a),this.components.push(a),this._redraw(),r},f.prototype.removeCustomTime=function(e){var r=this.customTimes.filter(function(i){return i.options.id===e});if(r.length===0)throw new Error("No custom time bar found with id "+(0,c.default)(e));r.forEach((function(i){this.customTimes.splice(this.customTimes.indexOf(i),1),this.components.splice(this.components.indexOf(i),1),i.destroy()}).bind(this))},f.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},f.prototype.fit=function(e,r){var i=this.getDataRange();if(!(i.min===null&&i.max===null)){var t=i.max-i.min,a=new Date(i.min.valueOf()-t*.01),u=new Date(i.max.valueOf()+t*.01),n=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(a,u,{animation:n},r)}},f.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},f.prototype.setWindow=function(e,r,i,t){typeof arguments[2]=="function"&&(t=arguments[2],i={});var a,u;arguments.length==1?(u=arguments[0],a=u.animation!==void 0?u.animation:!0,this.range.setRange(u.start,u.end,{animation:a})):arguments.length==2&&typeof arguments[1]=="function"?(u=arguments[0],t=arguments[1],a=u.animation!==void 0?u.animation:!0,this.range.setRange(u.start,u.end,{animation:a},t)):(a=i&&i.animation!==void 0?i.animation:!0,this.range.setRange(e,r,{animation:a},t))},f.prototype.moveTo=function(e,r,i){typeof arguments[1]=="function"&&(i=arguments[1],r={});var t=this.range.end-this.range.start,a=m.convert(e,"Date").valueOf(),u=a-t/2,n=a+t/2,s=r&&r.animation!==void 0?r.animation:!0;this.range.setRange(u,n,{animation:s},i)},f.prototype.getWindow=function(){var e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}},f.prototype.zoomIn=function(e,r,i){if(!(!e||e<0||e>1)){typeof arguments[1]=="function"&&(i=arguments[1],r={});var t=this.getWindow(),a=t.start.valueOf(),u=t.end.valueOf(),n=u-a,s=n/(1+e),l=(n-s)/2,g=a+l,T=u-l;this.setWindow(g,T,r,i)}},f.prototype.zoomOut=function(e,r,i){if(!(!e||e<0||e>1)){typeof arguments[1]=="function"&&(i=arguments[1],r={});var t=this.getWindow(),a=t.start.valueOf(),u=t.end.valueOf(),n=u-a,s=a-n*e/2,l=u+n*e/2;this.setWindow(s,l,r,i)}},f.prototype.redraw=function(){this._redraw()},f.prototype._redraw=function(){this.redrawCount++;var e=!1,r=this.options,i=this.props,t=this.dom;if(!(!t||!t.container||t.root.offsetWidth==0)){h.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),r.orientation=="top"?(m.addClassName(t.root,"vis-top"),m.removeClassName(t.root,"vis-bottom")):(m.removeClassName(t.root,"vis-top"),m.addClassName(t.root,"vis-bottom")),t.root.style.maxHeight=m.option.asSize(r.maxHeight,""),t.root.style.minHeight=m.option.asSize(r.minHeight,""),t.root.style.width=m.option.asSize(r.width,""),i.border.left=(t.centerContainer.offsetWidth-t.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(t.centerContainer.offsetHeight-t.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=t.root.offsetHeight-t.root.clientHeight,i.borderRootWidth=t.root.offsetWidth-t.root.clientWidth,t.centerContainer.clientHeight===0&&(i.border.left=i.border.top,i.border.right=i.border.left),t.root.clientHeight===0&&(i.borderRootWidth=i.borderRootHeight),i.center.height=t.center.offsetHeight,i.left.height=t.left.offsetHeight,i.right.height=t.right.offsetHeight,i.top.height=t.top.clientHeight||-i.border.top,i.bottom.height=t.bottom.clientHeight||-i.border.bottom;var a=Math.max(i.left.height,i.center.height,i.right.height),u=i.top.height+a+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;t.root.style.height=m.option.asSize(r.height,u+"px"),i.root.height=t.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var n=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=n,i.leftContainer.height=n,i.rightContainer.height=i.leftContainer.height,i.root.width=t.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=m.getScrollBarWidth()),r.verticalScroll?r.rtl?(i.left.width=t.leftContainer.clientWidth||-i.border.left,i.right.width=t.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=t.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=t.rightContainer.clientWidth||-i.border.right):(i.left.width=t.leftContainer.clientWidth||-i.border.left,i.right.width=t.rightContainer.clientWidth||-i.border.right),this._setDOM();var s=this._updateScrollTop();r.orientation.item!="top"&&(s+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),t.center.style.top=s+"px";var l=i.scrollTop==0?"hidden":"",g=i.scrollTop==i.scrollTopMin?"hidden":"";t.shadowTop.style.visibility=l,t.shadowBottom.style.visibility=g,t.shadowTopLeft.style.visibility=l,t.shadowBottomLeft.style.visibility=g,t.shadowTopRight.style.visibility=l,t.shadowBottomRight.style.visibility=g,r.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!r.verticalScroll||i.center.height<i.centerContainer.height)&&(t.left.style.top=s+"px",t.right.style.top=s+"px",t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=t.leftContainer.clientWidth||-i.border.left,i.right.width=t.rightContainer.clientWidth||-i.border.right,this._setDOM());var T=i.center.height>i.centerContainer.height;this.hammer.get("pan").set({direction:T?y.DIRECTION_ALL:y.DIRECTION_HORIZONTAL}),this.components.forEach(function(P){e=P.redraw()||e});var O=5;if(e)if(this.redrawCount<O){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}},f.prototype._setDOM=function(){var e=this.props,r=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;var i=e.root.width-e.left.width-e.right.width-e.borderRootWidth;e.center.width=i,e.centerContainer.width=i,e.top.width=i,e.bottom.width=i,r.background.style.height=e.background.height+"px",r.backgroundVertical.style.height=e.background.height+"px",r.backgroundHorizontal.style.height=e.centerContainer.height+"px",r.centerContainer.style.height=e.centerContainer.height+"px",r.leftContainer.style.height=e.leftContainer.height+"px",r.rightContainer.style.height=e.rightContainer.height+"px",r.background.style.width=e.background.width+"px",r.backgroundVertical.style.width=e.centerContainer.width+"px",r.backgroundHorizontal.style.width=e.background.width+"px",r.centerContainer.style.width=e.center.width+"px",r.top.style.width=e.top.width+"px",r.bottom.style.width=e.bottom.width+"px",r.background.style.left="0",r.background.style.top="0",r.backgroundVertical.style.left=e.left.width+e.border.left+"px",r.backgroundVertical.style.top="0",r.backgroundHorizontal.style.left="0",r.backgroundHorizontal.style.top=e.top.height+"px",r.centerContainer.style.left=e.left.width+"px",r.centerContainer.style.top=e.top.height+"px",r.leftContainer.style.left="0",r.leftContainer.style.top=e.top.height+"px",r.rightContainer.style.left=e.left.width+e.center.width+"px",r.rightContainer.style.top=e.top.height+"px",r.top.style.left=e.left.width+"px",r.top.style.top="0",r.bottom.style.left=e.left.width+"px",r.bottom.style.top=e.top.height+e.centerContainer.height+"px",r.center.style.left="0",r.left.style.left="0",r.right.style.left="0"},f.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},f.prototype.setCurrentTime=function(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)},f.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},f.prototype._toTime=function(e){return h.toTime(this,e,this.props.center.width)},f.prototype._toGlobalTime=function(e){return h.toTime(this,e,this.props.root.width)},f.prototype._toScreen=function(e){return h.toScreen(this,e,this.props.center.width)},f.prototype._toGlobalScreen=function(e){return h.toScreen(this,e,this.props.root.width)},f.prototype._initAutoResize=function(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()},f.prototype._startAutoResize=function(){var e=this;this._stopAutoResize(),this._onResize=function(){if(e.options.autoResize!=!0){e._stopAutoResize();return}e.dom.root&&(e.dom.root.offsetWidth!=e.props.lastWidth||e.dom.root.offsetHeight!=e.props.lastHeight)&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight,e.props.scrollbarWidth=m.getScrollBarWidth(),e.body.emitter.emit("_change"))},m.addEventListener(window,"resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},f.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(m.removeEventListener(window,"resize",this._onResize),this._onResize=null)},f.prototype._onTouch=function(e){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},f.prototype._onPinch=function(e){this.touch.allowDragging=!1},f.prototype._onDrag=function(e){if(e&&this.touch.allowDragging){var r=e.deltaY,i=this._getScrollTop(),t=this._setScrollTop(this.touch.initialScrollTop+r);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),t!=i&&this.emit("verticalDrag")}},f.prototype._setScrollTop=function(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop},f.prototype._updateScrollTop=function(){var e=Math.min(this.props.centerContainer.height-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},f.prototype._getScrollTop=function(){return this.props.scrollTop},f.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},L.exports=f},function(L,k,p){"use strict";var D=p(9),c=p(36),b=p(2);function x(C,E,y,S,m){this.moment=D,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(C,E,y),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(S)?this.hiddenDates=S:S!=null?this.hiddenDates=[S]:this.hiddenDates=[],this.format=x.FORMAT,this.options=m||{}}x.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},x.prototype.setMoment=function(C){this.moment=C,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},x.prototype.setFormat=function(C){var E=b.deepExtend({},x.FORMAT);this.format=b.deepExtend(E,C)},x.prototype.setRange=function(C,E,y){if(!(C instanceof Date)||!(E instanceof Date))throw"No legal start or end date in method setRange";this._start=C!=null?this.moment(C.valueOf()):new Date,this._end=E!=null?this.moment(E.valueOf()):new Date,this.autoScale&&this.setMinimumStep(y)},x.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},x.prototype.roundToMinor=function(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(this.step!=1)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year");break;default:break}},x.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},x.prototype.next=function(){var C=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current.weekday(0),this.current.add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current.add(this.step,"week");else{var E=this.current.clone();E.add(1,"week"),E.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year");break;default:break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":break;default:break}this.current.valueOf()==C&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,c.stepOverHiddenDates(this.moment,this,C)},x.prototype.getCurrent=function(){return this.current},x.prototype.setScale=function(C){C&&typeof C.scale=="string"&&(this.scale=C.scale,this.step=C.step>0?C.step:1,this.autoScale=!1)},x.prototype.setAutoScale=function(C){this.autoScale=C},x.prototype.setMinimumStep=function(C){if(C!=null){var E=1e3*60*60*24*30*12,y=1e3*60*60*24*30,S=1e3*60*60*24,m=1e3*60*60,v=1e3*60,d=1e3,h=1;E*1e3>C&&(this.scale="year",this.step=1e3),E*500>C&&(this.scale="year",this.step=500),E*100>C&&(this.scale="year",this.step=100),E*50>C&&(this.scale="year",this.step=50),E*10>C&&(this.scale="year",this.step=10),E*5>C&&(this.scale="year",this.step=5),E>C&&(this.scale="year",this.step=1),y*3>C&&(this.scale="month",this.step=3),y>C&&(this.scale="month",this.step=1),S*5>C&&(this.scale="day",this.step=5),S*2>C&&(this.scale="day",this.step=2),S>C&&(this.scale="day",this.step=1),S/2>C&&(this.scale="weekday",this.step=1),m*4>C&&(this.scale="hour",this.step=4),m>C&&(this.scale="hour",this.step=1),v*15>C&&(this.scale="minute",this.step=15),v*10>C&&(this.scale="minute",this.step=10),v*5>C&&(this.scale="minute",this.step=5),v>C&&(this.scale="minute",this.step=1),d*15>C&&(this.scale="second",this.step=15),d*10>C&&(this.scale="second",this.step=10),d*5>C&&(this.scale="second",this.step=5),d>C&&(this.scale="second",this.step=1),h*200>C&&(this.scale="millisecond",this.step=200),h*100>C&&(this.scale="millisecond",this.step=100),h*50>C&&(this.scale="millisecond",this.step=50),h*10>C&&(this.scale="millisecond",this.step=10),h*5>C&&(this.scale="millisecond",this.step=5),h>C&&(this.scale="millisecond",this.step=1)}},x.snap=function(C,E,y){var S=D(C);if(E=="year"){var m=S.year()+Math.round(S.month()/12);S.year(Math.round(m/y)*y),S.month(0),S.date(0),S.hours(0),S.minutes(0),S.seconds(0),S.milliseconds(0)}else if(E=="month")S.date()>15?(S.date(1),S.add(1,"month")):S.date(1),S.hours(0),S.minutes(0),S.seconds(0),S.milliseconds(0);else if(E=="week")S.weekday()>2?(S.weekday(0),S.add(1,"week")):S.weekday(0),S.hours(0),S.minutes(0),S.seconds(0),S.milliseconds(0);else if(E=="day"){switch(y){case 5:case 2:S.hours(Math.round(S.hours()/24)*24);break;default:S.hours(Math.round(S.hours()/12)*12);break}S.minutes(0),S.seconds(0),S.milliseconds(0)}else if(E=="weekday"){switch(y){case 5:case 2:S.hours(Math.round(S.hours()/12)*12);break;default:S.hours(Math.round(S.hours()/6)*6);break}S.minutes(0),S.seconds(0),S.milliseconds(0)}else if(E=="hour"){switch(y){case 4:S.minutes(Math.round(S.minutes()/60)*60);break;default:S.minutes(Math.round(S.minutes()/30)*30);break}S.seconds(0),S.milliseconds(0)}else if(E=="minute"){switch(y){case 15:case 10:S.minutes(Math.round(S.minutes()/5)*5),S.seconds(0);break;case 5:S.seconds(Math.round(S.seconds()/60)*60);break;default:S.seconds(Math.round(S.seconds()/30)*30);break}S.milliseconds(0)}else if(E=="second")switch(y){case 15:case 10:S.seconds(Math.round(S.seconds()/5)*5),S.milliseconds(0);break;case 5:S.milliseconds(Math.round(S.milliseconds()/1e3)*1e3);break;default:S.milliseconds(Math.round(S.milliseconds()/500)*500);break}else if(E=="millisecond"){var v=y>5?y/2:1;S.milliseconds(Math.round(S.milliseconds()/v)*v)}return S},x.prototype.isMajor=function(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var C=this.moment(this.current);switch(this.scale){case"millisecond":return C.milliseconds()==0;case"second":return C.seconds()==0;case"minute":return C.hours()==0&&C.minutes()==0;case"hour":return C.hours()==0;case"weekday":case"day":return C.date()==1;case"week":return C.date()==1;case"month":return C.month()==0;case"year":return!1;default:return!1}},x.prototype.getLabelMinor=function(C){if(C==null&&(C=this.current),C instanceof Date&&(C=this.moment(C)),typeof this.format.minorLabels=="function")return this.format.minorLabels(C,this.scale,this.step);var E=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&C.weekday()!==0)return"";default:return E&&E.length>0?this.moment(C).format(E):""}},x.prototype.getLabelMajor=function(C){if(C==null&&(C=this.current),C instanceof Date&&(C=this.moment(C)),typeof this.format.majorLabels=="function")return this.format.majorLabels(C,this.scale,this.step);var E=this.format.majorLabels[this.scale];return E&&E.length>0?this.moment(C).format(E):""},x.prototype.getClassName=function(){var C=this.moment,E=this.moment(this.current),y=E.locale?E.locale("en"):E.lang("en"),S=this.step,m=[];function v(e){return e/S%2==0?" vis-even":" vis-odd"}function d(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(C().add(1,"day"),"day")?" vis-tomorrow":e.isSame(C().add(-1,"day"),"day")?" vis-yesterday":""}function h(e){return e.isSame(new Date,"week")?" vis-current-week":""}function o(e){return e.isSame(new Date,"month")?" vis-current-month":""}function f(e){return e.isSame(new Date,"year")?" vis-current-year":""}switch(this.scale){case"millisecond":m.push(d(y)),m.push(v(y.milliseconds()));break;case"second":m.push(d(y)),m.push(v(y.seconds()));break;case"minute":m.push(d(y)),m.push(v(y.minutes()));break;case"hour":m.push("vis-h"+y.hours()+(this.step==4?"-h"+(y.hours()+4):"")),m.push(d(y)),m.push(v(y.hours()));break;case"weekday":m.push("vis-"+y.format("dddd").toLowerCase()),m.push(d(y)),m.push(h(y)),m.push(v(y.date()));break;case"day":m.push("vis-day"+y.date()),m.push("vis-"+y.format("MMMM").toLowerCase()),m.push(d(y)),m.push(o(y)),m.push(this.step<=2?d(y):""),m.push(this.step<=2?"vis-"+y.format("dddd").toLowerCase():""),m.push(v(y.date()-1));break;case"week":m.push("vis-week"+y.format("w")),m.push(h(y)),m.push(v(y.week()));break;case"month":m.push("vis-"+y.format("MMMM").toLowerCase()),m.push(o(y)),m.push(v(y.month()));break;case"year":m.push("vis-year"+y.year()),m.push(f(y)),m.push(v(y.year()));break}return m.filter(String).join(" ")},L.exports=x},function(L,k,p){"use strict";var D=p(2),c=p(16),b=p(9),x=p(98);function C(E,y){this.body=E,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:b,locales:x,locale:"en"},this.options=D.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(y)}C.prototype=new c,C.prototype._create=function(){var E=document.createElement("div");E.className="vis-current-time",E.style.position="absolute",E.style.top="0px",E.style.height="100%",this.bar=E},C.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},C.prototype.setOptions=function(E){E&&D.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,E)},C.prototype.redraw=function(){if(this.options.showCurrentTime){var E=this.body.dom.backgroundVertical;this.bar.parentNode!=E&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),E.appendChild(this.bar),this.start());var y=this.options.moment(new Date().valueOf()+this.offset),S=this.body.util.toScreen(y),m=this.options.locales[this.options.locale];m||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),m=this.options.locales.en);var v=m.current+" "+m.time+": "+y.format("dddd, MMMM Do YYYY, H:mm:ss");v=v.charAt(0).toUpperCase()+v.substring(1),this.options.rtl?this.bar.style.right=S+"px":this.bar.style.left=S+"px",this.bar.title=v}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},C.prototype.start=function(){var E=this;function y(){E.stop();var S=E.body.range.conversion(E.body.domProps.center.width).scale,m=1/S/10;m<30&&(m=30),m>1e3&&(m=1e3),E.redraw(),E.body.emitter.emit("currentTimeTick"),E.currentTimeTimer=setTimeout(y,m)}y()},C.prototype.stop=function(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},C.prototype.setCurrentTime=function(E){var y=D.convert(E,"Date").valueOf(),S=new Date().valueOf();this.offset=y-S,this.redraw()},C.prototype.getCurrentTime=function(){return new Date(new Date().valueOf()+this.offset)},L.exports=C},function(L,k,p){"use strict";var D=p(8),c=b(D);function b(y){return y&&y.__esModule?y:{default:y}}var x=p(2),C=p(100);function E(y,S,m){if(this.groupId=y,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=S&&S.subgroupOrder,this.itemSet=m,this.isVisible=null,this.stackDirty=!0,S&&S.nestedGroups&&(this.nestedGroups=S.nestedGroups,S.showNested==!1?this.showNested=!1:this.showNested=!0),S&&S.subgroupStack)if(typeof S.subgroupStack=="boolean")this.doInnerStack=S.subgroupStack,this.subgroupStackAll=S.subgroupStack;else for(var v in S.subgroupStack)this.subgroupStack[v]=S.subgroupStack[v],this.doInnerStack=this.doInnerStack||S.subgroupStack[v];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var d=this;this.itemSet.body.emitter.on("checkRangedItems",function(){d.checkRangedItems=!0}),this._create(),this.setData(S)}E.prototype._create=function(){var y=document.createElement("div");this.itemSet.options.groupEditable.order?y.className="vis-label draggable":y.className="vis-label",this.dom.label=y;var S=document.createElement("div");S.className="vis-inner",y.appendChild(S),this.dom.inner=S;var m=document.createElement("div");m.className="vis-group",m["timeline-group"]=this,this.dom.foreground=m,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},E.prototype.setData=function(y){var S,m;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(m=this.itemSet.options.groupTemplate.bind(this),S=m(y,this.dom.inner)):S=y&&y.content,S instanceof Element){for(this.dom.inner.appendChild(S);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(S)}else S instanceof Object?m(y,this.dom.inner):S!=null?this.dom.inner.innerHTML=S:this.dom.inner.innerHTML=this.groupId||"";if(this.dom.label.title=y&&y.title||"",this.dom.inner.firstChild?x.removeClassName(this.dom.inner,"vis-hidden"):x.addClassName(this.dom.inner,"vis-hidden"),y&&y.nestedGroups){(!this.nestedGroups||this.nestedGroups!=y.nestedGroups)&&(this.nestedGroups=y.nestedGroups),(y.showNested!==void 0||this.showNested===void 0)&&(y.showNested==!1?this.showNested=!1:this.showNested=!0),x.addClassName(this.dom.label,"vis-nesting-group");var v=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(x.removeClassName(this.dom.label,v),x.addClassName(this.dom.label,"expanded")):(x.removeClassName(this.dom.label,"expanded"),x.addClassName(this.dom.label,v))}else this.nestedGroups&&(this.nestedGroups=null,v=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",x.removeClassName(this.dom.label,v),x.removeClassName(this.dom.label,"expanded"),x.removeClassName(this.dom.label,"vis-nesting-group"));y&&y.nestedInGroup&&(x.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var d=y&&y.className||null;d!=this.className&&(this.className&&(x.removeClassName(this.dom.label,this.className),x.removeClassName(this.dom.foreground,this.className),x.removeClassName(this.dom.background,this.className),x.removeClassName(this.dom.axis,this.className)),x.addClassName(this.dom.label,d),x.addClassName(this.dom.foreground,d),x.addClassName(this.dom.background,d),x.addClassName(this.dom.axis,d),this.className=d),this.style&&(x.removeCssText(this.dom.label,this.style),this.style=null),y&&y.style&&(x.addCssText(this.dom.label,y.style),this.style=y.style)},E.prototype.getLabelWidth=function(){return this.props.label.width},E.prototype._didMarkerHeightChange=function(){var y=this.dom.marker.clientHeight;if(y!=this.lastMarkerHeight){this.lastMarkerHeight=y;var S={},m=0;x.forEach(this.items,function(h,o){if(h.dirty=!0,h.displayed){var f=!0;S[o]=h.redraw(f),m=S[o].length}});var v=m>0;if(v)for(var d=0;d<m;d++)x.forEach(S,function(h){h[d]()});return!0}},E.prototype._calculateGroupSizeAndPosition=function(){var y=this.dom.foreground.offsetTop,S=this.dom.foreground.offsetLeft,m=this.dom.foreground.offsetWidth;this.top=y,this.right=S,this.width=m},E.prototype._redrawItems=function(y,S,m,v){var d=y||this.stackDirty||this.isVisible&&!S;if(d){var h={},o=null;if(typeof this.itemSet.options.order=="function"){var f=this,e=!1,r={},i=0;x.forEach(this.items,function(n,s){if(!n.displayed){var l=!0;r[s]=n.redraw(l),i=r[s].length,f.visibleItems.push(n)}});var t=i>0;if(t)for(var a=0;a<i;a++)x.forEach(r,function(n){n[a]()});if(x.forEach(this.items,function(n){n.repositionX(e)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(o in this.subgroups)h[o]=this.subgroups[o].items.slice().sort(function(n,s){return f.itemSet.options.order(n.data,s.data)});C.stackSubgroupsWithInnerStack(h,m,this.subgroups)}else{var u=this.orderedItems.byStart.slice().sort(function(n,s){return f.itemSet.options.order(n.data,s.data)});C.stack(u,m,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,v)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,v),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(o in this.subgroups)h[o]=this.subgroups[o].items;C.stackSubgroupsWithInnerStack(h,m,this.subgroups)}else C.stack(this.visibleItems,m,!0);else C.nostack(this.visibleItems,m,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},E.prototype._didResize=function(y,S){y=x.updateProperty(this,"height",S)||y;var m=this.dom.inner.clientWidth,v=this.dom.inner.clientHeight;return y=x.updateProperty(this.props.label,"width",m)||y,y=x.updateProperty(this.props.label,"height",v)||y,y},E.prototype._applyGroupHeight=function(y){this.dom.background.style.height=y+"px",this.dom.foreground.style.height=y+"px",this.dom.label.style.height=y+"px"},E.prototype._updateItemsVerticalPosition=function(y){for(var S=0,m=this.visibleItems.length;S<m;S++){var v=this.visibleItems[S];v.repositionY(y),!this.isVisible&&this.groupId!="__background__"&&v.displayed&&v.hide()}},E.prototype.redraw=function(y,S,m,v){var d=!1,h=this.isVisible,o,f=[(function(){m=this._didMarkerHeightChange.bind(this)}).bind(this),this._updateSubGroupHeights.bind(this,S),this._calculateGroupSizeAndPosition.bind(this),(function(){this.isVisible=this._isGroupVisible.bind(this)(y,S)}).bind(this),(function(){this._redrawItems.bind(this)(m,h,S,y)}).bind(this),this._updateSubgroupsSizes.bind(this),(function(){o=this._calculateHeight.bind(this)(S)}).bind(this),this._calculateGroupSizeAndPosition.bind(this),(function(){d=this._didResize.bind(this)(d,o)}).bind(this),(function(){this._applyGroupHeight.bind(this)(o)}).bind(this),(function(){this._updateItemsVerticalPosition.bind(this)(S)}).bind(this),function(){return!this.isVisible&&this.height&&(d=!1),d}];if(v)return f;var e;return f.forEach(function(r){e=r()}),e},E.prototype._updateSubGroupHeights=function(y){if((0,c.default)(this.subgroups).length>0){var S=this;this.resetSubgroups(),x.forEach(this.visibleItems,function(m){m.data.subgroup!==void 0&&(S.subgroups[m.data.subgroup].height=Math.max(S.subgroups[m.data.subgroup].height,m.height+y.item.vertical),S.subgroups[m.data.subgroup].visible=!0)})}},E.prototype._isGroupVisible=function(y,S){return this.top<=y.body.domProps.centerContainer.height-y.body.domProps.scrollTop+S.axis&&this.top+this.height+S.axis>=-y.body.domProps.scrollTop},E.prototype._calculateHeight=function(y){var S,m=this.visibleItems;if(m.length>0){var v=m[0].top,d=m[0].top+m[0].height;if(x.forEach(m,function(o){v=Math.min(v,o.top),d=Math.max(d,o.top+o.height)}),v>y.axis){var h=v-y.axis;d-=h,x.forEach(m,function(o){o.top-=h})}S=d+y.item.vertical/2}else S=0;return S=Math.max(S,this.props.label.height),S},E.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},E.prototype.hide=function(){var y=this.dom.label;y.parentNode&&y.parentNode.removeChild(y);var S=this.dom.foreground;S.parentNode&&S.parentNode.removeChild(S);var m=this.dom.background;m.parentNode&&m.parentNode.removeChild(m);var v=this.dom.axis;v.parentNode&&v.parentNode.removeChild(v)},E.prototype.add=function(y){if(this.items[y.id]=y,y.setParent(this),this.stackDirty=!0,y.data.subgroup!==void 0&&(this._addToSubgroup(y),this.orderSubgroups()),this.visibleItems.indexOf(y)==-1){var S=this.itemSet.body.range;this._checkIfVisible(y,this.visibleItems,S)}},E.prototype._addToSubgroup=function(y,S){S=S||y.data.subgroup,S!=null&&this.subgroups[S]===void 0&&(this.subgroups[S]={height:0,top:0,start:y.data.start,end:y.data.end||y.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[S]||!1},this.subgroupIndex++),new Date(y.data.start)<new Date(this.subgroups[S].start)&&(this.subgroups[S].start=y.data.start);var m=y.data.end||y.data.start;new Date(m)>new Date(this.subgroups[S].end)&&(this.subgroups[S].end=m),this.subgroups[S].items.push(y)},E.prototype._updateSubgroupsSizes=function(){var y=this;if(y.subgroups)for(var S in y.subgroups){var m=y.subgroups[S].items[0].data.end||y.subgroups[S].items[0].data.start,v=y.subgroups[S].items[0].data.start,d=m-1;y.subgroups[S].items.forEach(function(h){new Date(h.data.start)<new Date(v)&&(v=h.data.start);var o=h.data.end||h.data.start;new Date(o)>new Date(d)&&(d=o)}),y.subgroups[S].start=v,y.subgroups[S].end=new Date(d-1)}},E.prototype.orderSubgroups=function(){if(this.subgroupOrderer!==void 0){var y=[],S;if(typeof this.subgroupOrderer=="string"){for(S in this.subgroups)y.push({subgroup:S,sortField:this.subgroups[S].items[0].data[this.subgroupOrderer]});y.sort(function(v,d){return v.sortField-d.sortField})}else if(typeof this.subgroupOrderer=="function"){for(S in this.subgroups)y.push(this.subgroups[S].items[0].data);y.sort(this.subgroupOrderer)}if(y.length>0)for(var m=0;m<y.length;m++)this.subgroups[y[m].subgroup].index=m}},E.prototype.resetSubgroups=function(){for(var y in this.subgroups)this.subgroups.hasOwnProperty(y)&&(this.subgroups[y].visible=!1,this.subgroups[y].height=0)},E.prototype.remove=function(y){delete this.items[y.id],y.setParent(null),this.stackDirty=!0;var S=this.visibleItems.indexOf(y);S!=-1&&this.visibleItems.splice(S,1),y.data.subgroup!==void 0&&(this._removeFromSubgroup(y),this.orderSubgroups())},E.prototype._removeFromSubgroup=function(y,S){if(S=S||y.data.subgroup,S!=null){var m=this.subgroups[S];if(m){var v=m.items.indexOf(y);v>=0&&(m.items.splice(v,1),m.items.length?this._updateSubgroupsSizes():delete this.subgroups[S])}}},E.prototype.removeFromDataSet=function(y){this.itemSet.removeItem(y.id)},E.prototype.order=function(){for(var y=x.toArray(this.items),S=[],m=[],v=0;v<y.length;v++)y[v].data.end!==void 0&&m.push(y[v]),S.push(y[v]);this.orderedItems={byStart:S,byEnd:m},C.orderByStart(this.orderedItems.byStart),C.orderByEnd(this.orderedItems.byEnd)},E.prototype._updateItemsInRange=function(y,S,m){var v=[],d={},h=(m.end-m.start)/4,o=m.start-h,f=m.end+h,e=function(O){return O<o?-1:O<=f?0:1};if(S.length>0)for(var r=0;r<S.length;r++)this._checkIfVisibleWithReference(S[r],v,d,m);var i=x.binarySearchCustom(y.byStart,e,"data","start");if(this._traceVisible(i,y.byStart,v,d,function(T){return T.data.start<o||T.data.start>f}),this.checkRangedItems==!0)for(this.checkRangedItems=!1,r=0;r<y.byEnd.length;r++)this._checkIfVisibleWithReference(y.byEnd[r],v,d,m);else{var t=x.binarySearchCustom(y.byEnd,e,"data","end");this._traceVisible(t,y.byEnd,v,d,function(T){return T.data.end<o||T.data.end>f})}var a={},u=0;for(r=0;r<v.length;r++){var n=v[r];if(!n.displayed){var s=!0;a[r]=n.redraw(s),u=a[r].length}}var l=u>0;if(l)for(var g=0;g<u;g++)x.forEach(a,function(T){T[g]()});for(r=0;r<v.length;r++)v[r].repositionX();return v},E.prototype._traceVisible=function(y,S,m,v,d){if(y!=-1){var h,o;for(h=y;h>=0&&(o=S[h],!d(o));h--)v[o.id]===void 0&&(v[o.id]=!0,m.push(o));for(h=y+1;h<S.length&&(o=S[h],!d(o));h++)v[o.id]===void 0&&(v[o.id]=!0,m.push(o))}},E.prototype._checkIfVisible=function(y,S,m){y.isVisible(m)?(y.displayed||y.show(),y.repositionX(),S.push(y)):y.displayed&&y.hide()},E.prototype._checkIfVisibleWithReference=function(y,S,m,v){y.isVisible(v)?m[y.id]===void 0&&(m[y.id]=!0,S.push(y)):y.displayed&&y.hide()},E.prototype.changeSubgroup=function(y,S,m){this._removeFromSubgroup(y,S),this._addToSubgroup(y,m),this.orderSubgroups()},L.exports=E},function(L,k,p){"use strict";var D=p(29),c=b(D);function b(E){return E&&E.__esModule?E:{default:E}}var x=p(68);function C(E,y,S){x.call(this,E,y,S),this.width=0,this.height=0,this.top=0,this.left=0}C.prototype=(0,c.default)(x.prototype),C.prototype.redraw=function(E,y,S){var m=!1;this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,E),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var v=0,d=this.visibleItems.length;v<d;v++){var h=this.visibleItems[v];h.repositionY(y)}return m},C.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},L.exports=C},function(L,k,p){"use strict";var D=p(38);function c(b,x,C){if(this.props={content:{width:0}},this.overflow=!1,this.options=C,b){if(b.start==null)throw new Error('Property "start" missing in item '+b.id);if(b.end==null)throw new Error('Property "end" missing in item '+b.id)}D.call(this,b,x,C)}c.prototype=new D(null,null,null),c.prototype.baseClassName="vis-item vis-range",c.prototype.isVisible=function(b){return this.data.start<b.end&&this.data.end>b.start},c.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},c.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(this.dom.box)}this.displayed=!0},c.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var b=this.editable.updateTime||this.editable.updateGroup,x=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(b?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+x,this.dom.content.style.maxWidth="none"}},c.prototype._getDomComponentsSizes=function(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},c.prototype._updateDomComponentsSizes=function(b){this.props.content.width=b.content.width,this.height=b.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},c.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},c.prototype.redraw=function(b){var x,C=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(x=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(x)}).bind(this),this._repaintDomAdditionals.bind(this)];if(b)return C;var E;return C.forEach(function(y){E=y()}),E},c.prototype.show=function(){this.displayed||this.redraw()},c.prototype.hide=function(){if(this.displayed){var b=this.dom.box;b.parentNode&&b.parentNode.removeChild(b),this.displayed=!1}},c.prototype.repositionX=function(b){var x=this.parent.width,C=this.conversion.toScreen(this.data.start),E=this.conversion.toScreen(this.data.end),y=this.data.align===void 0?this.options.align:this.data.align,S,m;this.data.limitSize!==!1&&(b===void 0||b===!0)&&(C<-x&&(C=-x),E>2*x&&(E=2*x));var v=Math.max(E-C+.5,1);switch(this.overflow?(this.options.rtl?this.right=C:this.left=C,this.width=v+this.props.content.width,m=this.props.content.width):(this.options.rtl?this.right=C:this.left=C,this.width=v,m=Math.min(E-C,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=v+"px",y){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(v-m,0)+"px":this.dom.content.style.left=Math.max(v-m,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((v-m)/2,0)+"px":this.dom.content.style.left=Math.max((v-m)/2,0)+"px";break;default:this.overflow?E>0?S=Math.max(-C,0):S=-m:C<0?S=-C:S=0,this.options.rtl?this.dom.content.style.right=S+"px":(this.dom.content.style.left=S+"px",this.dom.content.style.width="calc(100% - "+S+"px)")}},c.prototype.repositionY=function(){var b=this.options.orientation.item,x=this.dom.box;b=="top"?x.style.top=this.top+"px":x.style.top=this.parent.height-this.top-this.height+"px"},c.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var b=document.createElement("div");b.className="vis-drag-left",b.dragLeftItem=this,this.dom.box.appendChild(b),this.dom.dragLeft=b}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},c.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var b=document.createElement("div");b.className="vis-drag-right",b.dragRightItem=this,this.dom.box.appendChild(b),this.dom.dragRight=b}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},L.exports=c},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(19),c=m(D),b=p(6),x=m(b),C=p(0),E=m(C),y=p(1),S=m(y);function m(o){return o&&o.__esModule?o:{default:o}}var v=p(2),d=p(179).default,h=function(){function o(f,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;(0,E.default)(this,o),this.parent=f,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},v.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new d(i),this.wrapper=void 0}return(0,S.default)(o,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var r=!0;typeof e=="string"?this.options.filter=e:e instanceof Array?this.options.filter=e.join():(typeof e>"u"?"undefined":(0,x.default)(e))==="object"?(e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)):typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0),this.options.filter===!1&&(r=!1),this.options.enabled=r}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var e=this;this._clean(),this.changedOptions=[];var r=this.options.filter,i=0,t=!1;for(var a in this.configureOptions)this.configureOptions.hasOwnProperty(a)&&(this.allowCreation=!1,t=!1,typeof r=="function"?(t=r(a,[]),t=t||this._handleObject(this.configureOptions[a],[a],!0)):(r===!0||r.indexOf(a)!==-1)&&(t=!0),t!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(a),this._handleObject(this.configureOptions[a],[a])),i++);if(this.options.showButton===!0){var u=document.createElement("div");u.className="vis-configuration vis-config-button",u.innerHTML="generate options",u.onclick=function(){e._printOptions()},u.onmouseover=function(){u.className="vis-configuration vis-config-button hover"},u.onmouseout=function(){u.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(u)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var r=this.moduleOptions,i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var r=document.createElement("div");r.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var i=arguments.length,t=Array(i>1?i-1:0),a=1;a<i;a++)t[a-1]=arguments[a];return t.forEach(function(u){r.appendChild(u)}),this.domElements.push(r),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerHTML=e,this._makeItem([],r)}},{key:"_makeLabel",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=document.createElement("div");return t.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0?t.innerHTML="<i><b>"+e+":</b></i>":t.innerHTML=e+":",t}},{key:"_makeDropdown",value:function(e,r,i){var t=document.createElement("select");t.className="vis-configuration vis-config-select";var a=0;r!==void 0&&e.indexOf(r)!==-1&&(a=e.indexOf(r));for(var u=0;u<e.length;u++){var n=document.createElement("option");n.value=e[u],u===a&&(n.selected="selected"),n.innerHTML=e[u],t.appendChild(n)}var s=this;t.onchange=function(){s._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,t)}},{key:"_makeRange",value:function(e,r,i){var t=e[0],a=e[1],u=e[2],n=e[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=a,s.max=u}catch{}s.step=n;var l="",g=0;if(r!==void 0){var T=1.2;r<0&&r*T<a?(s.min=Math.ceil(r*T),g=s.min,l="range increased"):r/T<a&&(s.min=Math.ceil(r/T),g=s.min,l="range increased"),r*T>u&&u!==1&&(s.max=Math.ceil(r*T),g=s.max,l="range increased"),s.value=r}else s.value=t;var O=document.createElement("input");O.className="vis-configuration vis-config-rangeinput",O.value=s.value;var P=this;s.onchange=function(){O.value=this.value,P._update(Number(this.value),i)},s.oninput=function(){O.value=this.value};var _=this._makeLabel(i[i.length-1],i),R=this._makeItem(i,_,s,O);l!==""&&this.popupHistory[R]!==g&&(this.popupHistory[R]=g,this._setupPopup(l,R))}},{key:"_setupPopup",value:function(e,r){var i=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var t=document.createElement("div");t.id="vis-configuration-popup",t.className="vis-configuration-popup",t.innerHTML=e,t.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:t,index:r}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var r=this.domElements[this.popupDiv.index],i=r.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,r,i){var t=document.createElement("input");t.type="checkbox",t.className="vis-configuration vis-config-checkbox",t.checked=e,r!==void 0&&(t.checked=r,r!==e&&((typeof e>"u"?"undefined":(0,x.default)(e))==="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));var a=this;t.onchange=function(){a._update(this.checked,i)};var u=this._makeLabel(i[i.length-1],i);this._makeItem(i,u,t)}},{key:"_makeTextInput",value:function(e,r,i){var t=document.createElement("input");t.type="text",t.className="vis-configuration vis-config-text",t.value=r,r!==e&&this.changedOptions.push({path:i,value:r});var a=this;t.onchange=function(){a._update(this.value,i)};var u=this._makeLabel(i[i.length-1],i);this._makeItem(i,u,t)}},{key:"_makeColorField",value:function(e,r,i){var t=this,a=e[1],u=document.createElement("div");r=r===void 0?a:r,r!=="none"?(u.className="vis-configuration vis-config-colorBlock",u.style.backgroundColor=r):u.className="vis-configuration vis-config-colorBlock none",r=r===void 0?a:r,u.onclick=function(){t._showColorPicker(r,u,i)};var n=this._makeLabel(i[i.length-1],i);this._makeItem(i,n,u)}},{key:"_showColorPicker",value:function(e,r,i){var t=this;r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(a){var u="rgba("+a.r+","+a.g+","+a.b+","+a.a+")";r.style.backgroundColor=u,t._update(u,i)}),this.colorPicker.setCloseCallback(function(){r.onclick=function(){t._showColorPicker(e,r,i)}})}},{key:"_handleObject",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=!1,a=this.options.filter,u=!1;for(var n in e)if(e.hasOwnProperty(n)){t=!0;var s=e[n],l=v.copyAndExtendArray(r,n);if(typeof a=="function"&&(t=a(n,r),t===!1&&!(s instanceof Array)&&typeof s!="string"&&typeof s!="boolean"&&s instanceof Object&&(this.allowCreation=!1,t=this._handleObject(s,l,!0),this.allowCreation=i===!1)),t!==!1){u=!0;var g=this._getValue(l);if(s instanceof Array)this._handleArray(s,g,l);else if(typeof s=="string")this._makeTextInput(s,g,l);else if(typeof s=="boolean")this._makeCheckbox(s,g,l);else if(s instanceof Object){var T=!0;if(r.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==n&&(T=!1),T===!0)if(s.enabled!==void 0){var O=v.copyAndExtendArray(l,"enabled"),P=this._getValue(O);if(P===!0){var _=this._makeLabel(n,l,!0);this._makeItem(l,_),u=this._handleObject(s,l)||u}else this._makeCheckbox(s,P,l)}else{var R=this._makeLabel(n,l,!0);this._makeItem(l,R),u=this._handleObject(s,l)||u}}else console.error("dont know how to handle",s,n,l)}}return u}},{key:"_handleArray",value:function(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}},{key:"_update",value:function(e,r){var i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var a=0;a<r.length;a++)r[a]!=="global"&&(t[r[a]]===void 0&&(t[r[a]]={}),a!==r.length-1?t=t[r[a]]:t[r[a]]=e);return i}},{key:"_printOptions",value:function(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,c.default)(e,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var e={},r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}}]),o}();k.default=h},function(L,k,p){"use strict";var D=p(6),c=b(D);function b(S){return S&&S.__esModule?S:{default:S}}var x=p(14);function C(S,m){}C.draw=function(S,m,v,d){d=d||0;for(var h=y(v,m),o=0;o<S.length;o++)if(!h)x.drawPoint(S[o].screen_x+d,S[o].screen_y,E(m),v.svgElements,v.svg,S[o].label);else{var f=h(S[o],m);(f===!0||(typeof f>"u"?"undefined":(0,c.default)(f))==="object")&&x.drawPoint(S[o].screen_x+d,S[o].screen_y,E(m,f),v.svgElements,v.svg,S[o].label)}},C.drawIcon=function(S,m,v,d,h,o){var f=h*.5,e=x.getSVGElement("rect",o.svgElements,o.svg);e.setAttributeNS(null,"x",m),e.setAttributeNS(null,"y",v-f),e.setAttributeNS(null,"width",d),e.setAttributeNS(null,"height",2*f),e.setAttributeNS(null,"class","vis-outline"),x.drawPoint(m+.5*d,v,E(S),o.svgElements,o.svg)};function E(S,m){return m=typeof m>"u"?{}:m,{style:m.style||S.options.drawPoints.style,styles:m.styles||S.options.drawPoints.styles,size:m.size||S.options.drawPoints.size,className:m.className||S.className}}function y(S,m){var v=void 0;return S.options&&S.options.drawPoints&&S.options.drawPoints.onRender&&typeof S.options.drawPoints.onRender=="function"&&(v=S.options.drawPoints.onRender),m.group.options&&m.group.options.drawPoints&&m.group.options.drawPoints.onRender&&typeof m.group.options.drawPoints.onRender=="function"&&(v=m.group.options.drawPoints.onRender),v}L.exports=C},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(23),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){(0,x.default)(this,r);var u=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return u.labelOffset=0,u.selected=!1,u}return(0,E.default)(r,[{key:"setOptions",value:function(t,a,u){this.options=t,a===void 0&&u===void 0||this.setImages(a,u)}},{key:"setImages",value:function(t,a){a&&this.selected?(this.imageObj=a,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=a)}},{key:"switchImages",value:function(t){var a=t&&!this.selected||!t&&this.selected;if(this.selected=t,this.imageObjAlt!==void 0&&a){var u=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=u}}},{key:"_resizeImage",value:function(){var t,a;if(this.options.shapeProperties.useImageSize===!1){var u=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?u=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=this.options.size*2*u,a=this.options.size*2*n}else t=this.imageObj.width,a=this.imageObj.height;this.width=t,this.height=a,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,a,u,n){this.initContextForDraw(t,n),t.circle(a,u,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,a){if(this.imageObj.width!=0){t.globalAlpha=1,this.enableShadow(t,a);var u=1;this.options.shapeProperties.interpolation===!0&&(u=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,u,this.left,this.top,this.width,this.height),this.disableShadow(t,a)}}},{key:"_drawImageLabel",value:function(t,a,u,n,s){var l,g=0;if(this.height!==void 0){g=this.height*.5;var T=this.labelModule.getTextSize(t,n,s);T.lineCount>=1&&(g+=T.height/2)}l=u+g,this.options.label&&(this.labelOffset=g),this.labelModule.draw(t,a,l,n,s,"hanging")}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(19),c=d(D),b=p(6),x=d(b),C=p(29),E=d(C),y=p(0),S=d(y),m=p(1),v=d(m);function d(u){return u&&u.__esModule?u:{default:u}}var h=p(2),o=p(117).default,f=p(48).default,e=p(215).default,r=p(217).default,i=p(218).default,t=p(219).default,a=function(){function u(n,s,l,g){if((0,S.default)(this,u),s===void 0)throw new Error("No body provided");this.options=h.bridgeObject(l),this.globalOptions=l,this.defaultOptions=g,this.body=s,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new o(this.body,this.options,!0),this.setOptions(n)}return(0,v.default)(u,[{key:"setOptions",value:function(s){if(s){u.parseOptions(this.options,s,!0,this.globalOptions),s.id!==void 0&&(this.id=s.id),s.from!==void 0&&(this.fromId=s.from),s.to!==void 0&&(this.toId=s.to),s.title!==void 0&&(this.title=s.title),s.value!==void 0&&(s.value=parseFloat(s.value));var l=[s,this.options,this.defaultOptions];this.chooser=f.choosify("edge",l),this.updateLabelModule(s);var g=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(s.hidden!==void 0||s.physics!==void 0)&&(g=!0),g}}},{key:"getFormattingValues",value:function(){var s=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,l=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,g=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,T=this.options.color.inherit,O={toArrow:s,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:g,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:l,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:T?void 0:this.options.color.color,inheritsColor:T,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var P=this.options.selectionWidth;typeof P=="function"?O.width=P(O.width):typeof P=="number"&&(O.width+=P),O.width=Math.max(O.width,.3/this.body.view.scale),O.color=this.options.color.highlight,O.shadow=this.options.shadow.enabled}else if(this.hover){var _=this.options.hoverWidth;typeof _=="function"?O.width=_(O.width):typeof _=="number"&&(O.width+=_),O.width=Math.max(O.width,.3/this.body.view.scale),O.color=this.options.color.hover,O.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(O,this.options.id,this.selected,this.hover),O.color!==void 0&&(O.inheritsColor=!1),O.shadow===!1&&(O.shadowColor!==this.options.shadow.color||O.shadowSize!==this.options.shadow.size||O.shadowX!==this.options.shadow.x||O.shadowY!==this.options.shadow.y)&&(O.shadow=!0));else O.shadow=this.options.shadow.enabled,O.width=Math.max(O.width,.3/this.body.view.scale);return O}},{key:"updateLabelModule",value:function(s){var l=[s,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,l),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var s=this.options.smooth,l=!1,g=!0;return this.edgeType!==void 0&&((this.edgeType instanceof r&&s.enabled===!0&&s.type==="dynamic"||this.edgeType instanceof e&&s.enabled===!0&&s.type==="cubicBezier"||this.edgeType instanceof i&&s.enabled===!0&&s.type!=="dynamic"&&s.type!=="cubicBezier"||this.edgeType instanceof t&&s.type.enabled===!1)&&(g=!1),g===!0&&(l=this.cleanup())),g===!0?s.enabled===!0?s.type==="dynamic"?(l=!0,this.edgeType=new r(this.options,this.body,this.labelModule)):s.type==="cubicBezier"?this.edgeType=new e(this.options,this.body,this.labelModule):this.edgeType=new i(this.options,this.body,this.labelModule):this.edgeType=new t(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),l}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(s,l,g){if(this.options.value!==void 0){var T=this.options.scaling.customScalingFunction(s,l,g,this.options.value),O=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var P=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+T*P}this.options.width=this.options.scaling.min+T*O}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(s){var l=this.getFormattingValues();if(!l.hidden){var g=this.edgeType.getViaNode(),T={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,l.fromArrow&&(T.from=this.edgeType.getArrowData(s,"from",g,this.selected,this.hover,l),l.arrowStrikethrough===!1&&(this.edgeType.fromPoint=T.from.core)),l.toArrow&&(T.to=this.edgeType.getArrowData(s,"to",g,this.selected,this.hover,l),l.arrowStrikethrough===!1&&(this.edgeType.toPoint=T.to.core)),l.middleArrow&&(T.middle=this.edgeType.getArrowData(s,"middle",g,this.selected,this.hover,l)),this.edgeType.drawLine(s,l,this.selected,this.hover,g),this.drawArrows(s,T,l),this.drawLabel(s,g)}}},{key:"drawArrows",value:function(s,l,g){g.fromArrow&&this.edgeType.drawArrowHead(s,g,this.selected,this.hover,l.from),g.middleArrow&&this.edgeType.drawArrowHead(s,g,this.selected,this.hover,l.middle),g.toArrow&&this.edgeType.drawArrowHead(s,g,this.selected,this.hover,l.to)}},{key:"drawLabel",value:function(s,l){if(this.options.label!==void 0){var g=this.from,T=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(s,this.selected,this.hover),g.id!=T.id){this.labelModule.pointToSelf=!1;var O=this.edgeType.getPoint(.5,l);s.save();var P=this._getRotation(s);P.angle!=0&&(s.translate(P.x,P.y),s.rotate(P.angle)),this.labelModule.draw(s,O.x,O.y,this.selected,this.hover),s.restore()}else{this.labelModule.pointToSelf=!0;var _,R,I=this.options.selfReferenceSize;g.shape.width>g.shape.height?(_=g.x+g.shape.width*.5,R=g.y-I):(_=g.x+I,R=g.y-g.shape.height*.5),O=this._pointOnCircle(_,R,I,.125),this.labelModule.draw(s,O.x,O.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(s){var l=[];if(this.labelModule.visible()){var g=this._getRotation();f.pointInRect(this.labelModule.getSize(),s,g)&&l.push({edgeId:this.id,labelId:0})}var T={left:s.x,top:s.y};return this.isOverlappingWith(T)&&l.push({edgeId:this.id}),l}},{key:"isOverlappingWith",value:function(s){if(this.connected){var l=10,g=this.from.x,T=this.from.y,O=this.to.x,P=this.to.y,_=s.left,R=s.top,I=this.edgeType.getDistanceToEdge(g,T,O,P,_,R);return I<l}else return!1}},{key:"_getRotation",value:function(s){var l=this.edgeType.getViaNode(),g=this.edgeType.getPoint(.5,l);s!==void 0&&this.labelModule.calculateLabelSize(s,this.selected,this.hover,g.x,g.y);var T={x:g.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return T;var O=this.from.y-this.to.y,P=this.from.x-this.to.x,_=Math.atan2(O,P);return(_<-1&&P<0||_>0&&P<0)&&(_+=Math.PI),T.angle=_,T}},{key:"_pointOnCircle",value:function(s,l,g,T){var O=T*2*Math.PI;return{x:s+g*Math.cos(O),y:l-g*Math.sin(O)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(s,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,P=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(h.selectiveDeepExtend(P,s,l,g),f.isValidLabel(l.label)?s.label=l.label:s.label=void 0,h.mergeOptions(s,l,"smooth",T),h.mergeOptions(s,l,"shadow",T),l.dashes!==void 0&&l.dashes!==null?s.dashes=l.dashes:g===!0&&l.dashes===null&&(s.dashes=(0,E.default)(T.dashes)),l.scaling!==void 0&&l.scaling!==null?(l.scaling.min!==void 0&&(s.scaling.min=l.scaling.min),l.scaling.max!==void 0&&(s.scaling.max=l.scaling.max),h.mergeOptions(s.scaling,l.scaling,"label",T.scaling)):g===!0&&l.scaling===null&&(s.scaling=(0,E.default)(T.scaling)),l.arrows!==void 0&&l.arrows!==null)if(typeof l.arrows=="string"){var _=l.arrows.toLowerCase();s.arrows.to.enabled=_.indexOf("to")!=-1,s.arrows.middle.enabled=_.indexOf("middle")!=-1,s.arrows.from.enabled=_.indexOf("from")!=-1}else if((0,x.default)(l.arrows)==="object")h.mergeOptions(s.arrows,l.arrows,"to",T.arrows),h.mergeOptions(s.arrows,l.arrows,"middle",T.arrows),h.mergeOptions(s.arrows,l.arrows,"from",T.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,c.default)(l.arrows));else g===!0&&l.arrows===null&&(s.arrows=(0,E.default)(T.arrows));if(l.color!==void 0&&l.color!==null){var R=l.color,I=s.color;if(O)h.deepExtend(I,T.color,!1,g);else for(var F in I)I.hasOwnProperty(F)&&delete I[F];if(h.isString(I))I.color=I,I.highlight=I,I.hover=I,I.inherit=!1,R.opacity===void 0&&(I.opacity=1);else{var W=!1;R.color!==void 0&&(I.color=R.color,W=!0),R.highlight!==void 0&&(I.highlight=R.highlight,W=!0),R.hover!==void 0&&(I.hover=R.hover,W=!0),R.inherit!==void 0&&(I.inherit=R.inherit),R.opacity!==void 0&&(I.opacity=Math.min(1,Math.max(0,R.opacity))),W===!0?I.inherit=!1:I.inherit===void 0&&(I.inherit="from")}}else g===!0&&l.color===null&&(s.color=h.bridgeObject(T.color));g===!0&&l.font===null&&(s.font=h.bridgeObject(T.font))}}]),u}();k.default=a},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(118),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"_findBorderPositionBezier",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),n=10,s=0,l=0,g=1,T,O,P,_,R,I=.2,F=this.to,W=!1;for(t.id===this.from.id&&(F=this.from,W=!0);l<=g&&s<n;){var Y=(l+g)*.5;if(T=this.getPoint(Y,u),O=Math.atan2(F.y-T.y,F.x-T.x),P=F.distanceToBorder(a,O),_=Math.sqrt(Math.pow(T.x-F.x,2)+Math.pow(T.y-F.y,2)),R=P-_,Math.abs(R)<I)break;R<0?W===!1?l=Y:g=Y:W===!1?g=Y:l=Y,s++}return T.t=Y,T}},{key:"_getDistanceToBezierEdge",value:function(t,a,u,n,s,l,g){var T=1e9,O=void 0,P=void 0,_=void 0,R=void 0,I=void 0,F=t,W=a;for(P=1;P<10;P++)_=.1*P,R=Math.pow(1-_,2)*t+2*_*(1-_)*g.x+Math.pow(_,2)*u,I=Math.pow(1-_,2)*a+2*_*(1-_)*g.y+Math.pow(_,2)*n,P>0&&(O=this._getDistanceToLine(F,W,R,I,s,l),T=O<T?O:T),F=R,W=I;return T}},{key:"_bezierCurve",value:function(t,a,u,n){var s=u!==void 0&&u.x!==void 0,l=n!==void 0&&n.x!==void 0;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),s&&l?t.bezierCurveTo(u.x,u.y,n.x,n.y,this.toPoint.x,this.toPoint.y):s?t.quadraticCurveTo(u.x,u.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,a),t.stroke(),this.disableShadow(t,a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(S){return S&&S.__esModule?S:{default:S}}var E=p(2),y=function(){function S(){(0,c.default)(this,S)}return(0,x.default)(S,null,[{key:"getRange",value:function(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],h=1e9,o=-1e9,f=1e9,e=-1e9,r;if(d.length>0)for(var i=0;i<d.length;i++)r=v[d[i]],f>r.shape.boundingBox.left&&(f=r.shape.boundingBox.left),e<r.shape.boundingBox.right&&(e=r.shape.boundingBox.right),h>r.shape.boundingBox.top&&(h=r.shape.boundingBox.top),o<r.shape.boundingBox.bottom&&(o=r.shape.boundingBox.bottom);return f===1e9&&e===-1e9&&h===1e9&&o===-1e9&&(h=0,o=0,f=0,e=0),{minX:f,maxX:e,minY:h,maxY:o}}},{key:"getRangeCore",value:function(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],h=1e9,o=-1e9,f=1e9,e=-1e9,r;if(d.length>0)for(var i=0;i<d.length;i++)r=v[d[i]],f>r.x&&(f=r.x),e<r.x&&(e=r.x),h>r.y&&(h=r.y),o<r.y&&(o=r.y);return f===1e9&&e===-1e9&&h===1e9&&o===-1e9&&(h=0,o=0,f=0,e=0),{minX:f,maxX:e,minY:h,maxY:o}}},{key:"findCenter",value:function(v){return{x:.5*(v.maxX+v.minX),y:.5*(v.maxY+v.minY)}}},{key:"cloneOptions",value:function(v,d){var h={};return d===void 0||d==="node"?(E.deepExtend(h,v.options,!0),h.x=v.x,h.y=v.y,h.amountOfConnections=v.edges.length):E.deepExtend(h,v.options,!0),h}}]),S}();k.default=y},function(L,k,p){L.exports={default:p(124),__esModule:!0}},function(L,k,p){var D=p(50);L.exports=Object("z").propertyIsEnumerable(0)?Object:function(c){return D(c)=="String"?c.split(""):Object(c)}},function(L,k,p){"use strict";var D=p(52),c=p(17),b=p(83),x=p(26),C=p(22),E=p(31),y=p(129),S=p(59),m=p(85),v=p(13)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",o="keys",f="values",e=function(){return this};L.exports=function(r,i,t,a,u,n,s){y(t,i,a);var l=function(q){if(!d&&q in P)return P[q];switch(q){case o:return function(){return new t(this,q)};case f:return function(){return new t(this,q)}}return function(){return new t(this,q)}},g=i+" Iterator",T=u==f,O=!1,P=r.prototype,_=P[v]||P[h]||u&&P[u],R=_||l(u),I=u?T?l("entries"):R:void 0,F=i=="Array"&&P.entries||_,W,Y,X;if(F&&(X=m(F.call(new r)),X!==Object.prototype&&X.next&&(S(X,g,!0),!D&&!C(X,v)&&x(X,v,e))),T&&_&&_.name!==f&&(O=!0,R=function(){return _.call(this)}),(!D||s)&&(d||O||!P[v])&&x(P,v,R),E[i]=R,E[g]=e,u)if(W={values:T?R:l(f),keys:n?R:l(o),entries:I},s)for(Y in W)Y in P||b(P,Y,W[Y]);else c(c.P+c.F*(d||O),i,W);return W}},function(L,k,p){var D=p(128);L.exports=function(c,b,x){if(D(c),b===void 0)return c;switch(x){case 1:return function(C){return c.call(b,C)};case 2:return function(C,E){return c.call(b,C,E)};case 3:return function(C,E,y){return c.call(b,C,E,y)}}return function(){return c.apply(b,arguments)}}},function(L,k,p){L.exports=!p(21)&&!p(28)(function(){return Object.defineProperty(p(82)("div"),"a",{get:function(){return 7}}).a!=7})},function(L,k,p){var D=p(32),c=p(18).document,b=D(c)&&D(c.createElement);L.exports=function(x){return b?c.createElement(x):{}}},function(L,k,p){L.exports=p(26)},function(L,k,p){var D=p(22),c=p(25),b=p(131)(!1),x=p(56)("IE_PROTO");L.exports=function(C,E){var y=c(C),S=0,m=[],v;for(v in y)v!=x&&D(y,v)&&m.push(v);for(;E.length>S;)D(y,v=E[S++])&&(~b(m,v)||m.push(v));return m}},function(L,k,p){var D=p(22),c=p(41),b=p(56)("IE_PROTO"),x=Object.prototype;L.exports=Object.getPrototypeOf||function(C){return C=c(C),D(C,b)?C[b]:typeof C.constructor=="function"&&C instanceof C.constructor?C.constructor.prototype:C instanceof Object?x:null}},function(L,k,p){var D=p(50),c=p(13)("toStringTag"),b=D(function(){return arguments}())=="Arguments",x=function(C,E){try{return C[E]}catch{}};L.exports=function(C){var E,y,S;return C===void 0?"Undefined":C===null?"Null":typeof(y=x(E=Object(C),c))=="string"?y:b?D(E):(S=D(E))=="Object"&&typeof E.callee=="function"?"Arguments":S}},function(L,k,p){var D=p(17),c=p(7),b=p(28);L.exports=function(x,C){var E=(c.Object||{})[x]||Object[x],y={};y[x]=C(E),D(D.S+D.F*b(function(){E(1)}),"Object",y)}},function(L,k,p){var D=p(84),c=p(58).concat("length","prototype");k.f=Object.getOwnPropertyNames||function(x){return D(x,c)}},function(L,k,p){var D=p(42),c=p(39),b=p(25),x=p(53),C=p(22),E=p(81),y=Object.getOwnPropertyDescriptor;k.f=p(21)?y:function(m,v){if(m=b(m),v=x(v,!0),E)try{return y(m,v)}catch{}if(C(m,v))return c(!D.f.call(m,v),m[v])}},function(L,k,p){L.exports={default:p(162),__esModule:!0}},function(L,k,p){"use strict";function D(c,b){this.x=c!==void 0?c:0,this.y=b!==void 0?b:0}L.exports=D},function(L,k,p){"use strict";var D=p(2);function c(b,x){if(b===void 0)throw new Error("No container element defined");if(this.container=b,this.visible=x&&x.visible!=null?x.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var C=this;this.frame.slide.onmousedown=function(E){C._onMouseDown(E)},this.frame.prev.onclick=function(E){C.prev(E)},this.frame.play.onclick=function(E){C.togglePlay(E)},this.frame.next.onclick=function(E){C.next(E)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}c.prototype.prev=function(){var b=this.getIndex();b>0&&(b--,this.setIndex(b))},c.prototype.next=function(){var b=this.getIndex();b<this.values.length-1&&(b++,this.setIndex(b))},c.prototype.playNext=function(){var b=new Date,x=this.getIndex();x<this.values.length-1?(x++,this.setIndex(x)):this.playLoop&&(x=0,this.setIndex(x));var C=new Date,E=C-b,y=Math.max(this.playInterval-E,0),S=this;this.playTimeout=setTimeout(function(){S.playNext()},y)},c.prototype.togglePlay=function(){this.playTimeout===void 0?this.play():this.stop()},c.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},c.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},c.prototype.setOnChangeCallback=function(b){this.onChangeCallback=b},c.prototype.setPlayInterval=function(b){this.playInterval=b},c.prototype.getPlayInterval=function(){return this.playInterval},c.prototype.setPlayLoop=function(b){this.playLoop=b},c.prototype.onChange=function(){this.onChangeCallback!==void 0&&this.onChangeCallback()},c.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var b=this.indexToLeft(this.index);this.frame.slide.style.left=b+"px"}},c.prototype.setValues=function(b){this.values=b,this.values.length>0?this.setIndex(0):this.index=void 0},c.prototype.setIndex=function(b){if(b<this.values.length)this.index=b,this.redraw(),this.onChange();else throw new Error("Index out of range")},c.prototype.getIndex=function(){return this.index},c.prototype.get=function(){return this.values[this.index]},c.prototype._onMouseDown=function(b){var x=b.which?b.which===1:b.button===1;if(x){this.startClientX=b.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var C=this;this.onmousemove=function(E){C._onMouseMove(E)},this.onmouseup=function(E){C._onMouseUp(E)},D.addEventListener(document,"mousemove",this.onmousemove),D.addEventListener(document,"mouseup",this.onmouseup),D.preventDefault(b)}},c.prototype.leftToIndex=function(b){var x=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,C=b-3,E=Math.round(C/x*(this.values.length-1));return E<0&&(E=0),E>this.values.length-1&&(E=this.values.length-1),E},c.prototype.indexToLeft=function(b){var x=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,C=b/(this.values.length-1)*x,E=C+3;return E},c.prototype._onMouseMove=function(b){var x=b.clientX-this.startClientX,C=this.startSlideX+x,E=this.leftToIndex(C);this.setIndex(E),D.preventDefault()},c.prototype._onMouseUp=function(b){this.frame.style.cursor="auto",D.removeEventListener(document,"mousemove",this.onmousemove),D.removeEventListener(document,"mouseup",this.onmouseup),D.preventDefault()},L.exports=c},function(L,k,p){"use strict";function D(c,b,x,C){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(c,b,x,C)}D.prototype.isNumeric=function(c){return!isNaN(parseFloat(c))&&isFinite(c)},D.prototype.setRange=function(c,b,x,C){if(!this.isNumeric(c))throw new Error("Parameter 'start' is not numeric; value: "+c);if(!this.isNumeric(b))throw new Error("Parameter 'end' is not numeric; value: "+c);if(!this.isNumeric(x))throw new Error("Parameter 'step' is not numeric; value: "+c);this._start=c||0,this._end=b||0,this.setStep(x,C)},D.prototype.setStep=function(c,b){c===void 0||c<=0||(b!==void 0&&(this.prettyStep=b),this.prettyStep===!0?this._step=D.calculatePrettyStep(c):this._step=c)},D.calculatePrettyStep=function(c){var b=function(m){return Math.log(m)/Math.LN10},x=Math.pow(10,Math.round(b(c))),C=2*Math.pow(10,Math.round(b(c/2))),E=5*Math.pow(10,Math.round(b(c/5))),y=x;return Math.abs(C-c)<=Math.abs(y-c)&&(y=C),Math.abs(E-c)<=Math.abs(y-c)&&(y=E),y<=0&&(y=1),y},D.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},D.prototype.getStep=function(){return this._step},D.prototype.start=function(c){c===void 0&&(c=!1),this._current=this._start-this._start%this._step,c&&this.getCurrent()<this._start&&this.next()},D.prototype.next=function(){this._current+=this._step},D.prototype.end=function(){return this._current>this._end},L.exports=D},function(L,k,p){"use strict";var D=p(6),c=b(D);function b(P){return P&&P.__esModule?P:{default:P}}var x=p(2),C=p(95),E=p(34),y={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},S={dot:y.DOT,"dot-line":y.DOTLINE,"dot-color":y.DOTCOLOR,"dot-size":y.DOTSIZE,line:y.LINE,grid:y.GRID,surface:y.SURFACE,bar:y.BAR,"bar-color":y.BARCOLOR,"bar-size":y.BARSIZE},m=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],v=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],d=void 0;function h(P){for(var _ in P)if(P.hasOwnProperty(_))return!1;return!0}function o(P){return P===void 0||P===""||typeof P!="string"?P:P.charAt(0).toUpperCase()+P.slice(1)}function f(P,_){return P===void 0||P===""?_:P+o(_)}function e(P,_,R,I){for(var F,W,Y=0;Y<R.length;++Y)F=R[Y],W=f(I,F),_[W]=P[F]}function r(P,_,R,I){for(var F,W,Y=0;Y<R.length;++Y)F=R[Y],P[F]!==void 0&&(W=f(I,F),_[W]=P[F])}function i(P,_){if(P===void 0||h(P))throw new Error("No DEFAULTS passed");if(_===void 0)throw new Error("No dst passed");d=P,e(P,_,m),e(P,_,v,"default"),a(P,_),_.margin=10,_.showGrayBottom=!1,_.showTooltip=!1,_.onclick_callback=null,_.eye=new E(0,0,-1)}function t(P,_){if(P!==void 0){if(_===void 0)throw new Error("No dst passed");if(d===void 0||h(d))throw new Error("DEFAULTS not set for module Settings");r(P,_,m),r(P,_,v,"default"),a(P,_)}}function a(P,_){P.backgroundColor!==void 0&&g(P.backgroundColor,_),T(P.dataColor,_),l(P.style,_),u(P.showLegend,_),O(P.cameraPosition,_),P.tooltip!==void 0&&(_.showTooltip=P.tooltip),P.onclick!=null&&(_.onclick_callback=P.onclick),P.tooltipStyle!==void 0&&x.selectiveDeepExtend(["tooltipStyle"],_,P)}function u(P,_){if(P===void 0){var R=d.showLegend===void 0;if(R){var I=_.style===y.DOTCOLOR||_.style===y.DOTSIZE;_.showLegend=I}}else _.showLegend=P}function n(P){var _=S[P];return _===void 0?-1:_}function s(P){var _=!1;for(var R in y)if(y[R]===P){_=!0;break}return _}function l(P,_){if(P!==void 0){var R;if(typeof P=="string"){if(R=n(P),R===-1)throw new Error("Style '"+P+"' is invalid")}else{if(!s(P))throw new Error("Style '"+P+"' is invalid");R=P}_.style=R}}function g(P,_){var R="white",I="gray",F=1;if(typeof P=="string")R=P,I="none",F=0;else if((typeof P>"u"?"undefined":(0,c.default)(P))==="object")P.fill!==void 0&&(R=P.fill),P.stroke!==void 0&&(I=P.stroke),P.strokeWidth!==void 0&&(F=P.strokeWidth);else throw new Error("Unsupported type of backgroundColor");_.frame.style.backgroundColor=R,_.frame.style.borderColor=I,_.frame.style.borderWidth=F+"px",_.frame.style.borderStyle="solid"}function T(P,_){P!==void 0&&(_.dataColor===void 0&&(_.dataColor={}),typeof P=="string"?(_.dataColor.fill=P,_.dataColor.stroke=P):(P.fill&&(_.dataColor.fill=P.fill),P.stroke&&(_.dataColor.stroke=P.stroke),P.strokeWidth!==void 0&&(_.dataColor.strokeWidth=P.strokeWidth)))}function O(P,_){var R=P;R!==void 0&&(_.camera===void 0&&(_.camera=new C),_.camera.setArmRotation(R.horizontal,R.vertical),_.camera.setArmLength(R.distance))}L.exports.STYLE=y,L.exports.setDefaults=i,L.exports.setOptions=t,L.exports.setCameraPosition=O},function(L,k,p){"use strict";var D=p(165),c=b(D);function b(E){return E&&E.__esModule?E:{default:E}}var x=p(34);function C(){this.armLocation=new x,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new x,this.offsetMultiplier=.6,this.cameraLocation=new x,this.cameraRotation=new x(.5*Math.PI,0,0),this.calculateCameraOrientation()}C.prototype.setOffset=function(E,y){var S=Math.abs,m=c.default,v=this.offsetMultiplier,d=this.armLength*v;S(E)>d&&(E=m(E)*d),S(y)>d&&(y=m(y)*d),this.cameraOffset.x=E,this.cameraOffset.y=y,this.calculateCameraOrientation()},C.prototype.getOffset=function(){return this.cameraOffset},C.prototype.setArmLocation=function(E,y,S){this.armLocation.x=E,this.armLocation.y=y,this.armLocation.z=S,this.calculateCameraOrientation()},C.prototype.setArmRotation=function(E,y){E!==void 0&&(this.armRotation.horizontal=E),y!==void 0&&(this.armRotation.vertical=y,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(E!==void 0||y!==void 0)&&this.calculateCameraOrientation()},C.prototype.getArmRotation=function(){var E={};return E.horizontal=this.armRotation.horizontal,E.vertical=this.armRotation.vertical,E},C.prototype.setArmLength=function(E){E!==void 0&&(this.armLength=E,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},C.prototype.getArmLength=function(){return this.armLength},C.prototype.getCameraLocation=function(){return this.cameraLocation},C.prototype.getCameraRotation=function(){return this.cameraRotation},C.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var E=this.cameraRotation.x,y=this.cameraRotation.z,S=this.cameraOffset.x,m=this.cameraOffset.y,v=Math.sin,d=Math.cos;this.cameraLocation.x=this.cameraLocation.x+S*d(y)+m*-v(y)*d(E),this.cameraLocation.y=this.cameraLocation.y+S*v(y)+m*d(y)*d(E),this.cameraLocation.z=this.cameraLocation.z+m*v(E)},L.exports=C},function(L,k,p){"use strict";var D=p(12);function c(b,x,C){this.dataGroup=b,this.column=x,this.graph=C,this.index=void 0,this.value=void 0,this.values=b.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,C.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}c.prototype.isLoaded=function(){return this.loaded},c.prototype.getLoadedProgress=function(){for(var b=this.values.length,x=0;this.dataPoints[x];)x++;return Math.round(x/b*100)},c.prototype.getLabel=function(){return this.graph.filterLabel},c.prototype.getColumn=function(){return this.column},c.prototype.getSelectedValue=function(){if(this.index!==void 0)return this.values[this.index]},c.prototype.getValues=function(){return this.values},c.prototype.getValue=function(b){if(b>=this.values.length)throw new Error("Index out of range");return this.values[b]},c.prototype._getDataPoints=function(b){if(b===void 0&&(b=this.index),b===void 0)return[];var x;if(this.dataPoints[b])x=this.dataPoints[b];else{var C={};C.column=this.column,C.value=this.values[b];var E=new D(this.dataGroup.getDataSet(),{filter:function(S){return S[C.column]==C.value}}).get();x=this.dataGroup._getDataPoints(E),this.dataPoints[b]=x}return x},c.prototype.setOnLoadCallback=function(b){this.onLoadCallback=b},c.prototype.selectValue=function(b){if(b>=this.values.length)throw new Error("Index out of range");this.index=b,this.value=this.values[b]},c.prototype.loadInBackground=function(b){b===void 0&&(b=0);var x=this.graph.frame;if(b<this.values.length){x.progress===void 0&&(x.progress=document.createElement("DIV"),x.progress.style.position="absolute",x.progress.style.color="gray",x.appendChild(x.progress));var C=this.getLoadedProgress();x.progress.innerHTML="Loading animation... "+C+"%",x.progress.style.bottom="60px",x.progress.style.left="10px";var E=this;setTimeout(function(){E.loadInBackground(b+1)},10),this.loaded=!1}else this.loaded=!0,x.progress!==void 0&&(x.removeChild(x.progress),x.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},L.exports=c},function(L,k,p){"use strict";var D=p(35),c=p(44),b=p(10),x=p(2);function C(y){this.active=!1,this.dom={container:y},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=b(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var S=this,m=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];m.forEach(function(v){S.hammer.on(v,function(d){d.stopPropagation()})}),document&&document.body&&(this.onClick=function(v){E(v.target,y)||S.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=D(),this.escListener=this.deactivate.bind(this)}c(C.prototype),C.current=null,C.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},C.prototype.activate=function(){C.current&&C.current.deactivate(),C.current=this,this.active=!0,this.dom.overlay.style.display="none",x.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},C.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",x.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},C.prototype._onTapOverlay=function(y){this.activate(),y.stopPropagation()};function E(y,S){for(;y;){if(y===S)return!0;y=y.parentNode}return!1}L.exports=C},function(L,k,p){"use strict";k.en={current:"current",time:"time"},k.en_EN=k.en,k.en_US=k.en,k.it={current:"attuale",time:"tempo"},k.it_IT=k.it,k.it_CH=k.it,k.nl={current:"huidige",time:"tijd"},k.nl_NL=k.nl,k.nl_BE=k.nl,k.de={current:"Aktuelle",time:"Zeit"},k.de_DE=k.de,k.fr={current:"actuel",time:"heure"},k.fr_FR=k.fr,k.fr_CA=k.fr,k.fr_BE=k.fr,k.es={current:"corriente",time:"hora"},k.es_ES=k.es},function(L,k,p){"use strict";var D=p(29),c=C(D),b=p(6),x=C(b);function C(s){return s&&s.__esModule?s:{default:s}}var E=p(10),y=p(2),S=p(11),m=p(12),v=p(66),d=p(16),h=p(68),o=p(69),f=p(101),e=p(102),r=p(70),i=p(103),t=p(104).default,a="__ungrouped__",u="__background__";function n(s,l){this.body=s,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(O,P,_){var R=P.order;P.order=O.order,O.order=R},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:v.snap,onDropObjectOnItem:function(O,P,_){_(P)},onAdd:function(O,P){P(O)},onUpdate:function(O,P){P(O)},onMove:function(O,P){P(O)},onRemove:function(O,P){P(O)},onMoving:function(O,P){P(O)},onAddGroup:function(O,P){P(O)},onMoveGroup:function(O,P){P(O)},onRemoveGroup:function(O,P){P(O)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=y.extend({},this.defaultOptions),this.options.rtl=l.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:s.util.toScreen,toTime:s.util.toTime},this.dom={},this.props={},this.hammer=null;var g=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(O,P,_){g._onAdd(P.items)},update:function(O,P,_){g._onUpdate(P.items)},remove:function(O,P,_){g._onRemove(P.items)}},this.groupListeners={add:function(O,P,_){if(g._onAddGroups(P.items),g.groupsData&&g.groupsData.length>0){var R=g.groupsData.getDataSet();R.get().forEach(function(I){if(I.nestedGroups){I.showNested!=!1&&(I.showNested=!0);var F=[];I.nestedGroups.forEach(function(W){var Y=R.get(W);Y&&(Y.nestedInGroup=I.id,I.showNested==!1&&(Y.visible=!1),F=F.concat(Y))}),R.update(F,_)}})}},update:function(O,P,_){g._onUpdateGroups(P.items)},remove:function(O,P,_){g._onRemoveGroups(P.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(l)}n.prototype=new d,n.types={background:i,box:f,range:r,point:e},n.prototype._create=function(){var s=document.createElement("div");s.className="vis-itemset",s["timeline-itemset"]=this,this.dom.frame=s;var l=document.createElement("div");l.className="vis-background",s.appendChild(l),this.dom.background=l;var g=document.createElement("div");g.className="vis-foreground",s.appendChild(g),this.dom.foreground=g;var T=document.createElement("div");T.className="vis-axis",this.dom.axis=T;var O=document.createElement("div");O.className="vis-labelset",this.dom.labelSet=O,this._updateUngrouped();var P=new o(u,null,this);P.show(),this.groups[u]=P,this.hammer=new E(this.body.dom.centerContainer),this.hammer.on("hammer.input",(function(_){_.isFirst&&this._onTouch(_)}).bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:E.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new E(this.body.dom.rightContainer):this.groupHammer=new E(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:E.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},n.prototype.setOptions=function(s){if(s){var l=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];y.selectiveExtend(l,this.options,s),"itemsAlwaysDraggable"in s&&(typeof s.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=s.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):(0,x.default)(s.itemsAlwaysDraggable)==="object"&&(y.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,s.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in s&&(typeof s.orientation=="string"?this.options.orientation.item=s.orientation==="top"?"top":"bottom":(0,x.default)(s.orientation)==="object"&&"item"in s.orientation&&(this.options.orientation.item=s.orientation.item)),"margin"in s&&(typeof s.margin=="number"?(this.options.margin.axis=s.margin,this.options.margin.item.horizontal=s.margin,this.options.margin.item.vertical=s.margin):(0,x.default)(s.margin)==="object"&&(y.selectiveExtend(["axis"],this.options.margin,s.margin),"item"in s.margin&&(typeof s.margin.item=="number"?(this.options.margin.item.horizontal=s.margin.item,this.options.margin.item.vertical=s.margin.item):(0,x.default)(s.margin.item)==="object"&&y.selectiveExtend(["horizontal","vertical"],this.options.margin.item,s.margin.item)))),"editable"in s&&(typeof s.editable=="boolean"?(this.options.editable.updateTime=s.editable,this.options.editable.updateGroup=s.editable,this.options.editable.add=s.editable,this.options.editable.remove=s.editable,this.options.editable.overrideItems=!1):(0,x.default)(s.editable)==="object"&&y.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,s.editable)),"groupEditable"in s&&(typeof s.groupEditable=="boolean"?(this.options.groupEditable.order=s.groupEditable,this.options.groupEditable.add=s.groupEditable,this.options.groupEditable.remove=s.groupEditable):(0,x.default)(s.groupEditable)==="object"&&y.selectiveExtend(["order","add","remove"],this.options.groupEditable,s.groupEditable));var g=(function(T){var O=s[T];if(O){if(!(O instanceof Function))throw new Error("option "+T+" must be a function "+T+"(item, callback)");this.options[T]=O}}).bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(g),this.markDirty()}},n.prototype.markDirty=function(s){this.groupIds=[],s&&s.refreshItems&&y.forEach(this.items,function(l){l.dirty=!0,l.displayed&&l.redraw()})},n.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},n.prototype.setSelection=function(s){var l,g,T,O;for(s==null&&(s=[]),Array.isArray(s)||(s=[s]),l=0,g=this.selection.length;l<g;l++)T=this.selection[l],O=this.items[T],O&&O.unselect();for(this.selection=[],l=0,g=s.length;l<g;l++)T=s[l],O=this.items[T],O&&(this.selection.push(T),O.select())},n.prototype.getSelection=function(){return this.selection.concat([])},n.prototype.getVisibleItems=function(){var s=this.body.range.getRange(),l,g;this.options.rtl?(l=this.body.util.toScreen(s.start),g=this.body.util.toScreen(s.end)):(g=this.body.util.toScreen(s.start),l=this.body.util.toScreen(s.end));var T=[];for(var O in this.groups)if(this.groups.hasOwnProperty(O))for(var P=this.groups[O],_=P.isVisible?P.visibleItems:[],R=0;R<_.length;R++){var I=_[R];this.options.rtl?I.right<g&&I.right+I.width>l&&T.push(I.id):I.left<l&&I.left+I.width>g&&T.push(I.id)}return T},n.prototype._deselect=function(s){for(var l=this.selection,g=0,T=l.length;g<T;g++)if(l[g]==s){l.splice(g,1);break}},n.prototype.redraw=function(){var s=this.options.margin,l=this.body.range,g=y.option.asSize,T=this.options,O=T.orientation.item,P=!1,_=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,_.className="vis-itemset",P=this._orderGroups()||P;var R=l.end-l.start,I=R!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,F=l.start!=this.lastRangeStart,W=T.stack!=this.lastStack,Y=T.stackSubgroups!=this.lastStackSubgroups,X=I||F||W||Y;this.lastVisibleInterval=R,this.lastRangeStart=l.start,this.lastStack=T.stack,this.lastStackSubgroups=T.stackSubgroups,this.props.lastWidth=this.props.width;var q=this._firstGroup(),Q={item:s.item,axis:s.axis},J={item:s.item,axis:s.item.vertical/2},j=0,G=s.axis+s.item.vertical;this.groups[u].redraw(l,J,X);var U={},$=0;y.forEach(this.groups,function(he,de){if(de!==u){var ve=he==q?Q:J,De=!0;U[de]=he.redraw(l,ve,X,De),$=U[de].length}});var ne=$>0;if(ne){for(var se={},te=0;te<$;te++)y.forEach(U,function(he,de){se[de]=he[te]()});y.forEach(this.groups,function(he,de){if(de!==u){var ve=se[de];P=ve||P,j+=he.height}}),j=Math.max(j,G)}return j=Math.max(j,G),_.style.height=g(j),this.props.width=_.offsetWidth,this.props.height=j,this.dom.axis.style.top=g(O=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,P=this._isResized()||P,P},n.prototype._firstGroup=function(){var s=this.options.orientation.item=="top"?0:this.groupIds.length-1,l=this.groupIds[s],g=this.groups[l]||this.groups[a];return g||null},n.prototype._updateUngrouped=function(){var s=this.groups[a],l,g;if(this.groupsData){if(s){s.hide(),delete this.groups[a];for(g in this.items)if(this.items.hasOwnProperty(g)){l=this.items[g],l.parent&&l.parent.remove(l);var T=this._getGroupId(l.data),O=this.groups[T];O&&O.add(l)||l.hide()}}}else if(!s){var P=null,_=null;s=new h(P,_,this),this.groups[a]=s;for(g in this.items)this.items.hasOwnProperty(g)&&(l=this.items[g],s.add(l));s.show()}},n.prototype.getLabelSet=function(){return this.dom.labelSet},n.prototype.setItems=function(s){var l=this,g,T=this.itemsData;if(!s)this.itemsData=null;else if(s instanceof S||s instanceof m)this.itemsData=s;else throw new TypeError("Data must be an instance of DataSet or DataView");if(T&&(y.forEach(this.itemListeners,function(P,_){T.off(_,P)}),g=T.getIds(),this._onRemove(g)),this.itemsData){var O=this.id;y.forEach(this.itemListeners,function(P,_){l.itemsData.on(_,P,O)}),g=this.itemsData.getIds(),this._onAdd(g),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},n.prototype.getItems=function(){return this.itemsData},n.prototype.setGroups=function(s){var l=this,g;if(this.groupsData&&(y.forEach(this.groupListeners,function(P,_){l.groupsData.off(_,P)}),g=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(g)),!s)this.groupsData=null;else if(s instanceof S||s instanceof m)this.groupsData=s;else throw new TypeError("Data must be an instance of DataSet or DataView");if(this.groupsData){var T=this.groupsData;this.groupsData instanceof m&&(T=this.groupsData.getDataSet()),T.get().forEach(function(P){P.nestedGroups&&P.nestedGroups.forEach(function(_){var R=T.get(_);R.nestedInGroup=P.id,P.showNested==!1&&(R.visible=!1),T.update(R)})});var O=this.id;y.forEach(this.groupListeners,function(P,_){l.groupsData.on(_,P,O)}),g=this.groupsData.getIds(),this._onAddGroups(g)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},n.prototype.getGroups=function(){return this.groupsData},n.prototype.removeItem=function(s){var l=this.itemsData.get(s),g=this.itemsData.getDataSet();l&&this.options.onRemove(l,function(T){T&&g.remove(s)})},n.prototype._getType=function(s){return s.type||this.options.type||(s.end?"range":"box")},n.prototype._getGroupId=function(s){var l=this._getType(s);return l=="background"&&s.group==null?u:this.groupsData?s.group:a},n.prototype._onUpdate=function(s){var l=this;s.forEach((function(g){var T=l.itemsData.get(g,l.itemOptions),O=l.items[g],P=T?l._getType(T):null,_=n.types[P],R;if(O&&(!_||!(O instanceof _)?(R=O.selected,l._removeItem(O),O=null):l._updateItem(O,T)),!O&&T)if(_)O=new _(T,l.conversion,l.options),O.id=g,l._addItem(O),R&&(this.selection.push(g),O.select());else throw P=="rangeoverflow"?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+P+'"')}).bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},n.prototype._onAdd=n.prototype._onUpdate,n.prototype._onRemove=function(s){var l=0,g=this;s.forEach(function(T){var O=g.items[T];O&&(l++,g._removeItem(O))}),l&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},n.prototype._order=function(){y.forEach(this.groups,function(s){s.order()})},n.prototype._onUpdateGroups=function(s){this._onAddGroups(s)},n.prototype._onAddGroups=function(s){var l=this;s.forEach(function(g){var T=l.groupsData.get(g),O=l.groups[g];if(O)O.setData(T);else{if(g==a||g==u)throw new Error("Illegal group id. "+g+" is a reserved id.");var P=(0,c.default)(l.options);y.extend(P,{height:null}),O=new h(g,T,l),l.groups[g]=O;for(var _ in l.items)if(l.items.hasOwnProperty(_)){var R=l.items[_];R.data.group==g&&O.add(R)}O.order(),O.show()}}),this.body.emitter.emit("_change",{queue:!0})},n.prototype._onRemoveGroups=function(s){var l=this.groups;s.forEach(function(g){var T=l[g];T&&(T.hide(),delete l[g])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},n.prototype._orderGroups=function(){if(this.groupsData){var s=this.groupsData.getIds({order:this.options.groupOrder});s=this._orderNestedGroups(s);var l=!y.equalArray(s,this.groupIds);if(l){var g=this.groups;s.forEach(function(T){g[T].hide()}),s.forEach(function(T){g[T].show()}),this.groupIds=s}return l}else return!1},n.prototype._orderNestedGroups=function(s){var l=[];return s.forEach(function(g){var T=this.groupsData.get(g);if(T.nestedInGroup||l.push(g),T.nestedGroups){var O=this.groupsData.get({filter:function(R){return R.nestedInGroup==g},order:this.options.groupOrder}),P=O.map(function(_){return _.id});l=l.concat(P)}},this),l},n.prototype._addItem=function(s){this.items[s.id]=s;var l=this._getGroupId(s.data),g=this.groups[l];g?g&&g.data&&g.data.showNested&&(s.groupShowing=!0):s.groupShowing=!1,g&&g.add(s)},n.prototype._updateItem=function(s,l){s.setData(l);var g=this._getGroupId(s.data),T=this.groups[g];T?T&&T.data&&T.data.showNested&&(s.groupShowing=!0):s.groupShowing=!1},n.prototype._removeItem=function(s){s.hide(),delete this.items[s.id];var l=this.selection.indexOf(s.id);l!=-1&&this.selection.splice(l,1),s.parent&&s.parent.remove(s)},n.prototype._constructByEndArray=function(s){for(var l=[],g=0;g<s.length;g++)s[g]instanceof r&&l.push(s[g]);return l},n.prototype._onTouch=function(s){this.touchParams.item=this.itemFromTarget(s),this.touchParams.dragLeftItem=s.target.dragLeftItem||!1,this.touchParams.dragRightItem=s.target.dragRightItem||!1,this.touchParams.itemProps=null},n.prototype._getGroupIndex=function(s){for(var l=0;l<this.groupIds.length;l++)if(s==this.groupIds[l])return l},n.prototype._onDragStart=function(s){if(!this.touchParams.itemIsDragging){var l=this.touchParams.item||null,g=this,T;if(l&&(l.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||l.editable!=null&&!l.editable.updateTime&&!l.editable.updateGroup&&!this.options.editable.overrideItems)return;var O=this.touchParams.dragLeftItem,P=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=l,O)T={item:O,initialX:s.center.x,dragLeft:!0,data:this._cloneItemData(l.data)},this.touchParams.itemProps=[T];else if(P)T={item:P,initialX:s.center.x,dragRight:!0,data:this._cloneItemData(l.data)},this.touchParams.itemProps=[T];else if(this.options.editable.add&&(s.srcEvent.ctrlKey||s.srcEvent.metaKey))this._onDragStartAddItem(s);else{this.groupIds.length<1&&this.redraw();var _=this._getGroupIndex(l.data.group),R=this.options.itemsAlwaysDraggable.item&&!l.selected?[l.id]:this.getSelection();this.touchParams.itemProps=R.map((function(I){var F=g.items[I],W=g._getGroupIndex(F.data.group);return{item:F,initialX:s.center.x,groupOffset:_-W,data:this._cloneItemData(F.data)}}).bind(this))}s.stopPropagation()}else this.options.editable.add&&(s.srcEvent.ctrlKey||s.srcEvent.metaKey)&&this._onDragStartAddItem(s)}},n.prototype._onDragStartAddItem=function(s){var l,g,T=this.options.snap||null;this.options.rtl?(l=y.getAbsoluteRight(this.dom.frame),g=l-s.center.x+10):(l=y.getAbsoluteLeft(this.dom.frame),g=s.center.x-l-10);var O=this.body.util.toTime(g),P=this.body.util.getScale(),_=this.body.util.getStep(),R=T?T(O,P,_):O,I=R,F={type:"range",start:R,end:I,content:"new item"},W=y.randomUUID();F[this.itemsData._fieldId]=W;var Y=this.groupFromTarget(s);Y&&(F.group=Y.groupId);var X=new r(F,this.conversion,this.options);X.id=W,X.data=this._cloneItemData(F),this._addItem(X),this.touchParams.selectedItem=X;var q={item:X,initialX:s.center.x,data:X.data};this.options.rtl?q.dragLeft=!0:q.dragRight=!0,this.touchParams.itemProps=[q],s.stopPropagation()},n.prototype._onDrag=function(s){if(this.touchParams.itemProps){s.stopPropagation();var l=this,g=this.options.snap||null,T;this.options.rtl?T=this.body.dom.root.offsetLeft+this.body.domProps.right.width:T=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var O=this.body.util.getScale(),P=this.body.util.getStep(),_=this.touchParams.selectedItem,R=(this.options.editable.overrideItems||_.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&_.editable!=null&&_.editable.updateGroup,I=null;if(R&&_&&_.data.group!=null){var F=l.groupFromTarget(s);F&&(I=this._getGroupIndex(F.groupId))}this.touchParams.itemProps.forEach((function(W){var Y=l.body.util.toTime(s.center.x-T),X=l.body.util.toTime(W.initialX-T),q,Q,J,j,G;this.options.rtl?q=-(Y-X):q=Y-X;var U=this._cloneItemData(W.item.data);if(!(W.item.editable!=null&&!W.item.editable.updateTime&&!W.item.editable.updateGroup&&!l.options.editable.overrideItems)){var $=(this.options.editable.overrideItems||_.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&_.editable!=null&&_.editable.updateTime;if($){if(W.dragLeft)this.options.rtl?U.end!=null&&(J=y.convert(W.data.end,"Date"),G=new Date(J.valueOf()+q),U.end=g?g(G,O,P):G):U.start!=null&&(Q=y.convert(W.data.start,"Date"),j=new Date(Q.valueOf()+q),U.start=g?g(j,O,P):j);else if(W.dragRight)this.options.rtl?U.start!=null&&(Q=y.convert(W.data.start,"Date"),j=new Date(Q.valueOf()+q),U.start=g?g(j,O,P):j):U.end!=null&&(J=y.convert(W.data.end,"Date"),G=new Date(J.valueOf()+q),U.end=g?g(G,O,P):G);else if(U.start!=null)if(Q=y.convert(W.data.start,"Date").valueOf(),j=new Date(Q+q),U.end!=null){J=y.convert(W.data.end,"Date");var ne=J.valueOf()-Q.valueOf();U.start=g?g(j,O,P):j,U.end=new Date(U.start.valueOf()+ne)}else U.start=g?g(j,O,P):j}if(R&&!W.dragLeft&&!W.dragRight&&I!=null&&U.group!=null){var se=I-W.groupOffset;se=Math.max(0,se),se=Math.min(l.groupIds.length-1,se),U.group=l.groupIds[se]}U=this._cloneItemData(U),l.options.onMoving(U,(function(te){te&&W.item.setData(this._cloneItemData(te,"Date"))}).bind(this))}}).bind(this)),this.body.emitter.emit("_change")}},n.prototype._moveToGroup=function(s,l){var g=this.groups[l];if(g&&g.groupId!=s.data.group){var T=s.parent;T.remove(s),T.order(),s.data.group=g.groupId,g.add(s),g.order()}},n.prototype._onDragEnd=function(s){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){s.stopPropagation();var l=this,g=this.itemsData.getDataSet(),T=this.touchParams.itemProps;this.touchParams.itemProps=null,T.forEach((function(O){var P=O.item.id,_=l.itemsData.get(P,l.itemOptions)!=null;if(!_)l.options.onAdd(O.item.data,function(I){l._removeItem(O.item),I&&l.itemsData.getDataSet().add(I),l.body.emitter.emit("_change")});else{var R=this._cloneItemData(O.item.data);l.options.onMove(R,function(I){I?(I[g._fieldId]=P,g.update(I)):(O.item.setData(O.data),l.body.emitter.emit("_change"))})}}).bind(this))}},n.prototype._onGroupClick=function(s){var l=this.groupFromTarget(s);if(!(!l||!l.nestedGroups)){var g=this.groupsData.getDataSet(),T=g.get(l.groupId);T.showNested==null&&(T.showNested=!0),T.showNested=!T.showNested;var O=g.get(l.nestedGroups).map(function(_){return _.visible=T.showNested,_});if(g.update(O.concat(T)),T.showNested)y.removeClassName(l.dom.label,"collapsed"),y.addClassName(l.dom.label,"expanded");else{y.removeClassName(l.dom.label,"expanded");var P=this.options.rtl?"collapsed-rtl":"collapsed";y.addClassName(l.dom.label,P)}}},n.prototype._onGroupDragStart=function(s){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(s),this.groupTouchParams.group&&(s.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},n.prototype._onGroupDrag=function(s){if(this.options.groupEditable.order&&this.groupTouchParams.group){s.stopPropagation();var l=this.groupsData;this.groupsData instanceof m&&(l=this.groupsData.getDataSet());var g=this.groupFromTarget(s);if(g&&g.height!=this.groupTouchParams.group.height){var T=g.top<this.groupTouchParams.group.top,O=s.center?s.center.y:s.clientY,P=y.getAbsoluteTop(g.dom.foreground),_=this.groupTouchParams.group.height;if(T){if(P+_<O)return}else{var R=g.height;if(P+R-_>O)return}}if(g&&g!=this.groupTouchParams.group){var I=l.get(g.groupId),F=l.get(this.groupTouchParams.group.groupId);F&&I&&(this.options.groupOrderSwap(F,I,l),l.update(F),l.update(I));var W=l.getIds({order:this.options.groupOrder});if(!y.equalArray(W,this.groupTouchParams.originalOrder))for(var Y=this.groupTouchParams.originalOrder,X=this.groupTouchParams.group.groupId,q=Math.min(Y.length,W.length),Q=0,J=0,j=0;Q<q;){for(;Q+J<q&&Q+j<q&&W[Q+J]==Y[Q+j];)Q++;if(Q+J>=q)break;if(W[Q+J]==X)J=1;else if(Y[Q+j]==X)j=1;else{var G=W.indexOf(Y[Q+j]),U=l.get(W[Q+J]),$=l.get(Y[Q+j]);this.options.groupOrderSwap(U,$,l),l.update(U),l.update($);var ne=W[Q+J];W[Q+J]=Y[Q+j],W[G]=ne,Q++}}}}},n.prototype._onGroupDragEnd=function(s){if(this.options.groupEditable.order&&this.groupTouchParams.group){s.stopPropagation();var l=this,g=l.groupTouchParams.group.groupId,T=l.groupsData.getDataSet(),O=y.extend({},T.get(g));l.options.onMoveGroup(O,function(P){if(P)P[T._fieldId]=g,T.update(P);else{var _=T.getIds({order:l.options.groupOrder});if(!y.equalArray(_,l.groupTouchParams.originalOrder))for(var R=l.groupTouchParams.originalOrder,I=Math.min(R.length,_.length),F=0;F<I;){for(;F<I&&_[F]==R[F];)F++;if(F>=I)break;var W=_.indexOf(R[F]),Y=T.get(_[F]),X=T.get(R[F]);l.options.groupOrderSwap(Y,X,T),T.update(Y),T.update(X);var q=_[F];_[F]=R[F],_[W]=q,F++}}}),l.body.emitter.emit("groupDragged",{groupId:g})}},n.prototype._onSelectItem=function(s){if(this.options.selectable){var l=s.srcEvent&&(s.srcEvent.ctrlKey||s.srcEvent.metaKey),g=s.srcEvent&&s.srcEvent.shiftKey;if(l||g){this._onMultiSelectItem(s);return}var T=this.getSelection(),O=this.itemFromTarget(s),P=O?[O.id]:[];this.setSelection(P);var _=this.getSelection();(_.length>0||T.length>0)&&this.body.emitter.emit("select",{items:_,event:s})}},n.prototype._onMouseOver=function(s){var l=this.itemFromTarget(s);if(l){var g=this.itemFromRelatedTarget(s);if(l!==g){var T=l.getTitle();if(this.options.showTooltips&&T){this.popup==null&&(this.popup=new t(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(T);var O=this.body.dom.centerContainer;this.popup.setPosition(s.clientX-y.getAbsoluteLeft(O)+O.offsetLeft,s.clientY-y.getAbsoluteTop(O)+O.offsetTop),this.popup.show()}else this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:l.id,event:s})}}},n.prototype._onMouseOut=function(s){var l=this.itemFromTarget(s);if(l){var g=this.itemFromRelatedTarget(s);l!==g&&(this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:l.id,event:s}))}},n.prototype._onMouseMove=function(s){var l=this.itemFromTarget(s);if(l&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var g=this.body.dom.centerContainer;this.popup.setPosition(s.clientX-y.getAbsoluteLeft(g)+g.offsetLeft,s.clientY-y.getAbsoluteTop(g)+g.offsetTop),this.popup.show()}},n.prototype._onMouseWheel=function(s){this.touchParams.itemIsDragging&&this._onDragEnd(s)},n.prototype._onUpdateItem=function(s){if(this.options.selectable&&this.options.editable.add){var l=this;if(s){var g=l.itemsData.get(s.id);this.options.onUpdate(g,function(T){T&&l.itemsData.getDataSet().update(T)})}}},n.prototype._onDropObjectOnItem=function(s){var l=this.itemFromTarget(s),g=JSON.parse(s.dataTransfer.getData("text"));this.options.onDropObjectOnItem(g,l)},n.prototype._onAddItem=function(s){if(this.options.selectable&&this.options.editable.add){var l=this,g=this.options.snap||null,T,O;this.options.rtl?(T=y.getAbsoluteRight(this.dom.frame),O=T-s.center.x):(T=y.getAbsoluteLeft(this.dom.frame),O=s.center.x-T);var P=this.body.util.toTime(O),_=this.body.util.getScale(),R=this.body.util.getStep(),I,F;s.type=="drop"?(F=JSON.parse(s.dataTransfer.getData("text")),F.content=F.content?F.content:"new item",F.start=F.start?F.start:g?g(P,_,R):P,F.type=F.type||"box",F[this.itemsData._fieldId]=F.id||y.randomUUID(),F.type=="range"&&!F.end&&(I=this.body.util.toTime(O+this.props.width/5),F.end=g?g(I,_,R):I)):(F={start:g?g(P,_,R):P,content:"new item"},F[this.itemsData._fieldId]=y.randomUUID(),this.options.type==="range"&&(I=this.body.util.toTime(O+this.props.width/5),F.end=g?g(I,_,R):I));var W=this.groupFromTarget(s);W&&(F.group=W.groupId),F=this._cloneItemData(F),this.options.onAdd(F,function(Y){Y&&(l.itemsData.getDataSet().add(Y),s.type=="drop"&&l.setSelection([Y.id]))})}},n.prototype._onMultiSelectItem=function(s){if(this.options.selectable){var l=this.itemFromTarget(s);if(l){var g=this.options.multiselect?this.getSelection():[],T=s.srcEvent&&s.srcEvent.shiftKey||!1;if(T&&this.options.multiselect){var O=this.itemsData.get(l.id).group,P=void 0;this.options.multiselectPerGroup&&g.length>0&&(P=this.itemsData.get(g[0]).group),(!this.options.multiselectPerGroup||P==null||P==O)&&g.push(l.id);var _=n._getItemRange(this.itemsData.get(g,this.itemOptions));if(!this.options.multiselectPerGroup||P==O){g=[];for(var R in this.items)if(this.items.hasOwnProperty(R)){var I=this.items[R],F=I.data.start,W=I.data.end!==void 0?I.data.end:F;F>=_.min&&W<=_.max&&(!this.options.multiselectPerGroup||P==this.itemsData.get(I.id).group)&&!(I instanceof i)&&g.push(I.id)}}}else{var Y=g.indexOf(l.id);Y==-1?g.push(l.id):g.splice(Y,1)}this.setSelection(g),this.body.emitter.emit("select",{items:this.getSelection(),event:s})}}},n._getItemRange=function(s){var l=null,g=null;return s.forEach(function(T){(g==null||T.start<g)&&(g=T.start),T.end!=null?(l==null||T.end>l)&&(l=T.end):(l==null||T.start>l)&&(l=T.start)}),{min:g,max:l}},n.prototype.itemFromElement=function(s){for(var l=s;l;){if(l.hasOwnProperty("timeline-item"))return l["timeline-item"];l=l.parentNode}return null},n.prototype.itemFromTarget=function(s){return this.itemFromElement(s.target)},n.prototype.itemFromRelatedTarget=function(s){return this.itemFromElement(s.relatedTarget)},n.prototype.groupFromTarget=function(s){var l=s.center?s.center.y:s.clientY,g=this.groupIds;g.length<=0&&this.groupsData&&(g=this.groupsData.getIds({order:this.options.groupOrder}));for(var T=0;T<g.length;T++){var O=g[T],P=this.groups[O],_=P.dom.foreground,R=y.getAbsoluteTop(_);if(l>R&&l<R+_.offsetHeight)return P;if(this.options.orientation.item==="top"){if(T===this.groupIds.length-1&&l>R)return P}else if(T===0&&l<R+_.offset)return P}return null},n.itemSetFromTarget=function(s){for(var l=s.target;l;){if(l.hasOwnProperty("timeline-itemset"))return l["timeline-itemset"];l=l.parentNode}return null},n.prototype._cloneItemData=function(s,l){var g=y.extend({},s);return l||(l=this.itemsData.getDataSet()._options.type),g.start!=null&&(g.start=y.convert(g.start,l&&l.start||"Date")),g.end!=null&&(g.end=y.convert(g.end,l&&l.end||"Date")),g},L.exports=n},function(L,k,p){"use strict";var D=.001;k.orderByStart=function(c){c.sort(function(b,x){return b.data.start-x.data.start})},k.orderByEnd=function(c){c.sort(function(b,x){var C="end"in b.data?b.data.end:b.data.start,E="end"in x.data?x.data.end:x.data.start;return C-E})},k.stack=function(c,b,x){if(x)for(var C=0;C<c.length;C++)c[C].top=null;for(var C=0;C<c.length;C++){var E=c[C];if(E.stack&&E.top===null){E.top=b.axis;do{for(var y=null,S=0,m=c.length;S<m;S++){var v=c[S];if(v.top!==null&&v!==E&&v.stack&&k.collision(E,v,b.item,v.options.rtl)){y=v;break}}y!=null&&(E.top=y.top+y.height+b.item.vertical)}while(y)}}},k.substack=function(c,b,x){for(var C=0;C<c.length;C++)c[C].top=null;var E=x.height;for(C=0;C<c.length;C++){var y=c[C];if(y.stack&&y.top===null){y.top=y.baseTop;do{for(var S=null,m=0,v=c.length;m<v;m++){var d=c[m];if(d.top!==null&&d!==y&&k.collision(y,d,b.item,d.options.rtl)){S=d;break}}S!=null&&(y.top=S.top+S.height+b.item.vertical),y.top+y.height>E&&(E=y.top+y.height)}while(S)}}x.height=E-x.top+.5*b.item.vertical},k.nostack=function(c,b,x,C){for(var E=0;E<c.length;E++)if(c[E].data.subgroup==null)c[E].top=b.item.vertical;else if(c[E].data.subgroup!==void 0&&C){var y=0;for(var S in x)x.hasOwnProperty(S)&&x[S].visible==!0&&x[S].index<x[c[E].data.subgroup].index&&(y+=x[S].height,x[c[E].data.subgroup].top=y);c[E].top=y+.5*b.item.vertical}C||k.stackSubgroups(c,b,x)},k.stackSubgroups=function(c,b,x){for(var C in x)if(x.hasOwnProperty(C)){x[C].top=0;do{var E=null;for(var y in x)if(x[y].top!==null&&y!==C&&x[C].index>x[y].index&&k.collisionByTimes(x[C],x[y])){E=x[y];break}E!=null&&(x[C].top=E.top+E.height)}while(E)}for(var S=0;S<c.length;S++)c[S].data.subgroup!==void 0&&(c[S].top=x[c[S].data.subgroup].top+.5*b.item.vertical)},k.stackSubgroupsWithInnerStack=function(c,b,x){var C=!1,E=[];for(var y in x)x[y].hasOwnProperty("index")?E[x[y].index]=y:E.push(y);for(var S=0;S<E.length;S++)if(y=E[S],x.hasOwnProperty(y)){C=C||x[y].stack,x[y].top=0;for(var m in x)x[m].visible&&x[y].index>x[m].index&&(x[y].top+=x[m].height);for(var v=c[y],d=0;d<v.length;d++)v[d].data.subgroup!==void 0&&(v[d].top=x[v[d].data.subgroup].top+.5*b.item.vertical,x[y].stack&&(v[d].baseTop=v[d].top));C&&x[y].stack&&k.substack(c[y],b,x[y])}},k.collision=function(c,b,x,C){return C?c.right-x.horizontal+D<b.right+b.width&&c.right+c.width+x.horizontal-D>b.right&&c.top-x.vertical+D<b.top+b.height&&c.top+c.height+x.vertical-D>b.top:c.left-x.horizontal+D<b.left+b.width&&c.left+c.width+x.horizontal-D>b.left&&c.top-x.vertical+D<b.top+b.height&&c.top+c.height+x.vertical-D>b.top},k.collisionByTimes=function(c,b){return c.start<=b.start&&c.end>=b.start&&c.top<b.top+b.height&&c.top+c.height>b.top||b.start<=c.start&&b.end>=c.start&&b.top<c.top+c.height&&b.top+b.height>c.top}},function(L,k,p){"use strict";var D=p(38);function c(b,x,C){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=C,b&&b.start==null)throw new Error('Property "start" missing in item '+b);D.call(this,b,x,C)}c.prototype=new D(null,null,null),c.prototype.isVisible=function(b){var x,C=this.options.align,E=this.width*b.getMillisecondsPerPixel();return C=="right"?x=this.data.start.getTime()>b.start&&this.data.start.getTime()-E<b.end:C=="left"?x=this.data.start.getTime()+E>b.start&&this.data.start.getTime()<b.end:x=this.data.start.getTime()+E/2>b.start&&this.data.start.getTime()-E/2<b.end,x},c.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},c.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var x=this.parent.dom.background;if(!x)throw new Error("Cannot redraw item: parent has no background container element");x.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var C=this.parent.dom.axis;if(!x)throw new Error("Cannot redraw item: parent has no axis container element");C.appendChild(this.dom.dot)}this.displayed=!0},c.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var b=this.editable.updateTime||this.editable.updateGroup,x=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(b?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+x,this.dom.line.className="vis-item vis-line"+x,this.dom.dot.className="vis-item vis-dot"+x}},c.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},c.prototype._updateDomComponentsSizes=function(b){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=b.dot.height,this.props.dot.width=b.dot.width,this.props.line.width=b.line.width,this.width=b.box.width,this.height=b.box.height,this.options.rtl?this.dom.box.style.right=b.previous.right:this.dom.box.style.left=b.previous.left,this.dirty=!1},c.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},c.prototype.redraw=function(b){var x,C=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(x=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(x)}).bind(this),this._repaintDomAdditionals.bind(this)];if(b)return C;var E;return C.forEach(function(y){E=y()}),E},c.prototype.show=function(){this.displayed||this.redraw()},c.prototype.hide=function(){if(this.displayed){var b=this.dom;b.box.parentNode&&b.box.parentNode.removeChild(b.box),b.line.parentNode&&b.line.parentNode.removeChild(b.line),b.dot.parentNode&&b.dot.parentNode.removeChild(b.dot),this.displayed=!1}},c.prototype.repositionX=function(){var b=this.conversion.toScreen(this.data.start),x=this.options.align;x=="right"?this.options.rtl?(this.right=b-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=b-this.props.line.width+"px",this.dom.dot.style.right=b-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=b-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=b-this.props.line.width+"px",this.dom.dot.style.left=b-this.props.line.width/2-this.props.dot.width/2+"px"):x=="left"?this.options.rtl?(this.right=b,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=b+"px",this.dom.dot.style.right=b+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=b,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=b+"px",this.dom.dot.style.left=b+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=b-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=b-this.props.line.width+"px",this.dom.dot.style.right=b-this.props.dot.width/2+"px"):(this.left=b-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=b-this.props.line.width/2+"px",this.dom.dot.style.left=b-this.props.dot.width/2+"px")},c.prototype.repositionY=function(){var b=this.options.orientation.item,x=this.dom.box,C=this.dom.line,E=this.dom.dot;if(b=="top")x.style.top=(this.top||0)+"px",C.style.top="0",C.style.height=this.parent.top+this.top+1+"px",C.style.bottom="";else{var y=this.parent.itemSet.props.height,S=y-this.parent.top-this.parent.height+this.top;x.style.top=(this.parent.height-this.top-this.height||0)+"px",C.style.top=y-S+"px",C.style.bottom="0"}E.style.top=-this.props.dot.height/2+"px"},c.prototype.getWidthLeft=function(){return this.width/2},c.prototype.getWidthRight=function(){return this.width/2},L.exports=c},function(L,k,p){"use strict";var D=p(38);function c(b,x,C){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=C,b&&b.start==null)throw new Error('Property "start" missing in item '+b);D.call(this,b,x,C)}c.prototype=new D(null,null,null),c.prototype.isVisible=function(b){var x=this.width*b.getMillisecondsPerPixel();return this.data.start.getTime()+x>b.start&&this.data.start<b.end},c.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},c.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(this.dom.point)}this.displayed=!0},c.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var b=this.editable.updateTime||this.editable.updateGroup,x=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(b?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+x,this.dom.dot.className="vis-item vis-dot"+x}},c.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},c.prototype._updateDomComponentsSizes=function(b){this.props.dot.width=b.dot.width,this.props.dot.height=b.dot.height,this.props.content.height=b.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=b.point.width,this.height=b.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},c.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},c.prototype.redraw=function(b){var x,C=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(x=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(x)}).bind(this),this._repaintDomAdditionals.bind(this)];if(b)return C;var E;return C.forEach(function(y){E=y()}),E},c.prototype.show=function(){this.displayed||this.redraw()},c.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},c.prototype.repositionX=function(){var b=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=b-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=b-this.props.dot.width,this.dom.point.style.left=this.left+"px")},c.prototype.repositionY=function(){var b=this.options.orientation.item,x=this.dom.point;b=="top"?x.style.top=this.top+"px":x.style.top=this.parent.height-this.top-this.height+"px"},c.prototype.getWidthLeft=function(){return this.props.dot.width},c.prototype.getWidthRight=function(){return this.props.dot.width},L.exports=c},function(L,k,p){"use strict";var D=p(38),c=p(69),b=p(70);function x(C,E,y){if(this.props={content:{width:0}},this.overflow=!1,C){if(C.start==null)throw new Error('Property "start" missing in item '+C.id);if(C.end==null)throw new Error('Property "end" missing in item '+C.id)}D.call(this,C,E,y)}x.prototype=new D(null,null,null),x.prototype.baseClassName="vis-item vis-background",x.prototype.stack=!1,x.prototype.isVisible=function(C){return this.data.start<C.end&&this.data.end>C.start},x.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},x.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var C=this.parent.dom.background;if(!C)throw new Error("Cannot redraw item: parent has no background container element");C.appendChild(this.dom.box)}this.displayed=!0},x.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var C=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+C}},x.prototype._getDomComponentsSizes=function(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}},x.prototype._updateDomComponentsSizes=function(C){this.props.content.width=C.content.width,this.height=0,this.dirty=!1},x.prototype._repaintDomAdditionals=function(){},x.prototype.redraw=function(C){var E,y=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(E=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(E)}).bind(this),this._repaintDomAdditionals.bind(this)];if(C)return y;var S;return y.forEach(function(m){S=m()}),S},x.prototype.show=b.prototype.show,x.prototype.hide=b.prototype.hide,x.prototype.repositionX=b.prototype.repositionX,x.prototype.repositionY=function(C){var E,y=this.options.orientation.item;if(this.data.subgroup!==void 0){var S=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[S].height+"px",y=="top"?this.dom.box.style.top=this.parent.top+this.parent.subgroups[S].top+"px":this.dom.box.style.top=this.parent.top+this.parent.height-this.parent.subgroups[S].top-this.parent.subgroups[S].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof c?(E=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=y=="bottom"?"0":"",this.dom.box.style.top=y=="top"?"0":""):(E=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=E+"px"},L.exports=x},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(S,m){(0,c.default)(this,y),this.container=S,this.overflowMethod=m||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,x.default)(y,[{key:"setPosition",value:function(m,v){this.x=parseInt(m),this.y=parseInt(v)}},{key:"setText",value:function(m){m instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(m)):this.frame.innerHTML=m}},{key:"show",value:function(m){if(m===void 0&&(m=!0),m===!0){var v=this.frame.clientHeight,d=this.frame.clientWidth,h=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,f=0,e=0;if(this.overflowMethod=="flip"){var r=!1,i=!0;this.y-v<this.padding&&(i=!1),this.x+d>o-this.padding&&(r=!0),r?f=this.x-d:f=this.x,i?e=this.y-v:e=this.y}else e=this.y-v,e+v+this.padding>h&&(e=h-v-this.padding),e<this.padding&&(e=this.padding),f=this.x,f+d+this.padding>o&&(f=o-d-this.padding),f<this.padding&&(f=this.padding);this.frame.style.left=f+"px",this.frame.style.top=e+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D="string",c="boolean",b="number",x="array",C="date",E="object",y="dom",S="moment",m="any",v={configure:{enabled:{boolean:c},filter:{boolean:c,function:"function"},container:{dom:y},__type__:{object:E,boolean:c,function:"function"}},align:{string:D},rtl:{boolean:c,undefined:"undefined"},rollingMode:{follow:{boolean:c},offset:{number:b,undefined:"undefined"},__type__:{object:E}},verticalScroll:{boolean:c,undefined:"undefined"},horizontalScroll:{boolean:c,undefined:"undefined"},autoResize:{boolean:c},throttleRedraw:{number:b},clickToUse:{boolean:c},dataAttributes:{string:D,array:x},editable:{add:{boolean:c,undefined:"undefined"},remove:{boolean:c,undefined:"undefined"},updateGroup:{boolean:c,undefined:"undefined"},updateTime:{boolean:c,undefined:"undefined"},overrideItems:{boolean:c,undefined:"undefined"},__type__:{boolean:c,object:E}},end:{number:b,date:C,string:D,moment:S},format:{minorLabels:{millisecond:{string:D,undefined:"undefined"},second:{string:D,undefined:"undefined"},minute:{string:D,undefined:"undefined"},hour:{string:D,undefined:"undefined"},weekday:{string:D,undefined:"undefined"},day:{string:D,undefined:"undefined"},week:{string:D,undefined:"undefined"},month:{string:D,undefined:"undefined"},year:{string:D,undefined:"undefined"},__type__:{object:E,function:"function"}},majorLabels:{millisecond:{string:D,undefined:"undefined"},second:{string:D,undefined:"undefined"},minute:{string:D,undefined:"undefined"},hour:{string:D,undefined:"undefined"},weekday:{string:D,undefined:"undefined"},day:{string:D,undefined:"undefined"},week:{string:D,undefined:"undefined"},month:{string:D,undefined:"undefined"},year:{string:D,undefined:"undefined"},__type__:{object:E,function:"function"}},__type__:{object:E}},moment:{function:"function"},groupOrder:{string:D,function:"function"},groupEditable:{add:{boolean:c,undefined:"undefined"},remove:{boolean:c,undefined:"undefined"},order:{boolean:c,undefined:"undefined"},__type__:{boolean:c,object:E}},groupOrderSwap:{function:"function"},height:{string:D,number:b},hiddenDates:{start:{date:C,number:b,string:D,moment:S},end:{date:C,number:b,string:D,moment:S},repeat:{string:D},__type__:{object:E,array:x}},itemsAlwaysDraggable:{item:{boolean:c,undefined:"undefined"},range:{boolean:c,undefined:"undefined"},__type__:{boolean:c,object:E}},limitSize:{boolean:c},locale:{string:D},locales:{__any__:{any:m},__type__:{object:E}},margin:{axis:{number:b},item:{horizontal:{number:b,undefined:"undefined"},vertical:{number:b,undefined:"undefined"},__type__:{object:E,number:b}},__type__:{object:E,number:b}},max:{date:C,number:b,string:D,moment:S},maxHeight:{number:b,string:D},maxMinorChars:{number:b},min:{date:C,number:b,string:D,moment:S},minHeight:{number:b,string:D},moveable:{boolean:c},multiselect:{boolean:c},multiselectPerGroup:{boolean:c},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:D,undefined:"undefined"},item:{string:D,undefined:"undefined"},__type__:{string:D,object:E}},selectable:{boolean:c},showCurrentTime:{boolean:c},showMajorLabels:{boolean:c},showMinorLabels:{boolean:c},stack:{boolean:c},stackSubgroups:{boolean:c},snap:{function:"function",null:"null"},start:{date:C,number:b,string:D,moment:S},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:D,function:"function"},showTooltips:{boolean:c},tooltip:{followMouse:{boolean:c},overflowMethod:{string:["cap","flip"]},__type__:{object:E}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:c,object:E}},timeAxis:{scale:{string:D,undefined:"undefined"},step:{number:b,undefined:"undefined"},__type__:{object:E}},type:{string:D},width:{string:D,number:b},zoomable:{boolean:c},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:b},zoomMin:{number:b},__type__:{object:E}},d={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};k.allOptions=v,k.configureOptions=d},function(L,k,p){"use strict";var D=p(6),c=b(D);function b(i){return i&&i.__esModule?i:{default:i}}var x=p(2),C=p(14),E=p(11),y=p(12),S=p(16),m=p(107),v=p(109),d=p(112),h=p(110),o=p(111),f=p(72),e="__ungrouped__";function r(i,t){this.id=x.randomUUID(),this.body=i,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=x.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var a=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(n,s,l){a._onAdd(s.items)},update:function(n,s,l){a._onUpdate(s.items)},remove:function(n,s,l){a._onRemove(s.items)}},this.groupListeners={add:function(n,s,l){a._onAddGroups(s.items)},update:function(n,s,l){a._onUpdateGroups(s.items)},remove:function(n,s,l){a._onRemoveGroups(s.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(t),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){a.lastStart=a.body.range.start,a.svg.style.left=x.option.asSize(-a.props.width),a.forceGraphUpdate=!0,a.redraw.call(a)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}r.prototype=new S,r.prototype._create=function(){var i=document.createElement("div");i.className="vis-line-graph",this.dom.frame=i,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",i.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new m(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new m(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new d(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new d(this.body,this.options.legend,"right",this.options.groups),this.show()},r.prototype.setOptions=function(i){if(i){var t=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];i.graphHeight===void 0&&i.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&i.graphHeight!==void 0&&parseInt((i.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),x.selectiveDeepExtend(t,this.options,i),x.mergeOptions(this.options,i,"interpolation"),x.mergeOptions(this.options,i,"drawPoints"),x.mergeOptions(this.options,i,"shaded"),x.mergeOptions(this.options,i,"legend"),i.interpolation&&(0,c.default)(i.interpolation)=="object"&&i.interpolation.parametrization&&(i.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:i.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&i.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&i.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(e)&&this.groups[e].setOptions(i)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},r.prototype.setItems=function(i){var t=this,a,u=this.itemsData;if(!i)this.itemsData=null;else if(i instanceof E||i instanceof y)this.itemsData=i;else throw new TypeError("Data must be an instance of DataSet or DataView");if(u&&(x.forEach(this.itemListeners,function(s,l){u.off(l,s)}),a=u.getIds(),this._onRemove(a)),this.itemsData){var n=this.id;x.forEach(this.itemListeners,function(s,l){t.itemsData.on(l,s,n)}),a=this.itemsData.getIds(),this._onAdd(a)}},r.prototype.setGroups=function(i){var t=this,a;if(this.groupsData){x.forEach(this.groupListeners,function(s,l){t.groupsData.off(l,s)}),a=this.groupsData.getIds(),this.groupsData=null;for(var u=0;u<a.length;u++)this._removeGroup(a[u])}if(!i)this.groupsData=null;else if(i instanceof E||i instanceof y)this.groupsData=i;else throw new TypeError("Data must be an instance of DataSet or DataView");if(this.groupsData){var n=this.id;x.forEach(this.groupListeners,function(s,l){t.groupsData.on(l,s,n)}),a=this.groupsData.getIds(),this._onAddGroups(a)}},r.prototype._onUpdate=function(i){this._updateAllGroupData(i)},r.prototype._onAdd=function(i){this._onUpdate(i)},r.prototype._onRemove=function(i){this._onUpdate(i)},r.prototype._onUpdateGroups=function(i){this._updateAllGroupData(null,i)},r.prototype._onAddGroups=function(i){this._onUpdateGroups(i)},r.prototype._onRemoveGroups=function(i){for(var t=0;t<i.length;t++)this._removeGroup(i[t]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},r.prototype._removeGroup=function(i){this.groups.hasOwnProperty(i)&&(this.groups[i].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(i),this.legendRight.removeGroup(i),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(i),this.legendLeft.removeGroup(i),this.legendLeft.redraw()),delete this.groups[i])},r.prototype._updateGroup=function(i,t){this.groups.hasOwnProperty(t)?(this.groups[t].update(i),this.groups[t].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(t,this.groups[t]),this.legendRight.updateGroup(t,this.groups[t]),this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t)):(this.yAxisLeft.updateGroup(t,this.groups[t]),this.legendLeft.updateGroup(t,this.groups[t]),this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t))):(this.groups[t]=new v(i,t,this.options,this.groupsUsingDefaultStyles),this.groups[t].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(t,this.groups[t]),this.legendRight.addGroup(t,this.groups[t])):(this.yAxisLeft.addGroup(t,this.groups[t]),this.legendLeft.addGroup(t,this.groups[t]))),this.legendLeft.redraw(),this.legendRight.redraw()},r.prototype._updateAllGroupData=function(i,t){if(this.itemsData!=null){var a={},u=this.itemsData.get(),n=this.itemsData._fieldId,s={};i&&i.map(function(Y){s[Y]=Y});for(var l={},g=0;g<u.length;g++){var T=u[g],O=T.group;O==null&&(O=e),l.hasOwnProperty(O)?l[O]++:l[O]=1}var P={};if(!t&&i){for(O in this.groups)if(this.groups.hasOwnProperty(O)){W=this.groups[O];var _=W.getItems();a[O]=_.filter(function(Y){return P[Y[n]]=Y[n],Y[n]!==s[Y[n]]});var R=l[O];l[O]-=a[O].length,a[O].length<R&&(a[O][R-1]={})}}for(g=0;g<u.length;g++)if(T=u[g],O=T.group,O==null&&(O=e),!(!t&&i&&T[n]!==s[T[n]]&&P.hasOwnProperty(T[n]))){a.hasOwnProperty(O)||(a[O]=new Array(l[O]));var I=x.bridgeObject(T);I.x=x.convert(T.x,"Date"),I.end=x.convert(T.end,"Date"),I.orginalY=T.y,I.y=Number(T.y),I[n]=T[n];var F=a[O].length-l[O]--;a[O][F]=I}for(O in this.groups)this.groups.hasOwnProperty(O)&&(a.hasOwnProperty(O)||(a[O]=new Array(0)));for(O in a)if(a.hasOwnProperty(O))if(a[O].length==0)this.groups.hasOwnProperty(O)&&this._removeGroup(O);else{var W=void 0;this.groupsData!=null&&(W=this.groupsData.get(O)),W==null&&(W={id:O,content:this.options.defaultGroup+O}),this._updateGroup(W,O),this.groups[O].setItems(a[O])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},r.prototype.redraw=function(){var i=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,i=this._isResized()||i;var t=this.body.range.end-this.body.range.start,a=t!=this.lastVisibleInterval;if(this.lastVisibleInterval=t,i==!0&&(this.svg.style.width=x.option.asSize(3*this.props.width),this.svg.style.left=x.option.asSize(-this.props.width),((this.options.height+"").indexOf("%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)),this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",i==!0||a==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)i=this._updateGraph()||i,this.forceGraphUpdate=!1;else if(this.lastStart!=0){var u=this.body.range.start-this.lastStart,n=this.body.range.end-this.body.range.start;if(this.props.width!=0){var s=this.props.width/n,l=u*s;this.svg.style.left=-this.props.width-l+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),i},r.prototype._getSortedGroupIds=function(){var i=[];for(var t in this.groups)if(this.groups.hasOwnProperty(t)){var a=this.groups[t];a.visible==!0&&(this.options.groups.visibility[t]===void 0||this.options.groups.visibility[t]==!0)&&i.push({id:t,zIndex:a.options.zIndex})}x.insertSort(i,function(s,l){var g=s.zIndex,T=l.zIndex;return g===void 0&&(g=0),T===void 0&&(T=0),g==T?0:g<T?-1:1});for(var u=new Array(i.length),n=0;n<i.length;n++)u[n]=i[n].id;return u},r.prototype._updateGraph=function(){if(C.prepareElements(this.svgElements),this.props.width!=0&&this.itemsData!=null){var i,t,a={},u=!1,n=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),l=this._getSortedGroupIds();if(l.length>0){var g={};for(this._getRelevantData(l,g,n,s),this._applySampling(l,g),t=0;t<l.length;t++)this._convertXcoordinates(g[l[t]]);if(this._getYRanges(l,g,a),u=this._updateYAxis(l,a),u==!0)return C.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var T=void 0;for(t=0;t<l.length;t++)i=this.groups[l[t]],this.options.stack===!0&&this.options.style==="line"&&(i.options.excludeFromStacking==null||!i.options.excludeFromStacking)&&(T!=null&&(this._stack(g[i.id],g[T.id]),i.options.shaded.enabled==!0&&i.options.shaded.orientation!=="group"&&(i.options.shaded.orientation=="top"&&T.options.shaded.orientation!=="group"?(T.options.shaded.orientation="group",T.options.shaded.groupId=i.id):(i.options.shaded.orientation="group",i.options.shaded.groupId=T.id))),T=i),this._convertYcoordinates(g[l[t]],i);var O={};for(t=0;t<l.length;t++)if(i=this.groups[l[t]],i.options.style==="line"&&i.options.shaded.enabled==!0){var P=g[l[t]];if(P==null||P.length==0)continue;if(O.hasOwnProperty(l[t])||(O[l[t]]=o.calcPath(P,i)),i.options.shaded.orientation==="group"){var _=i.options.shaded.groupId;if(l.indexOf(_)===-1){console.log(i.id+": Unknown shading group target given:"+_);continue}O.hasOwnProperty(_)||(O[_]=o.calcPath(g[_],this.groups[_])),o.drawShading(O[l[t]],i,O[_],this.framework)}else o.drawShading(O[l[t]],i,void 0,this.framework)}for(h.draw(l,g,this.framework),t=0;t<l.length;t++)if(i=this.groups[l[t]],g[l[t]].length>0)switch(i.options.style){case"line":O.hasOwnProperty(l[t])||(O[l[t]]=o.calcPath(g[l[t]],i)),o.draw(O[l[t]],i,this.framework);case"point":case"points":(i.options.style=="point"||i.options.style=="points"||i.options.drawPoints.enabled==!0)&&f.draw(g[l[t]],i,this.framework);break;case"bar":default:}}}return C.cleanupElements(this.svgElements),!1},r.prototype._stack=function(i,t){var a,u,n,s,l;a=0;for(var g=0;g<i.length;g++){s=void 0,l=void 0;for(var T=a;T<t.length;T++)if(t[T].x===i[g].x){s=t[T],l=t[T],a=T;break}else if(t[T].x>i[g].x){l=t[T],T==0?s=l:s=t[T-1],a=T;break}l===void 0&&(s=t[t.length-1],l=t[t.length-1]),u=l.x-s.x,n=l.y-s.y,u==0?i[g].y=i[g].orginalY+l.y:i[g].y=i[g].orginalY+n/u*(i[g].x-s.x)+s.y}},r.prototype._getRelevantData=function(i,t,a,u){var n,s,l,g;if(i.length>0)for(s=0;s<i.length;s++){n=this.groups[i[s]];var T=n.getItems();if(n.options.sort==!0){var O=function(F,W){return F.getTime()==W.getTime()?0:F<W?-1:1},P=Math.max(0,x.binarySearchValue(T,a,"x","before",O)),_=Math.min(T.length,x.binarySearchValue(T,u,"x","after",O)+1);_<=0&&(_=T.length);var R=new Array(_-P);for(l=P;l<_;l++)g=n.itemsData[l],R[l-P]=g;t[i[s]]=R}else t[i[s]]=n.itemsData}},r.prototype._applySampling=function(i,t){var a;if(i.length>0){for(var u=0;u<i.length;u++)if(a=this.groups[i[u]],a.options.sampling==!0){var n=t[i[u]];if(n.length>0){var s=1,l=n.length,g=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),T=l/g;s=Math.min(Math.ceil(.2*l),Math.max(1,Math.round(T)));for(var O=new Array(l),P=0;P<l;P+=s){var _=Math.round(P/s);O[_]=n[P]}t[i[u]]=O.splice(0,Math.round(l/s))}}}},r.prototype._getYRanges=function(i,t,a){var u,n,s,l=[],g=[],T;if(i.length>0){for(s=0;s<i.length;s++)u=t[i[s]],T=this.groups[i[s]].options,u.length>0&&(n=this.groups[i[s]],T.stack===!0&&T.style==="bar"?T.yAxisOrientation==="left"?l=l.concat(u):g=g.concat(u):a[i[s]]=n.getYRange(u,i[s]));h.getStackedYRange(l,a,i,"__barStackLeft","left"),h.getStackedYRange(g,a,i,"__barStackRight","right")}},r.prototype._updateYAxis=function(i,t){var a=!1,u=!1,n=!1,s=1e9,l=1e9,g=-1e9,T=-1e9,O,P;if(i.length>0){for(var _=0;_<i.length;_++){var R=this.groups[i[_]];R&&R.options.yAxisOrientation!="right"?(u=!0,s=1e9,g=-1e9):R&&R.options.yAxisOrientation&&(n=!0,l=1e9,T=-1e9)}for(_=0;_<i.length;_++)t.hasOwnProperty(i[_])&&t[i[_]].ignore!==!0&&(O=t[i[_]].min,P=t[i[_]].max,t[i[_]].yAxisOrientation!="right"?(u=!0,s=s>O?O:s,g=g<P?P:g):(n=!0,l=l>O?O:l,T=T<P?P:T));u==!0&&this.yAxisLeft.setRange(s,g),n==!0&&this.yAxisRight.setRange(l,T)}a=this._toggleAxisVisiblity(u,this.yAxisLeft)||a,a=this._toggleAxisVisiblity(n,this.yAxisRight)||a,n==!0&&u==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!u,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(n==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,a=this.yAxisLeft.redraw()||a,a=this.yAxisRight.redraw()||a):a=this.yAxisRight.redraw()||a;var I=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(_=0;_<I.length;_++)i.indexOf(I[_])!=-1&&i.splice(i.indexOf(I[_]),1);return a},r.prototype._toggleAxisVisiblity=function(i,t){var a=!1;return i==!1?t.dom.frame.parentNode&&t.hidden==!1&&(t.hide(),a=!0):!t.dom.frame.parentNode&&t.hidden==!0&&(t.show(),a=!0),a},r.prototype._convertXcoordinates=function(i){for(var t=this.body.util.toScreen,a=0;a<i.length;a++)i[a].screen_x=t(i[a].x)+this.props.width,i[a].screen_y=i[a].y,i[a].end!=null?i[a].screen_end=t(i[a].end)+this.props.width:i[a].screen_end=void 0},r.prototype._convertYcoordinates=function(i,t){var a=this.yAxisLeft,u=Number(this.svg.style.height.replace("px",""));t.options.yAxisOrientation=="right"&&(a=this.yAxisRight);for(var n=0;n<i.length;n++)i[n].screen_y=Math.round(a.convertValue(i[n].y));t.setZeroPosition(Math.min(u,a.convertValue(0)))},L.exports=r},function(L,k,p){"use strict";var D=p(8),c=b(D);function b(m){return m&&m.__esModule?m:{default:m}}var x=p(2),C=p(14),E=p(16),y=p(108);function S(m,v,d,h){this.id=x.randomUUID(),this.body=m,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=h,this.linegraphSVG=d,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=x.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(v),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}S.prototype=new E,S.prototype.addGroup=function(m,v){this.groups.hasOwnProperty(m)||(this.groups[m]=v),this.amountOfGroups+=1},S.prototype.updateGroup=function(m,v){this.groups.hasOwnProperty(m)||(this.amountOfGroups+=1),this.groups[m]=v},S.prototype.removeGroup=function(m){this.groups.hasOwnProperty(m)&&(delete this.groups[m],this.amountOfGroups-=1)},S.prototype.setOptions=function(m){if(m){var v=!1;this.options.orientation!=m.orientation&&m.orientation!==void 0&&(v=!0);var d=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];x.selectiveDeepExtend(d,this.options,m),this.minWidth=Number((""+this.options.width).replace("px","")),v===!0&&this.dom.frame&&(this.hide(),this.show())}},S.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},S.prototype._redrawGroupIcons=function(){C.prepareElements(this.svgElements);var m,v=this.options.iconWidth,d=15,h=4,o=h+.5*d;this.options.orientation==="left"?m=h:m=this.width-v-h;var f=(0,c.default)(this.groups);f.sort(function(i,t){return i<t?-1:1});for(var e=0;e<f.length;e++){var r=f[e];this.groups[r].visible===!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]===!0)&&(this.groups[r].getLegend(v,d,this.framework,m,o),o+=d+h)}C.cleanupElements(this.svgElements),this.iconsRemoved=!1},S.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(C.prepareElements(this.svgElements),C.cleanupElements(this.svgElements),this.iconsRemoved=!0)},S.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},S.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},S.prototype.setRange=function(m,v){this.range.start=m,this.range.end=v},S.prototype.redraw=function(){var m=!1,v=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var d in this.groups)this.groups.hasOwnProperty(d)&&this.groups[d].visible===!0&&(this.linegraphOptions.visibility[d]===void 0||this.linegraphOptions.visibility[d]===!0)&&v++;if(this.amountOfGroups===0||v===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var h=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var f=this.options.orientation,e=this.options.showMinorLabels,r=this.options.showMajorLabels;h.minorLabelHeight=e?h.minorCharHeight:0,h.majorLabelHeight=r?h.majorCharHeight:0,h.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,h.minorLineHeight=1,h.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,h.majorLineHeight=1,f==="left"?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),m=this._redrawLabels(),m=this._isResized()||m,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(f)}return m},S.prototype._redrawLabels=function(){var m=this,v=!1;C.prepareElements(this.DOMelements.lines),C.prepareElements(this.DOMelements.labels);var d=this.options.orientation,h=this.options[d].range!=null?this.options[d].range:{},o=!0;h.max!=null&&(this.range.end=h.max,o=!1);var f=!0;h.min!=null&&(this.range.start=h.min,f=!1),this.scale=new y(this.range.start,this.range.end,f,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[d].format),this.master===!1&&this.masterAxis!=null&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;var e=this.scale.getLines();e.forEach(function(t){var a=t.y,u=t.major;m.options.showMinorLabels&&u===!1&&m._redrawLabel(a-2,t.val,d,"vis-y-axis vis-minor",m.props.minorCharHeight),u&&a>=0&&m._redrawLabel(a-2,t.val,d,"vis-y-axis vis-major",m.props.majorCharHeight),m.master===!0&&(u?m._redrawLine(a,d,"vis-grid vis-horizontal vis-major",m.options.majorLinesOffset,m.props.majorLineWidth):m._redrawLine(a,d,"vis-grid vis-horizontal vis-minor",m.options.minorLinesOffset,m.props.minorLineWidth))});var r=0;this.options[d].title!==void 0&&this.options[d].title.text!==void 0&&(r=this.props.titleCharHeight);var i=this.options.icons===!0?Math.max(this.options.iconWidth,r)+this.options.labelOffsetX+15:r+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-i&&this.options.visible===!0?(this.width=this.maxLabelSize+i,this.options.width=this.width+"px",C.cleanupElements(this.DOMelements.lines),C.cleanupElements(this.DOMelements.labels),this.redraw(),v=!0):this.maxLabelSize<this.width-i&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+i),this.options.width=this.width+"px",C.cleanupElements(this.DOMelements.lines),C.cleanupElements(this.DOMelements.labels),this.redraw(),v=!0):(C.cleanupElements(this.DOMelements.lines),C.cleanupElements(this.DOMelements.labels),v=!1),v},S.prototype.convertValue=function(m){return this.scale.convertValue(m)},S.prototype.screenToValue=function(m){return this.scale.screenToValue(m)},S.prototype._redrawLabel=function(m,v,d,h,o){var f=C.getDOMElement("div",this.DOMelements.labels,this.dom.frame);f.className=h,f.innerHTML=v,d==="left"?(f.style.left="-"+this.options.labelOffsetX+"px",f.style.textAlign="right"):(f.style.right="-"+this.options.labelOffsetX+"px",f.style.textAlign="left"),f.style.top=m-.5*o+this.options.labelOffsetY+"px",v+="";var e=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<v.length*e&&(this.maxLabelSize=v.length*e)},S.prototype._redrawLine=function(m,v,d,h,o){if(this.master===!0){var f=C.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);f.className=d,f.innerHTML="",v==="left"?f.style.left=this.width-h+"px":f.style.right=this.width-h+"px",f.style.width=o+"px",f.style.top=m+"px"}},S.prototype._redrawTitle=function(m){if(C.prepareElements(this.DOMelements.title),this.options[m].title!==void 0&&this.options[m].title.text!==void 0){var v=C.getDOMElement("div",this.DOMelements.title,this.dom.frame);v.className="vis-y-axis vis-title vis-"+m,v.innerHTML=this.options[m].title.text,this.options[m].title.style!==void 0&&x.addCssText(v,this.options[m].title.style),m==="left"?v.style.left=this.props.titleCharHeight+"px":v.style.right=this.props.titleCharHeight+"px",v.style.width=this.height+"px"}C.cleanupElements(this.DOMelements.title)},S.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var m=document.createTextNode("0"),v=document.createElement("div");v.className="vis-y-axis vis-minor vis-measure",v.appendChild(m),this.dom.frame.appendChild(v),this.props.minorCharHeight=v.clientHeight,this.props.minorCharWidth=v.clientWidth,this.dom.frame.removeChild(v)}if(!("majorCharHeight"in this.props)){var d=document.createTextNode("0"),h=document.createElement("div");h.className="vis-y-axis vis-major vis-measure",h.appendChild(d),this.dom.frame.appendChild(h),this.props.majorCharHeight=h.clientHeight,this.props.majorCharWidth=h.clientWidth,this.dom.frame.removeChild(h)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),f=document.createElement("div");f.className="vis-y-axis vis-title vis-measure",f.appendChild(o),this.dom.frame.appendChild(f),this.props.titleCharHeight=f.clientHeight,this.props.titleCharWidth=f.clientWidth,this.dom.frame.removeChild(f)}},L.exports=S},function(L,k,p){"use strict";function D(c,b,x,C,E,y){var S=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=E,this.majorCharHeight=y,this._start=c,this._end=b,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=S,this.autoScaleStart=x,this.autoScaleEnd=C,this.formattingFunction=m,x||C){var v=this,d=function(o){var f=o-o%(v.magnitudefactor*v.minorSteps[v.minorStepIdx]);return o%(v.magnitudefactor*v.minorSteps[v.minorStepIdx])>.5*(v.magnitudefactor*v.minorSteps[v.minorStepIdx])?f+v.magnitudefactor*v.minorSteps[v.minorStepIdx]:f};x&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=d(this._start)),C&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=d(this._end)),this.determineScale()}}D.prototype.setCharHeight=function(c){this.majorCharHeight=c},D.prototype.setHeight=function(c){this.containerHeight=c},D.prototype.determineScale=function(){var c=this._end-this._start;this.scale=this.containerHeight/c;var b=this.majorCharHeight/this.scale,x=c>0?Math.round(Math.log(c)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,x);var C=0;x<0&&(C=x);for(var E=!1,y=C;Math.abs(y)<=Math.abs(x);y++){this.magnitudefactor=Math.pow(10,y);for(var S=0;S<this.minorSteps.length;S++){var m=this.magnitudefactor*this.minorSteps[S];if(m>=b){E=!0,this.minorStepIdx=S;break}}if(E===!0)break}},D.prototype.is_major=function(c){return c%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0},D.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},D.prototype.getFirstMajor=function(){var c=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(c-this._start%c)%c)},D.prototype.formatValue=function(c){var b=c.toPrecision(5);return typeof this.formattingFunction=="function"&&(b=this.formattingFunction(c)),typeof b=="number"?""+b:typeof b=="string"?b:c.toPrecision(5)},D.prototype.getLines=function(){for(var c=[],b=this.getStep(),x=(b-this._start%b)%b,C=this._start+x;this._end-C>1e-5;C+=b)C!=this._start&&c.push({major:this.is_major(C),y:this.convertValue(C),val:this.formatValue(C)});return c},D.prototype.followScale=function(c){var b=this.minorStepIdx,x=this._start,C=this._end,E=this,y=function(){E.magnitudefactor*=2},S=function(){E.magnitudefactor/=2};c.minorStepIdx<=1&&this.minorStepIdx<=1||c.minorStepIdx>1&&this.minorStepIdx>1||(c.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,b==2||y(),y()):(this.minorStepIdx=2,b==1||S(),S()));for(var m=c.convertValue(0),v=c.getStep()*c.scale,d=!1,h=0;!d&&h++<5;){this.scale=v/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var o=this.containerHeight/this.scale;this._start=x,this._end=this._start+o;var f=this._end*this.scale,e=this.magnitudefactor*this.majorSteps[this.minorStepIdx],r=this.getFirstMajor()-c.getFirstMajor();if(this.zeroAlign){var i=m-f;this._end+=i/this.scale,this._start=this._end-o}else this.autoScaleStart?(this._start-=r/this.scale,this._end=this._start+o):(this._start+=e-r/this.scale,this._end=this._start+o);if(!this.autoScaleEnd&&this._end>C+1e-5){S(),d=!1;continue}if(!this.autoScaleStart&&this._start<x-1e-5)if(this.zeroAlign&&x>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{S(),d=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&o<C-x){y(),d=!1;continue}d=!0}},D.prototype.convertValue=function(c){return this.containerHeight-(c-this._start)*this.scale},D.prototype.screenToValue=function(c){return(this.containerHeight-c)/this.scale+this._start},L.exports=D},function(L,k,p){"use strict";var D=p(6),c=b(D);function b(m){return m&&m.__esModule?m:{default:m}}var x=p(2),C=p(110),E=p(111),y=p(72);function S(m,v,d,h){this.id=v;var o=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=x.selectiveBridgeObject(o,d),this.usingDefaultStyle=m.className===void 0,this.groupsUsingDefaultStyles=h,this.zeroPosition=0,this.update(m),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=m.visible===void 0?!0:m.visible}S.prototype.setItems=function(m){m!=null?(this.itemsData=m,this.options.sort==!0&&x.insertSort(this.itemsData,function(v,d){return v.x>d.x?1:-1})):this.itemsData=[]},S.prototype.getItems=function(){return this.itemsData},S.prototype.setZeroPosition=function(m){this.zeroPosition=m},S.prototype.setOptions=function(m){if(m!==void 0){var v=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];x.selectiveDeepExtend(v,this.options,m),typeof m.drawPoints=="function"&&(m.drawPoints={onRender:m.drawPoints}),x.mergeOptions(this.options,m,"interpolation"),x.mergeOptions(this.options,m,"drawPoints"),x.mergeOptions(this.options,m,"shaded"),m.interpolation&&(0,c.default)(m.interpolation)=="object"&&m.interpolation.parametrization&&(m.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:m.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},S.prototype.update=function(m){this.group=m,this.content=m.content||"graph",this.className=m.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=m.visible===void 0?!0:m.visible,this.style=m.style,this.setOptions(m.options)},S.prototype.getLegend=function(m,v,d,h,o){if(d==null||d==null){var f=document.createElementNS("http://www.w3.org/2000/svg","svg");d={svg:f,svgElements:{},options:this.options,groups:[this]}}switch((h==null||h==null)&&(h=0),(o==null||o==null)&&(o=.5*v),this.options.style){case"line":E.drawIcon(this,h,o,m,v,d);break;case"points":case"point":y.drawIcon(this,h,o,m,v,d);break;case"bar":C.drawIcon(this,h,o,m,v,d);break}return{icon:d.svg,label:this.content,orientation:this.options.yAxisOrientation}},S.prototype.getYRange=function(m){for(var v=m[0].y,d=m[0].y,h=0;h<m.length;h++)v=v>m[h].y?m[h].y:v,d=d<m[h].y?m[h].y:d;return{min:v,max:d,yAxisOrientation:this.options.yAxisOrientation}},L.exports=S},function(L,k,p){"use strict";var D=p(14),c=p(72);function b(x,C){}b.drawIcon=function(x,C,E,y,S,m){var v=S*.5,d=D.getSVGElement("rect",m.svgElements,m.svg);d.setAttributeNS(null,"x",C),d.setAttributeNS(null,"y",E-v),d.setAttributeNS(null,"width",y),d.setAttributeNS(null,"height",2*v),d.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*y),o=x.options.barChart.width,f=o/h,e=Math.round(.4*S),r=Math.round(.75*S),i=Math.round((y-2*h)/3);if(D.drawBar(C+.5*h+i,E+v-e-1,h,e,x.className+" vis-bar",m.svgElements,m.svg,x.style),D.drawBar(C+1.5*h+i+2,E+v-r-1,h,r,x.className+" vis-bar",m.svgElements,m.svg,x.style),x.options.drawPoints.enabled==!0){var t={style:x.options.drawPoints.style,styles:x.options.drawPoints.styles,size:x.options.drawPoints.size/f,className:x.className};D.drawPoint(C+.5*h+i,E+v-e-1,t,m.svgElements,m.svg),D.drawPoint(C+1.5*h+i+2,E+v-r-1,t,m.svgElements,m.svg)}},b.draw=function(x,C,E){var y=[],S={},m,v,d,h,o,f,e=0;for(o=0;o<x.length;o++)if(h=E.groups[x[o]],h.options.style==="bar"&&h.visible===!0&&(E.options.groups.visibility[x[o]]===void 0||E.options.groups.visibility[x[o]]===!0))for(f=0;f<C[x[o]].length;f++)y.push({screen_x:C[x[o]][f].screen_x,screen_end:C[x[o]][f].screen_end,screen_y:C[x[o]][f].screen_y,x:C[x[o]][f].x,end:C[x[o]][f].end,y:C[x[o]][f].y,groupId:x[o],label:C[x[o]][f].label}),e+=1;if(e!==0)for(y.sort(function(s,l){return s.screen_x===l.screen_x?s.groupId<l.groupId?-1:1:s.screen_x-l.screen_x}),b._getDataIntersections(S,y),o=0;o<y.length;o++){h=E.groups[y[o].groupId];var r=h.options.barChart.minWidth!=null?h.options.barChart.minWidth:.1*h.options.barChart.width;v=y[o].screen_x;var i=0;if(S[v]===void 0)o+1<y.length&&(m=Math.abs(y[o+1].screen_x-v)),d=b._getSafeDrawData(m,h,r);else{var t=o+(S[v].amount-S[v].resolved);t<y.length&&(m=Math.abs(y[t].screen_x-v)),d=b._getSafeDrawData(m,h,r),S[v].resolved+=1,h.options.stack===!0&&h.options.excludeFromStacking!==!0?y[o].screen_y<h.zeroPosition?(i=S[v].accumulatedNegative,S[v].accumulatedNegative+=h.zeroPosition-y[o].screen_y):(i=S[v].accumulatedPositive,S[v].accumulatedPositive+=h.zeroPosition-y[o].screen_y):h.options.barChart.sideBySide===!0&&(d.width=d.width/S[v].amount,d.offset+=S[v].resolved*d.width-.5*d.width*(S[v].amount+1))}var a=d.width,u=y[o].screen_x;if(y[o].screen_end!=null?(a=y[o].screen_end-y[o].screen_x,u+=a*.5):u+=d.offset,D.drawBar(u,y[o].screen_y-i,a,h.zeroPosition-y[o].screen_y,h.className+" vis-bar",E.svgElements,E.svg,h.style),h.options.drawPoints.enabled===!0){var n={screen_x:y[o].screen_x,screen_y:y[o].screen_y-i,x:y[o].x,y:y[o].y,groupId:y[o].groupId,label:y[o].label};c.draw([n],h,E,d.offset)}}},b._getDataIntersections=function(x,C){for(var E,y=0;y<C.length;y++)y+1<C.length&&(E=Math.abs(C[y+1].screen_x-C[y].screen_x)),y>0&&(E=Math.min(E,Math.abs(C[y-1].screen_x-C[y].screen_x))),E===0&&(x[C[y].screen_x]===void 0&&(x[C[y].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),x[C[y].screen_x].amount+=1)},b._getSafeDrawData=function(x,C,E){var y,S;return x<C.options.barChart.width&&x>0?(y=x<E?E:x,S=0,C.options.barChart.align==="left"?S-=.5*x:C.options.barChart.align==="right"&&(S+=.5*x)):(y=C.options.barChart.width,S=0,C.options.barChart.align==="left"?S-=.5*C.options.barChart.width:C.options.barChart.align==="right"&&(S+=.5*C.options.barChart.width)),{width:y,offset:S}},b.getStackedYRange=function(x,C,E,y,S){if(x.length>0){x.sort(function(v,d){return v.screen_x===d.screen_x?v.groupId<d.groupId?-1:1:v.screen_x-d.screen_x});var m={};b._getDataIntersections(m,x),C[y]=b._getStackedYRange(m,x),C[y].yAxisOrientation=S,E.push(y)}},b._getStackedYRange=function(x,C){for(var E,y=C[0].screen_y,S=C[0].screen_y,m=0;m<C.length;m++)E=C[m].screen_x,x[E]===void 0?(y=y>C[m].screen_y?C[m].screen_y:y,S=S<C[m].screen_y?C[m].screen_y:S):C[m].screen_y<0?x[E].accumulatedNegative+=C[m].screen_y:x[E].accumulatedPositive+=C[m].screen_y;for(var v in x)x.hasOwnProperty(v)&&(y=y>x[v].accumulatedNegative?x[v].accumulatedNegative:y,y=y>x[v].accumulatedPositive?x[v].accumulatedPositive:y,S=S<x[v].accumulatedNegative?x[v].accumulatedNegative:S,S=S<x[v].accumulatedPositive?x[v].accumulatedPositive:S);return{min:y,max:S}},L.exports=b},function(L,k,p){"use strict";var D=p(14);function c(b,x){}c.calcPath=function(b,x){if(b!=null&&b.length>0){var C=[];return x.options.interpolation.enabled==!0?C=c._catmullRom(b,x):C=c._linear(b),C}},c.drawIcon=function(b,x,C,E,y,S){var m=y*.5,v,d,h=D.getSVGElement("rect",S.svgElements,S.svg);if(h.setAttributeNS(null,"x",x),h.setAttributeNS(null,"y",C-m),h.setAttributeNS(null,"width",E),h.setAttributeNS(null,"height",2*m),h.setAttributeNS(null,"class","vis-outline"),v=D.getSVGElement("path",S.svgElements,S.svg),v.setAttributeNS(null,"class",b.className),b.style!==void 0&&v.setAttributeNS(null,"style",b.style),v.setAttributeNS(null,"d","M"+x+","+C+" L"+(x+E)+","+C),b.options.shaded.enabled==!0&&(d=D.getSVGElement("path",S.svgElements,S.svg),b.options.shaded.orientation=="top"?d.setAttributeNS(null,"d","M"+x+", "+(C-m)+"L"+x+","+C+" L"+(x+E)+","+C+" L"+(x+E)+","+(C-m)):d.setAttributeNS(null,"d","M"+x+","+C+" L"+x+","+(C+m)+" L"+(x+E)+","+(C+m)+"L"+(x+E)+","+C),d.setAttributeNS(null,"class",b.className+" vis-icon-fill"),b.options.shaded.style!==void 0&&b.options.shaded.style!==""&&d.setAttributeNS(null,"style",b.options.shaded.style)),b.options.drawPoints.enabled==!0){var o={style:b.options.drawPoints.style,styles:b.options.drawPoints.styles,size:b.options.drawPoints.size,className:b.className};D.drawPoint(x+.5*E,C,o,S.svgElements,S.svg)}},c.drawShading=function(b,x,C,E){if(x.options.shaded.enabled==!0){var y=Number(E.svg.style.height.replace("px","")),S=D.getSVGElement("path",E.svgElements,E.svg),m="L";x.options.interpolation.enabled==!0&&(m="C");var v,d=0;x.options.shaded.orientation=="top"?d=0:x.options.shaded.orientation=="bottom"?d=y:d=Math.min(Math.max(0,x.zeroPosition),y),x.options.shaded.orientation=="group"&&C!=null&&C!=null?v="M"+b[0][0]+","+b[0][1]+" "+this.serializePath(b,m,!1)+" L"+C[C.length-1][0]+","+C[C.length-1][1]+" "+this.serializePath(C,m,!0)+C[0][0]+","+C[0][1]+" Z":v="M"+b[0][0]+","+b[0][1]+" "+this.serializePath(b,m,!1)+" V"+d+" H"+b[0][0]+" Z",S.setAttributeNS(null,"class",x.className+" vis-fill"),x.options.shaded.style!==void 0&&S.setAttributeNS(null,"style",x.options.shaded.style),S.setAttributeNS(null,"d",v)}},c.draw=function(b,x,C){if(b!=null&&b!=null){var E=D.getSVGElement("path",C.svgElements,C.svg);E.setAttributeNS(null,"class",x.className),x.style!==void 0&&E.setAttributeNS(null,"style",x.style);var y="L";x.options.interpolation.enabled==!0&&(y="C"),E.setAttributeNS(null,"d","M"+b[0][0]+","+b[0][1]+" "+this.serializePath(b,y,!1))}},c.serializePath=function(b,x,C){if(b.length<2)return"";var E=x,y;if(C)for(y=b.length-2;y>0;y--)E+=b[y][0]+","+b[y][1]+" ";else for(y=1;y<b.length;y++)E+=b[y][0]+","+b[y][1]+" ";return E},c._catmullRomUniform=function(b){var x,C,E,y,S,m,v=[];v.push([Math.round(b[0].screen_x),Math.round(b[0].screen_y)]);for(var d=1/6,h=b.length,o=0;o<h-1;o++)x=o==0?b[0]:b[o-1],C=b[o],E=b[o+1],y=o+2<h?b[o+2]:E,S={screen_x:(-x.screen_x+6*C.screen_x+E.screen_x)*d,screen_y:(-x.screen_y+6*C.screen_y+E.screen_y)*d},m={screen_x:(C.screen_x+6*E.screen_x-y.screen_x)*d,screen_y:(C.screen_y+6*E.screen_y-y.screen_y)*d},v.push([S.screen_x,S.screen_y]),v.push([m.screen_x,m.screen_y]),v.push([E.screen_x,E.screen_y]);return v},c._catmullRom=function(b,x){var C=x.options.interpolation.alpha;if(C==0||C===void 0)return this._catmullRomUniform(b);var E,y,S,m,v,d,h,o,f,e,r,i,t,a,u,n,s,l,g,T=[];T.push([Math.round(b[0].screen_x),Math.round(b[0].screen_y)]);for(var O=b.length,P=0;P<O-1;P++)E=P==0?b[0]:b[P-1],y=b[P],S=b[P+1],m=P+2<O?b[P+2]:S,h=Math.sqrt(Math.pow(E.screen_x-y.screen_x,2)+Math.pow(E.screen_y-y.screen_y,2)),o=Math.sqrt(Math.pow(y.screen_x-S.screen_x,2)+Math.pow(y.screen_y-S.screen_y,2)),f=Math.sqrt(Math.pow(S.screen_x-m.screen_x,2)+Math.pow(S.screen_y-m.screen_y,2)),a=Math.pow(f,C),n=Math.pow(f,2*C),u=Math.pow(o,C),s=Math.pow(o,2*C),g=Math.pow(h,C),l=Math.pow(h,2*C),e=2*l+3*g*u+s,r=2*n+3*a*u+s,i=3*g*(g+u),i>0&&(i=1/i),t=3*a*(a+u),t>0&&(t=1/t),v={screen_x:(-s*E.screen_x+e*y.screen_x+l*S.screen_x)*i,screen_y:(-s*E.screen_y+e*y.screen_y+l*S.screen_y)*i},d={screen_x:(n*y.screen_x+r*S.screen_x-s*m.screen_x)*t,screen_y:(n*y.screen_y+r*S.screen_y-s*m.screen_y)*t},v.screen_x==0&&v.screen_y==0&&(v=y),d.screen_x==0&&d.screen_y==0&&(d=S),T.push([v.screen_x,v.screen_y]),T.push([d.screen_x,d.screen_y]),T.push([S.screen_x,S.screen_y]);return T},c._linear=function(b){for(var x=[],C=0;C<b.length;C++)x.push([b[C].screen_x,b[C].screen_y]);return x},L.exports=c},function(L,k,p){"use strict";var D=p(8),c=b(D);function b(S){return S&&S.__esModule?S:{default:S}}var x=p(2),C=p(14),E=p(16);function y(S,m,v,d){this.body=S,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=v,this.options=x.extend({},this.defaultOptions),this.linegraphOptions=d,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(m)}y.prototype=new E,y.prototype.clear=function(){this.groups={},this.amountOfGroups=0},y.prototype.addGroup=function(S,m){m.options.excludeFromLegend!=!0&&(this.groups.hasOwnProperty(S)||(this.groups[S]=m),this.amountOfGroups+=1)},y.prototype.updateGroup=function(S,m){this.groups[S]=m},y.prototype.removeGroup=function(S){this.groups.hasOwnProperty(S)&&(delete this.groups[S],this.amountOfGroups-=1)},y.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},y.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},y.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},y.prototype.setOptions=function(S){var m=["enabled","orientation","icons","left","right"];x.selectiveDeepExtend(m,this.options,S)},y.prototype.redraw=function(){var S=0,m=(0,c.default)(this.groups);m.sort(function(f,e){return f<e?-1:1});for(var v=0;v<m.length;v++){var d=m[v];this.groups[d].visible==!0&&(this.linegraphOptions.visibility[d]===void 0||this.linegraphOptions.visibility[d]==!0)&&S++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||S==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var h=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+h+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var o="";for(v=0;v<m.length;v++)d=m[v],this.groups[d].visible==!0&&(this.linegraphOptions.visibility[d]===void 0||this.linegraphOptions.visibility[d]==!0)&&(o+=this.groups[d].content+"<br />");this.dom.textArea.innerHTML=o,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},y.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var S=(0,c.default)(this.groups);S.sort(function(i,t){return i<t?-1:1}),C.resetElements(this.svgElements);var m=window.getComputedStyle(this.dom.frame).paddingTop,v=Number(m.replace("px","")),d=v,h=this.options.iconSize,o=.75*this.options.iconSize,f=v+.5*o+3;this.svg.style.width=h+5+v+"px";for(var e=0;e<S.length;e++){var r=S[e];this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&(this.groups[r].getLegend(h,o,this.framework,d,f),f+=o+this.options.iconSpacing)}}},L.exports=y},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D="string",c="boolean",b="number",x="array",C="date",E="object",y="dom",S="moment",m="any",v={configure:{enabled:{boolean:c},filter:{boolean:c,function:"function"},container:{dom:y},__type__:{object:E,boolean:c,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:D},sort:{boolean:c},sampling:{boolean:c},stack:{boolean:c},graphHeight:{string:D,number:b},shaded:{enabled:{boolean:c},orientation:{string:["bottom","top","zero","group"]},groupId:{object:E},__type__:{boolean:c,object:E}},style:{string:["line","bar","points"]},barChart:{width:{number:b},minWidth:{number:b},sideBySide:{boolean:c},align:{string:["left","center","right"]},__type__:{object:E}},interpolation:{enabled:{boolean:c},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:b},__type__:{object:E,boolean:c}},drawPoints:{enabled:{boolean:c},onRender:{function:"function"},size:{number:b},style:{string:["square","circle"]},__type__:{object:E,boolean:c,function:"function"}},dataAxis:{showMinorLabels:{boolean:c},showMajorLabels:{boolean:c},icons:{boolean:c},width:{string:D,number:b},visible:{boolean:c},alignZeros:{boolean:c},left:{range:{min:{number:b,undefined:"undefined"},max:{number:b,undefined:"undefined"},__type__:{object:E}},format:{function:"function"},title:{text:{string:D,number:b,undefined:"undefined"},style:{string:D,undefined:"undefined"},__type__:{object:E}},__type__:{object:E}},right:{range:{min:{number:b,undefined:"undefined"},max:{number:b,undefined:"undefined"},__type__:{object:E}},format:{function:"function"},title:{text:{string:D,number:b,undefined:"undefined"},style:{string:D,undefined:"undefined"},__type__:{object:E}},__type__:{object:E}},__type__:{object:E}},legend:{enabled:{boolean:c},icons:{boolean:c},left:{visible:{boolean:c},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:E}},right:{visible:{boolean:c},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:E}},__type__:{object:E,boolean:c}},groups:{visibility:{any:m},__type__:{object:E}},autoResize:{boolean:c},throttleRedraw:{number:b},clickToUse:{boolean:c},end:{number:b,date:C,string:D,moment:S},format:{minorLabels:{millisecond:{string:D,undefined:"undefined"},second:{string:D,undefined:"undefined"},minute:{string:D,undefined:"undefined"},hour:{string:D,undefined:"undefined"},weekday:{string:D,undefined:"undefined"},day:{string:D,undefined:"undefined"},month:{string:D,undefined:"undefined"},year:{string:D,undefined:"undefined"},__type__:{object:E}},majorLabels:{millisecond:{string:D,undefined:"undefined"},second:{string:D,undefined:"undefined"},minute:{string:D,undefined:"undefined"},hour:{string:D,undefined:"undefined"},weekday:{string:D,undefined:"undefined"},day:{string:D,undefined:"undefined"},month:{string:D,undefined:"undefined"},year:{string:D,undefined:"undefined"},__type__:{object:E}},__type__:{object:E}},moment:{function:"function"},height:{string:D,number:b},hiddenDates:{start:{date:C,number:b,string:D,moment:S},end:{date:C,number:b,string:D,moment:S},repeat:{string:D},__type__:{object:E,array:x}},locale:{string:D},locales:{__any__:{any:m},__type__:{object:E}},max:{date:C,number:b,string:D,moment:S},maxHeight:{number:b,string:D},maxMinorChars:{number:b},min:{date:C,number:b,string:D,moment:S},minHeight:{number:b,string:D},moveable:{boolean:c},multiselect:{boolean:c},orientation:{string:D},showCurrentTime:{boolean:c},showMajorLabels:{boolean:c},showMinorLabels:{boolean:c},start:{date:C,number:b,string:D,moment:S},timeAxis:{scale:{string:D,undefined:"undefined"},step:{number:b,undefined:"undefined"},__type__:{object:E}},width:{string:D,number:b},zoomable:{boolean:c},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:b},zoomMin:{number:b},zIndex:{number:b},__type__:{object:E}},d={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};k.allOptions=v,k.configureOptions=d},function(L,k,p){"use strict";var D=p(29),c=b(D);function b(G){return G&&G.__esModule?G:{default:G}}function x(G){return m=G,T()}var C={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},E=(0,c.default)(C);E.color="color.color",E.style="dashes";var y={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},S={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},m="",v=0,d="",h="",o=y.NULL;function f(){v=0,d=m.charAt(0)}function e(){v++,d=m.charAt(v)}function r(){return m.charAt(v+1)}var i=/[a-zA-Z_0-9.:#]/;function t(G){return i.test(G)}function a(G,U){if(G||(G={}),U)for(var $ in U)U.hasOwnProperty($)&&(G[$]=U[$]);return G}function u(G,U,$){for(var ne=U.split("."),se=G;ne.length;){var te=ne.shift();ne.length?(se[te]||(se[te]={}),se=se[te]):se[te]=$}}function n(G,U){for(var $,ne,se=null,te=[G],he=G;he.parent;)te.push(he.parent),he=he.parent;if(he.nodes){for($=0,ne=he.nodes.length;$<ne;$++)if(U.id===he.nodes[$].id){se=he.nodes[$];break}}for(se||(se={id:U.id},G.node&&(se.attr=a(se.attr,G.node))),$=te.length-1;$>=0;$--){var de=te[$];de.nodes||(de.nodes=[]),de.nodes.indexOf(se)===-1&&de.nodes.push(se)}U.attr&&(se.attr=a(se.attr,U.attr))}function s(G,U){if(G.edges||(G.edges=[]),G.edges.push(U),G.edge){var $=a({},G.edge);U.attr=a($,U.attr)}}function l(G,U,$,ne,se){var te={from:U,to:$,type:ne};return G.edge&&(te.attr=a({},G.edge)),te.attr=a(te.attr||{},se),te}function g(){for(o=y.NULL,h="";d===" "||d==="	"||d===`
`||d==="\r";)e();do{var G=!1;if(d==="#"){for(var U=v-1;m.charAt(U)===" "||m.charAt(U)==="	";)U--;if(m.charAt(U)===`
`||m.charAt(U)===""){for(;d!=""&&d!=`
`;)e();G=!0}}if(d==="/"&&r()==="/"){for(;d!=""&&d!=`
`;)e();G=!0}if(d==="/"&&r()==="*"){for(;d!="";)if(d==="*"&&r()==="/"){e(),e();break}else e();G=!0}for(;d===" "||d==="	"||d===`
`||d==="\r";)e()}while(G);if(d===""){o=y.DELIMITER;return}var $=d+r();if(S[$]){o=y.DELIMITER,h=$,e(),e();return}if(S[d]){o=y.DELIMITER,h=d,e();return}if(t(d)||d==="-"){for(h+=d,e();t(d);)h+=d,e();h==="false"?h=!1:h==="true"?h=!0:isNaN(Number(h))||(h=Number(h)),o=y.IDENTIFIER;return}if(d==='"'){for(e();d!=""&&(d!='"'||d==='"'&&r()==='"');)d==='"'?(h+=d,e()):d==="\\"&&r()==="n"?(h+=`
`,e()):h+=d,e();if(d!='"')throw Y('End of string " expected');e(),o=y.IDENTIFIER;return}for(o=y.UNKNOWN;d!="";)h+=d,e();throw new SyntaxError('Syntax error in part "'+X(h,30)+'"')}function T(){var G={};if(f(),g(),h==="strict"&&(G.strict=!0,g()),(h==="graph"||h==="digraph")&&(G.type=h,g()),o===y.IDENTIFIER&&(G.id=h,g()),h!="{")throw Y("Angle bracket { expected");if(g(),O(G),h!="}")throw Y("Angle bracket } expected");if(g(),h!=="")throw Y("End of file expected");return g(),delete G.node,delete G.edge,delete G.graph,G}function O(G){for(;h!==""&&h!="}";)P(G),h===";"&&g()}function P(G){var U=_(G);if(U){F(G,U);return}var $=R(G);if(!$){if(o!=y.IDENTIFIER)throw Y("Identifier expected");var ne=h;if(g(),h==="="){if(g(),o!=y.IDENTIFIER)throw Y("Identifier expected");G[ne]=h,g()}else I(G,ne)}}function _(G){var U=null;if(h==="subgraph"&&(U={},U.type="subgraph",g(),o===y.IDENTIFIER&&(U.id=h,g())),h==="{"){if(g(),U||(U={}),U.parent=G,U.node=G.node,U.edge=G.edge,U.graph=G.graph,O(U),h!="}")throw Y("Angle bracket } expected");g(),delete U.node,delete U.edge,delete U.graph,delete U.parent,G.subgraphs||(G.subgraphs=[]),G.subgraphs.push(U)}return U}function R(G){return h==="node"?(g(),G.node=W(),"node"):h==="edge"?(g(),G.edge=W(),"edge"):h==="graph"?(g(),G.graph=W(),"graph"):null}function I(G,U){var $={id:U},ne=W();ne&&($.attr=ne),n(G,$),F(G,U)}function F(G,U){for(;h==="->"||h==="--";){var $,ne=h;g();var se=_(G);if(se)$=se;else{if(o!=y.IDENTIFIER)throw Y("Identifier or subgraph expected");$=h,n(G,{id:$}),g()}var te=W(),he=l(G,U,$,ne,te);s(G,he),U=$}}function W(){for(var G=null,U={dashed:!0,solid:!1,dotted:[1,5]};h==="[";){for(g(),G={};h!==""&&h!="]";){if(o!=y.IDENTIFIER)throw Y("Attribute name expected");var $=h;if(g(),h!="=")throw Y("Equal sign = expected");if(g(),o!=y.IDENTIFIER)throw Y("Attribute value expected");var ne=h;$==="style"&&(ne=U[ne]),u(G,$,ne),g(),h==","&&g()}if(h!="]")throw Y("Bracket ] expected");g()}return G}function Y(G){return new SyntaxError(G+', got "'+X(h,30)+'" (char '+v+")")}function X(G,U){return G.length<=U?G:G.substr(0,27)+"..."}function q(G,U,$){Array.isArray(G)?G.forEach(function(ne){Array.isArray(U)?U.forEach(function(se){$(ne,se)}):$(ne,U)}):Array.isArray(U)?U.forEach(function(ne){$(G,ne)}):$(G,U)}function Q(G,U,$){for(var ne=U.split("."),se=ne.pop(),te=G,he=0;he<ne.length;he++){var de=ne[he];de in te||(te[de]={}),te=te[de]}return te[se]=$,G}function J(G,U){var $={};for(var ne in G)if(G.hasOwnProperty(ne)){var se=U[ne];Array.isArray(se)?se.forEach(function(te){Q($,te,G[ne])}):typeof se=="string"?Q($,se,G[ne]):Q($,ne,G[ne])}return $}function j(G){var U=x(G),$={nodes:[],edges:[],options:{}};if(U.nodes&&U.nodes.forEach(function(se){var te={id:se.id,label:String(se.label||se.id)};a(te,J(se.attr,C)),te.image&&(te.shape="image"),$.nodes.push(te)}),U.edges){var ne=function(te){var he={from:te.from,to:te.to};return a(he,J(te.attr,E)),he.arrows=te.type==="->"?"to":void 0,he};U.edges.forEach(function(se){var te,he;se.from instanceof Object?te=se.from.nodes:te={id:se.from},se.to instanceof Object?he=se.to.nodes:he={id:se.to},se.from instanceof Object&&se.from.edges&&se.from.edges.forEach(function(de){var ve=ne(de);$.edges.push(ve)}),q(te,he,function(de,ve){var De=l($,de.id,ve.id,se.type,se.attr),_e=ne(De);$.edges.push(_e)}),se.to instanceof Object&&se.to.edges&&se.to.edges.forEach(function(de){var ve=ne(de);$.edges.push(ve)})})}return U.attr&&($.options=U.attr),$}k.parseDOT=x,k.DOTToGraph=j},function(L,k,p){"use strict";function D(c,b){var x=[],C=[],E={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};b!==void 0&&(b.fixed!==void 0&&(E.nodes.fixed=b.fixed),b.parseColor!==void 0&&(E.nodes.parseColor=b.parseColor),b.inheritColor!==void 0&&(E.edges.inheritColor=b.inheritColor));for(var y=c.edges,S=c.nodes,m=0;m<y.length;m++){var v={},d=y[m];v.id=d.id,v.from=d.source,v.to=d.target,v.attributes=d.attributes,v.label=d.label,v.title=d.attributes!==void 0?d.attributes.title:void 0,d.type==="Directed"&&(v.arrows="to"),d.color&&E.inheritColor===!1&&(v.color=d.color),x.push(v)}for(var h=0;h<S.length;h++){var o={},f=S[h];o.id=f.id,o.attributes=f.attributes,o.x=f.x,o.y=f.y,o.label=f.label,o.title=f.attributes!==void 0?f.attributes.title:f.title,E.nodes.parseColor===!0?o.color=f.color:o.color=f.color!==void 0?{background:f.color,border:f.color,highlight:{background:f.color,border:f.color},hover:{background:f.color,border:f.color}}:void 0,o.size=f.size,o.fixed=E.nodes.fixed&&f.x!==void 0&&f.y!==void 0,C.push(o)}return{nodes:C,edges:x}}k.parseGephi=D},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=y(D),b=p(1),x=y(b),C=p(185),E=y(C);function y(m){return m&&m.__esModule?m:{default:m}}var S=function(){function m(v){(0,c.default)(this,m),this.images={},this.imageBroken={},this.callback=v}return(0,x.default)(m,[{key:"_tryloadBrokenUrl",value:function(d,h,o){if(!(d===void 0||o===void 0)){if(h===void 0){console.warn("No broken url image defined");return}o.onerror=function(){console.error("Could not load brokenImage:",h)},o.image.src=h}}},{key:"_redrawWithImage",value:function(d){this.callback&&this.callback(d)}},{key:"load",value:function(d,h){var o=this,f=this.images[d];if(f)return f;var e=new E.default;return this.images[d]=e,e.image.onload=function(){o._fixImageCoordinates(e.image),e.init(),o._redrawWithImage(e)},e.image.onerror=function(){console.error("Could not load image:",d),o._tryloadBrokenUrl(d,h,e)},e.image.src=d,e}},{key:"_fixImageCoordinates",value:function(d){d.width===0&&(document.body.appendChild(d),d.width=d.offsetWidth,d.height=d.offsetHeight,document.body.removeChild(d))}}]),m}();k.default=S},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(30),c=m(D),b=p(6),x=m(b),C=p(0),E=m(C),y=p(1),S=m(y);function m(e){return e&&e.__esModule?e:{default:e}}var v=p(2),d=p(48).default,h=p(191).default,o=["bold","ital","boldital","mono"],f=function(){function e(r,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,E.default)(this,e),this.body=r,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=t}return(0,S.default)(e,[{key:"setOptions",value:function(i){if(this.elementOptions=i,this.initFontOptions(i.font),d.isValidLabel(i.label)?this.labelDirty=!0:i.label="",i.font!==void 0&&i.font!==null){if(typeof i.font=="string")this.baseSize=this.fontOptions.size;else if((0,x.default)(i.font)==="object"){var t=i.font.size;t!==void 0&&(this.baseSize=t)}}}},{key:"initFontOptions",value:function(i){var t=this;if(v.forEach(o,function(a){t.fontOptions[a]={}}),e.parseFontString(this.fontOptions,i)){this.fontOptions.vadjust=0;return}v.forEach(i,function(a,u){a!=null&&(typeof a>"u"?"undefined":(0,x.default)(a))!=="object"&&(t.fontOptions[u]=a)})}},{key:"constrain",value:function(i){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},a=v.topMost(i,"widthConstraint");if(typeof a=="number")t.maxWdt=Number(a),t.minWdt=Number(a);else if((typeof a>"u"?"undefined":(0,x.default)(a))==="object"){var u=v.topMost(i,["widthConstraint","maximum"]);typeof u=="number"&&(t.maxWdt=Number(u));var n=v.topMost(i,["widthConstraint","minimum"]);typeof n=="number"&&(t.minWdt=Number(n))}var s=v.topMost(i,"heightConstraint");if(typeof s=="number")t.minHgt=Number(s);else if((typeof s>"u"?"undefined":(0,x.default)(s))==="object"){var l=v.topMost(i,["heightConstraint","minimum"]);typeof l=="number"&&(t.minHgt=Number(l));var g=v.topMost(i,["heightConstraint","valign"]);typeof g=="string"&&(g==="top"||g==="bottom")&&(t.valign=g)}return t}},{key:"update",value:function(i,t){this.setOptions(i,!0),this.propagateFonts(t),v.deepExtend(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=d.choosify("label",t)}},{key:"adjustSizes",value:function(i){var t=i?i.right+i.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var a=i?i.top+i.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=a)}},{key:"addFontOptionsToPile",value:function(i,t){for(var a=0;a<t.length;++a)this.addFontToPile(i,t[a])}},{key:"addFontToPile",value:function(i,t){if(t!==void 0&&!(t.font===void 0||t.font===null)){var a=t.font;i.push(a)}}},{key:"getBasicOptions",value:function(i){for(var t={},a=0;a<i.length;++a){var u=i[a],n={};e.parseFontString(n,u)&&(u=n),v.forEach(u,function(s,l){s!==void 0&&(t.hasOwnProperty(l)||(o.indexOf(l)!==-1?t[l]={}:t[l]=s))})}return t}},{key:"getFontOption",value:function(i,t,a){for(var u=void 0,n=0;n<i.length;++n){var s=i[n];if(s.hasOwnProperty(t)){if(u=s[t],u==null)continue;var l={};if(e.parseFontString(l,u)&&(u=l),u.hasOwnProperty(a))return u[a]}}if(this.fontOptions.hasOwnProperty(a))return this.fontOptions[a];throw new Error("Did not find value for multi-font for property: '"+a+"'")}},{key:"getFontOptions",value:function(i,t){for(var a={},u=["color","size","face","mod","vadjust"],n=0;n<u.length;++n){var s=u[n];a[s]=this.getFontOption(i,t,s)}return a}},{key:"propagateFonts",value:function(i){var t=this,a=[];this.addFontOptionsToPile(a,i),this.fontOptions=this.getBasicOptions(a);for(var u=function(l){var g=o[l],T=t.fontOptions[g],O=t.getFontOptions(a,g);v.forEach(O,function(P,_){T[_]=P}),T.size=Number(T.size),T.vadjust=Number(T.vadjust)},n=0;n<o.length;++n)u(n)}},{key:"draw",value:function(i,t,a,u,n){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(i,u,n,t,a,s),this._drawBackground(i),this._drawText(i,t,this.size.yLine,s,l))}}},{key:"_drawBackground",value:function(i){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){i.fillStyle=this.fontOptions.background;var t=this.getSize();i.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(i,t,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",n=arguments[4],s=this._setAlignment(i,t,a,u),l=(0,c.default)(s,2);t=l[0],a=l[1],i.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(a-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(a+=(this.size.height-this.size.labelHeight)/2));for(var g=0;g<this.lineCount;g++){var T=this.lines[g];if(T&&T.blocks){var O=0;this.isEdgeLabel||this.fontOptions.align==="center"?O+=(this.size.width-T.width)/2:this.fontOptions.align==="right"&&(O+=this.size.width-T.width);for(var P=0;P<T.blocks.length;P++){var _=T.blocks[P];i.font=_.font;var R=this._getColor(_.color,n,_.strokeColor),I=(0,c.default)(R,2),F=I[0],W=I[1];_.strokeWidth>0&&(i.lineWidth=_.strokeWidth,i.strokeStyle=W,i.lineJoin="round"),i.fillStyle=F,_.strokeWidth>0&&i.strokeText(_.text,t+O,a+_.vadjust),i.fillText(_.text,t+O,a+_.vadjust),O+=_.width}a+=T.height}}}},{key:"_setAlignment",value:function(i,t,a,u){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,a=0;var n=2;this.fontOptions.align==="top"?(i.textBaseline="alphabetic",a-=2*n):this.fontOptions.align==="bottom"?(i.textBaseline="hanging",a+=2*n):i.textBaseline="middle"}else i.textBaseline=u;return[t,a]}},{key:"_getColor",value:function(i,t,a){var u=i||"#000000",n=a||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));u=v.overrideOpacity(u,s),n=v.overrideOpacity(n,s)}return[u,n]}},{key:"getTextSize",value:function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(i,t,a),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var i=2,t=this.size.left,a=this.size.top-.5*i;if(this.isEdgeLabel){var u=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=u,a=-this.size.height*.5;break;case"top":t=u,a=-(this.size.height+i);break;case"bottom":t=u,a=i;break}}var n={left:t,top:a,width:this.size.width,height:this.size.height};return n}},{key:"calculateLabelSize",value:function(i,t,a){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(i,t,a),this.size.left=u-this.size.width*.5,this.size.top=n-this.size.height*.5,this.size.yLine=n+(1-this.lineCount)*.5*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(i,t,a,u){var n=function(T,O,P){return O==="normal"?P==="mod"?"":T[P]:T[O][P]!==void 0?T[O][P]:T[P]},s={color:n(this.fontOptions,u,"color"),size:n(this.fontOptions,u,"size"),face:n(this.fontOptions,u,"face"),mod:n(this.fontOptions,u,"mod"),vadjust:n(this.fontOptions,u,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||a)&&(u==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,t,a));var l="";return s.mod!==void 0&&s.mod!==""&&(l+=s.mod+" "),l+=s.size+"px "+s.face,i.font=l.replace(/"/g,""),s.font=i.font,s.height=s.size,s}},{key:"differentState",value:function(i,t){return i!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(i,t,a,u){var n=new h(i,this,t,a);return n.process(u)}},{key:"_processLabel",value:function(i,t,a){if(!(this.labelDirty===!1&&!this.differentState(t,a))){var u=this._processLabelText(i,t,a,this.elementOptions.label);this.fontOptions.minWdt>0&&u.width<this.fontOptions.minWdt&&(u.width=this.fontOptions.minWdt),this.size.labelHeight=u.height,this.fontOptions.minHgt>0&&u.height<this.fontOptions.minHgt&&(u.height=this.fontOptions.minHgt),this.lines=u.lines,this.lineCount=u.lines.length,this.size.width=u.width,this.size.height=u.height,this.selectedState=t,this.hoverState=a,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var i=this.fontOptions.size*this.body.view.scale;return!(i<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(i,t){if(!t||typeof t!="string")return!1;var a=t.split(" ");return i.size=a[0].replace("px",""),i.face=a[1],i.color=a[2],!0}}]),e}();k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(30),c=y(D),b=p(0),x=y(b),C=p(1),E=y(C);function y(d){return d&&d.__esModule?d:{default:d}}var S=p(2),m=p(119).default,v=function(){function d(h,o,f){(0,x.default)(this,d),this.body=o,this.labelModule=f,this.options={},this.setOptions(h),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,E.default)(d,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(o){this.options=o,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(o,f,e,r,i){o.strokeStyle=this.getColor(o,f,e,r),o.lineWidth=f.width,f.dashes!==!1?this._drawDashedLine(o,f,i):this._drawLine(o,f,i)}},{key:"_drawLine",value:function(o,f,e,r,i){if(this.from!=this.to)this._line(o,f,e,r,i);else{var t=this._getCircleData(o),a=(0,c.default)(t,3),u=a[0],n=a[1],s=a[2];this._circle(o,f,u,n,s)}}},{key:"_drawDashedLine",value:function(o,f,e,r,i){o.lineCap="round";var t=[5,5];if(Array.isArray(f.dashes)===!0&&(t=f.dashes),o.setLineDash!==void 0){if(o.save(),o.setLineDash(t),o.lineDashOffset=0,this.from!=this.to)this._line(o,f,e);else{var a=this._getCircleData(o),u=(0,c.default)(a,3),n=u[0],s=u[1],l=u[2];this._circle(o,f,n,s,l)}o.setLineDash([0]),o.lineDashOffset=0,o.restore()}else{if(this.from!=this.to)o.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,t);else{var g=this._getCircleData(o),T=(0,c.default)(g,3),O=T[0],P=T[1],_=T[2];this._circle(o,f,O,P,_)}this.enableShadow(o,f),o.stroke(),this.disableShadow(o,f)}}},{key:"findBorderPosition",value:function(o,f,e){return this.from!=this.to?this._findBorderPosition(o,f,e):this._findBorderPositionCircle(o,f,e)}},{key:"findBorderPositions",value:function(o){var f={},e={};if(this.from!=this.to)f=this._findBorderPosition(this.from,o),e=this._findBorderPosition(this.to,o);else{var r=this._getCircleData(o).slice(0,2),i=(0,c.default)(r,2),t=i[0],a=i[1];f=this._findBorderPositionCircle(this.from,o,{x:t,y:a,low:.25,high:.6,direction:-1}),e=this._findBorderPositionCircle(this.from,o,{x:t,y:a,low:.6,high:.8,direction:1})}return{from:f,to:e}}},{key:"_getCircleData",value:function(o){var f=void 0,e=void 0,r=this.from,i=this.options.selfReferenceSize;return o!==void 0&&r.shape.width===void 0&&r.shape.resize(o),r.shape.width>r.shape.height?(f=r.x+r.shape.width*.5,e=r.y-i):(f=r.x+i,e=r.y-r.shape.height*.5),[f,e,i]}},{key:"_pointOnCircle",value:function(o,f,e,r){var i=r*2*Math.PI;return{x:o+e*Math.cos(i),y:f-e*Math.sin(i)}}},{key:"_findBorderPositionCircle",value:function(o,f,e){for(var r=e.x,i=e.y,t=e.low,a=e.high,u=e.direction,n=10,s=0,l=this.options.selfReferenceSize,g=void 0,T=void 0,O=void 0,P=void 0,_=void 0,R=.05,I=(t+a)*.5;t<=a&&s<n&&(I=(t+a)*.5,g=this._pointOnCircle(r,i,l,I),T=Math.atan2(o.y-g.y,o.x-g.x),O=o.distanceToBorder(f,T),P=Math.sqrt(Math.pow(g.x-o.x,2)+Math.pow(g.y-o.y,2)),_=O-P,!(Math.abs(_)<R));)_>0?u>0?t=I:a=I:u>0?a=I:t=I,s++;return g.t=I,g}},{key:"getLineWidth",value:function(o,f){return o===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):f===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(o,f,e,r){if(f.inheritsColor!==!1){if(f.inheritsColor==="both"&&this.from.id!==this.to.id){var i=o.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),t=void 0,a=void 0;return t=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(t=S.overrideOpacity(this.from.options.color.border,f.opacity),a=S.overrideOpacity(this.to.options.color.border,f.opacity)):this.from.selected===!0&&this.to.selected===!1?a=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(t=this.from.options.color.border),i.addColorStop(0,t),i.addColorStop(1,a),i}return f.inheritsColor==="to"?S.overrideOpacity(this.to.options.color.border,f.opacity):S.overrideOpacity(this.from.options.color.border,f.opacity)}else return S.overrideOpacity(f.color,f.opacity)}},{key:"_circle",value:function(o,f,e,r,i){this.enableShadow(o,f),o.beginPath(),o.arc(e,r,i,0,2*Math.PI,!1),o.stroke(),this.disableShadow(o,f)}},{key:"getDistanceToEdge",value:function(o,f,e,r,i,t,a,u){var n=0;if(this.from!=this.to)n=this._getDistanceToEdge(o,f,e,r,i,t,a);else{var s=this._getCircleData(void 0),l=(0,c.default)(s,3),g=l[0],T=l[1],O=l[2],P=g-i,_=T-t;n=Math.abs(Math.sqrt(P*P+_*_)-O)}return n}},{key:"_getDistanceToLine",value:function(o,f,e,r,i,t){var a=e-o,u=r-f,n=a*a+u*u,s=((i-o)*a+(t-f)*u)/n;s>1?s=1:s<0&&(s=0);var l=o+s*a,g=f+s*u,T=l-i,O=g-t;return Math.sqrt(T*T+O*O)}},{key:"getArrowData",value:function(o,f,e,r,i,t){var a=void 0,u=void 0,n=void 0,s=void 0,l=void 0,g=void 0,T=void 0,O=t.width;if(f==="from"?(n=this.from,s=this.to,l=.1,g=t.fromArrowScale,T=t.fromArrowType):f==="to"?(n=this.to,s=this.from,l=-.1,g=t.toArrowScale,T=t.toArrowType):(n=this.to,s=this.from,g=t.middleArrowScale,T=t.middleArrowType),n!=s)if(f!=="middle")if(this.options.smooth.enabled===!0){u=this.findBorderPosition(n,o,{via:e});var P=this.getPoint(Math.max(0,Math.min(1,u.t+l)),e);a=Math.atan2(u.y-P.y,u.x-P.x)}else a=Math.atan2(n.y-s.y,n.x-s.x),u=this.findBorderPosition(n,o);else a=Math.atan2(n.y-s.y,n.x-s.x),u=this.getPoint(.5,e);else{var _=this._getCircleData(o),R=(0,c.default)(_,3),I=R[0],F=R[1],W=R[2];f==="from"?(u=this.findBorderPosition(this.from,o,{x:I,y:F,low:.25,high:.6,direction:-1}),a=u.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI):f==="to"?(u=this.findBorderPosition(this.from,o,{x:I,y:F,low:.6,high:1,direction:1}),a=u.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI):(u=this._pointOnCircle(I,F,W,.175),a=3.9269908169872414)}f==="middle"&&g<0&&(O*=-1);var Y=15*g+3*O,X=u.x-Y*.9*Math.cos(a),q=u.y-Y*.9*Math.sin(a),Q={x:X,y:q};return{point:u,core:Q,angle:a,length:Y,type:T}}},{key:"drawArrowHead",value:function(o,f,e,r,i){o.strokeStyle=this.getColor(o,f,e,r),o.fillStyle=o.strokeStyle,o.lineWidth=f.width,m.draw(o,i),this.enableShadow(o,f),o.fill(),this.disableShadow(o,f)}},{key:"enableShadow",value:function(o,f){f.shadow===!0&&(o.shadowColor=f.shadowColor,o.shadowBlur=f.shadowSize,o.shadowOffsetX=f.shadowX,o.shadowOffsetY=f.shadowY)}},{key:"disableShadow",value:function(o,f){f.shadow===!0&&(o.shadowColor="rgba(0,0,0,0)",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0)}}]),d}();k.default=v},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=d(D),b=p(4),x=d(b),C=p(5),E=d(C),y=p(0),S=d(y),m=p(1),v=d(m);function d(i){return i&&i.__esModule?i:{default:i}}var h=function(){function i(){(0,S.default)(this,i)}return(0,v.default)(i,null,[{key:"transform",value:function(a,u){a instanceof Array||(a=[a]);for(var n=u.point.x,s=u.point.y,l=u.angle,g=u.length,T=0;T<a.length;++T){var O=a[T],P=O.x*Math.cos(l)-O.y*Math.sin(l),_=O.x*Math.sin(l)+O.y*Math.cos(l);O.x=n+g*P,O.y=s+g*_}}},{key:"drawPath",value:function(a,u){a.beginPath(),a.moveTo(u[0].x,u[0].y);for(var n=1;n<u.length;++n)a.lineTo(u[n].x,u[n].y);a.closePath()}}]),i}(),o=function(i){(0,E.default)(t,i);function t(){return(0,S.default)(this,t),(0,x.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,v.default)(t,null,[{key:"draw",value:function(u,n){var s=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];h.transform(s,n),h.drawPath(u,s)}}]),t}(h),f=function(){function i(){(0,S.default)(this,i)}return(0,v.default)(i,null,[{key:"draw",value:function(a,u){var n={x:-.4,y:0};h.transform(n,u),a.circle(n.x,n.y,u.length*.4)}}]),i}(),e=function(){function i(){(0,S.default)(this,i)}return(0,v.default)(i,null,[{key:"draw",value:function(a,u){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];h.transform(n,u),h.drawPath(a,n)}}]),i}(),r=function(){function i(){(0,S.default)(this,i)}return(0,v.default)(i,null,[{key:"draw",value:function(a,u){var n;switch(u.type&&(n=u.type.toLowerCase()),n){case"circle":f.draw(a,u);break;case"bar":e.draw(a,u);break;case"arrow":default:o.draw(a,u)}}}]),i}();k.default=r},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(S,m,v){(0,c.default)(this,y),this.body=S,this.physicsBody=m,this.barnesHutTree,this.setOptions(v),this.randomSeed=5}return(0,x.default)(y,[{key:"setOptions",value:function(m){this.options=m,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var m=Math.sin(this.randomSeed++)*1e4;return m-Math.floor(m)}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var m=void 0,v=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=d.length,o=this._formBarnesHutTree(v,d);this.barnesHutTree=o;for(var f=0;f<h;f++)m=v[d[f]],m.options.mass>0&&this._getForceContributions(o.root,m)}}},{key:"_getForceContributions",value:function(m,v){this._getForceContribution(m.children.NW,v),this._getForceContribution(m.children.NE,v),this._getForceContribution(m.children.SW,v),this._getForceContribution(m.children.SE,v)}},{key:"_getForceContribution",value:function(m,v){if(m.childrenCount>0){var d=void 0,h=void 0,o=void 0;d=m.centerOfMass.x-v.x,h=m.centerOfMass.y-v.y,o=Math.sqrt(d*d+h*h),o*m.calcSize>this.thetaInversed?this._calculateForces(o,d,h,v,m):m.childrenCount===4?this._getForceContributions(m,v):m.children.data.id!=v.id&&this._calculateForces(o,d,h,v,m)}}},{key:"_calculateForces",value:function(m,v,d,h,o){m===0&&(m=.1,v=m),this.overlapAvoidanceFactor<1&&h.shape.radius&&(m=Math.max(.1+this.overlapAvoidanceFactor*h.shape.radius,m-h.shape.radius));var f=this.options.gravitationalConstant*o.mass*h.options.mass/Math.pow(m,3),e=v*f,r=d*f;this.physicsBody.forces[h.id].x+=e,this.physicsBody.forces[h.id].y+=r}},{key:"_formBarnesHutTree",value:function(m,v){for(var d=void 0,h=v.length,o=m[v[0]].x,f=m[v[0]].y,e=m[v[0]].x,r=m[v[0]].y,i=1;i<h;i++){var t=m[v[i]],a=t.x,u=t.y;t.options.mass>0&&(a<o&&(o=a),a>e&&(e=a),u<f&&(f=u),u>r&&(r=u))}var n=Math.abs(e-o)-Math.abs(r-f);n>0?(f-=.5*n,r+=.5*n):(o+=.5*n,e-=.5*n);var s=1e-5,l=Math.max(s,Math.abs(e-o)),g=.5*l,T=.5*(o+e),O=.5*(f+r),P={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:T-g,maxX:T+g,minY:O-g,maxY:O+g},size:l,calcSize:1/l,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(P.root);for(var _=0;_<h;_++)d=m[v[_]],d.options.mass>0&&this._placeInTree(P.root,d);return P}},{key:"_updateBranchMass",value:function(m,v){var d=m.centerOfMass,h=m.mass+v.options.mass,o=1/h;d.x=d.x*m.mass+v.x*v.options.mass,d.x*=o,d.y=d.y*m.mass+v.y*v.options.mass,d.y*=o,m.mass=h;var f=Math.max(Math.max(v.height,v.radius),v.width);m.maxWidth=m.maxWidth<f?f:m.maxWidth}},{key:"_placeInTree",value:function(m,v,d){(d!=!0||d===void 0)&&this._updateBranchMass(m,v);var h=m.children.NW.range,o=void 0;h.maxX>v.x?h.maxY>v.y?o="NW":o="SW":h.maxY>v.y?o="NE":o="SE",this._placeInRegion(m,v,o)}},{key:"_placeInRegion",value:function(m,v,d){var h=m.children[d];switch(h.childrenCount){case 0:h.children.data=v,h.childrenCount=1,this._updateBranchMass(h,v);break;case 1:h.children.data.x===v.x&&h.children.data.y===v.y?(v.x+=this.seededRandom(),v.y+=this.seededRandom()):(this._splitBranch(h),this._placeInTree(h,v));break;case 4:this._placeInTree(h,v);break}}},{key:"_splitBranch",value:function(m){var v=null;m.childrenCount===1&&(v=m.children.data,m.mass=0,m.centerOfMass.x=0,m.centerOfMass.y=0),m.childrenCount=4,m.children.data=null,this._insertRegion(m,"NW"),this._insertRegion(m,"NE"),this._insertRegion(m,"SW"),this._insertRegion(m,"SE"),v!=null&&this._placeInTree(m,v)}},{key:"_insertRegion",value:function(m,v){var d=void 0,h=void 0,o=void 0,f=void 0,e=.5*m.size;switch(v){case"NW":d=m.range.minX,h=m.range.minX+e,o=m.range.minY,f=m.range.minY+e;break;case"NE":d=m.range.minX+e,h=m.range.maxX,o=m.range.minY,f=m.range.minY+e;break;case"SW":d=m.range.minX,h=m.range.minX+e,o=m.range.minY+e,f=m.range.maxY;break;case"SE":d=m.range.minX+e,h=m.range.maxX,o=m.range.minY+e,f=m.range.maxY;break}m.children[v]={centerOfMass:{x:0,y:0},mass:0,range:{minX:d,maxX:h,minY:o,maxY:f},size:.5*m.size,calcSize:2*m.calcSize,children:{data:null},maxWidth:0,level:m.level+1,childrenCount:0}}},{key:"_debug",value:function(m,v){this.barnesHutTree!==void 0&&(m.lineWidth=1,this._drawBranch(this.barnesHutTree.root,m,v))}},{key:"_drawBranch",value:function(m,v,d){d===void 0&&(d="#FF0000"),m.childrenCount===4&&(this._drawBranch(m.children.NW,v),this._drawBranch(m.children.NE,v),this._drawBranch(m.children.SE,v),this._drawBranch(m.children.SW,v)),v.strokeStyle=d,v.beginPath(),v.moveTo(m.range.minX,m.range.minY),v.lineTo(m.range.maxX,m.range.minY),v.stroke(),v.beginPath(),v.moveTo(m.range.maxX,m.range.minY),v.lineTo(m.range.maxX,m.range.maxY),v.stroke(),v.beginPath(),v.moveTo(m.range.maxX,m.range.maxY),v.lineTo(m.range.minX,m.range.maxY),v.stroke(),v.beginPath(),v.moveTo(m.range.minX,m.range.maxY),v.lineTo(m.range.minX,m.range.minY),v.stroke()}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(S,m,v){(0,c.default)(this,y),this.body=S,this.physicsBody=m,this.setOptions(v)}return(0,x.default)(y,[{key:"setOptions",value:function(m){this.options=m}},{key:"solve",value:function(){for(var m=void 0,v=void 0,d=void 0,h=void 0,o=this.body.nodes,f=this.physicsBody.physicsNodeIndices,e=this.physicsBody.forces,r=0;r<f.length;r++){var i=f[r];h=o[i],m=-h.x,v=-h.y,d=Math.sqrt(m*m+v*v),this._calculateForces(d,m,v,e,h)}}},{key:"_calculateForces",value:function(m,v,d,h,o){var f=m===0?0:this.options.centralGravity/m;h[o.id].x=v*f,h[o.id].y=d*f}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D="string",c="boolean",b="number",x="array",C="object",E="dom",y="any",S=["arrow","circle","bar"],m={configure:{enabled:{boolean:c},filter:{boolean:c,string:D,array:x,function:"function"},container:{dom:E},showButton:{boolean:c},__type__:{object:C,boolean:c,string:D,array:x,function:"function"}},edges:{arrows:{to:{enabled:{boolean:c},scaleFactor:{number:b},type:{string:S},__type__:{object:C,boolean:c}},middle:{enabled:{boolean:c},scaleFactor:{number:b},type:{string:S},__type__:{object:C,boolean:c}},from:{enabled:{boolean:c},scaleFactor:{number:b},type:{string:S},__type__:{object:C,boolean:c}},__type__:{string:["from","to","middle"],object:C}},arrowStrikethrough:{boolean:c},chosen:{label:{boolean:c,function:"function"},edge:{boolean:c,function:"function"},__type__:{object:C,boolean:c}},color:{color:{string:D},highlight:{string:D},hover:{string:D},inherit:{string:["from","to","both"],boolean:c},opacity:{number:b},__type__:{object:C,string:D}},dashes:{boolean:c,array:x},font:{color:{string:D},size:{number:b},face:{string:D},background:{string:D},strokeWidth:{number:b},strokeColor:{string:D},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:b},multi:{boolean:c,string:D},bold:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},boldital:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},ital:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},mono:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},__type__:{object:C,string:D}},hidden:{boolean:c},hoverWidth:{function:"function",number:b},label:{string:D,undefined:"undefined"},labelHighlightBold:{boolean:c},length:{number:b,undefined:"undefined"},physics:{boolean:c},scaling:{min:{number:b},max:{number:b},label:{enabled:{boolean:c},min:{number:b},max:{number:b},maxVisible:{number:b},drawThreshold:{number:b},__type__:{object:C,boolean:c}},customScalingFunction:{function:"function"},__type__:{object:C}},selectionWidth:{function:"function",number:b},selfReferenceSize:{number:b},shadow:{enabled:{boolean:c},color:{string:D},size:{number:b},x:{number:b},y:{number:b},__type__:{object:C,boolean:c}},smooth:{enabled:{boolean:c},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:b},forceDirection:{string:["horizontal","vertical","none"],boolean:c},__type__:{object:C,boolean:c}},title:{string:D,undefined:"undefined"},width:{number:b},widthConstraint:{maximum:{number:b},__type__:{object:C,boolean:c,number:b}},value:{number:b,undefined:"undefined"},__type__:{object:C}},groups:{useDefaultGroups:{boolean:c},__any__:"get from nodes, will be overwritten below",__type__:{object:C}},interaction:{dragNodes:{boolean:c},dragView:{boolean:c},hideEdgesOnDrag:{boolean:c},hideNodesOnDrag:{boolean:c},hover:{boolean:c},keyboard:{enabled:{boolean:c},speed:{x:{number:b},y:{number:b},zoom:{number:b},__type__:{object:C}},bindToWindow:{boolean:c},__type__:{object:C,boolean:c}},multiselect:{boolean:c},navigationButtons:{boolean:c},selectable:{boolean:c},selectConnectedEdges:{boolean:c},hoverConnectedEdges:{boolean:c},tooltipDelay:{number:b},zoomView:{boolean:c},__type__:{object:C}},layout:{randomSeed:{undefined:"undefined",number:b},improvedLayout:{boolean:c},hierarchical:{enabled:{boolean:c},levelSeparation:{number:b},nodeSpacing:{number:b},treeSpacing:{number:b},blockShifting:{boolean:c},edgeMinimization:{boolean:c},parentCentralization:{boolean:c},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:C,boolean:c}},__type__:{object:C}},manipulation:{enabled:{boolean:c},initiallyActive:{boolean:c},addNode:{boolean:c,function:"function"},addEdge:{boolean:c,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:C,boolean:c,function:"function"}},deleteNode:{boolean:c,function:"function"},deleteEdge:{boolean:c,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:C,boolean:c}},nodes:{borderWidth:{number:b},borderWidthSelected:{number:b,undefined:"undefined"},brokenImage:{string:D,undefined:"undefined"},chosen:{label:{boolean:c,function:"function"},node:{boolean:c,function:"function"},__type__:{object:C,boolean:c}},color:{border:{string:D},background:{string:D},highlight:{border:{string:D},background:{string:D},__type__:{object:C,string:D}},hover:{border:{string:D},background:{string:D},__type__:{object:C,string:D}},__type__:{object:C,string:D}},fixed:{x:{boolean:c},y:{boolean:c},__type__:{object:C,boolean:c}},font:{align:{string:D},color:{string:D},size:{number:b},face:{string:D},background:{string:D},strokeWidth:{number:b},strokeColor:{string:D},vadjust:{number:b},multi:{boolean:c,string:D},bold:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},boldital:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},ital:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},mono:{color:{string:D},size:{number:b},face:{string:D},mod:{string:D},vadjust:{number:b},__type__:{object:C,string:D}},__type__:{object:C,string:D}},group:{string:D,number:b,undefined:"undefined"},heightConstraint:{minimum:{number:b},valign:{string:D},__type__:{object:C,boolean:c,number:b}},hidden:{boolean:c},icon:{face:{string:D},code:{string:D},size:{number:b},color:{string:D},__type__:{object:C}},id:{string:D,number:b},image:{selected:{string:D,undefined:"undefined"},unselected:{string:D,undefined:"undefined"},__type__:{object:C,string:D}},label:{string:D,undefined:"undefined"},labelHighlightBold:{boolean:c},level:{number:b,undefined:"undefined"},margin:{top:{number:b},right:{number:b},bottom:{number:b},left:{number:b},__type__:{object:C,number:b}},mass:{number:b},physics:{boolean:c},scaling:{min:{number:b},max:{number:b},label:{enabled:{boolean:c},min:{number:b},max:{number:b},maxVisible:{number:b},drawThreshold:{number:b},__type__:{object:C,boolean:c}},customScalingFunction:{function:"function"},__type__:{object:C}},shadow:{enabled:{boolean:c},color:{string:D},size:{number:b},x:{number:b},y:{number:b},__type__:{object:C,boolean:c}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:c,array:x},borderRadius:{number:b},interpolation:{boolean:c},useImageSize:{boolean:c},useBorderWithImage:{boolean:c},__type__:{object:C}},size:{number:b},title:{string:D,dom:E,undefined:"undefined"},value:{number:b,undefined:"undefined"},widthConstraint:{minimum:{number:b},maximum:{number:b},__type__:{object:C,boolean:c,number:b}},x:{number:b},y:{number:b},__type__:{object:C}},physics:{enabled:{boolean:c},barnesHut:{gravitationalConstant:{number:b},centralGravity:{number:b},springLength:{number:b},springConstant:{number:b},damping:{number:b},avoidOverlap:{number:b},__type__:{object:C}},forceAtlas2Based:{gravitationalConstant:{number:b},centralGravity:{number:b},springLength:{number:b},springConstant:{number:b},damping:{number:b},avoidOverlap:{number:b},__type__:{object:C}},repulsion:{centralGravity:{number:b},springLength:{number:b},springConstant:{number:b},nodeDistance:{number:b},damping:{number:b},__type__:{object:C}},hierarchicalRepulsion:{centralGravity:{number:b},springLength:{number:b},springConstant:{number:b},nodeDistance:{number:b},damping:{number:b},__type__:{object:C}},maxVelocity:{number:b},minVelocity:{number:b},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:c},iterations:{number:b},updateInterval:{number:b},onlyDynamicEdges:{boolean:c},fit:{boolean:c},__type__:{object:C,boolean:c}},timestep:{number:b},adaptiveTimestep:{boolean:c},__type__:{object:C,boolean:c}},autoResize:{boolean:c},clickToUse:{boolean:c},locale:{string:D},locales:{__any__:{any:y},__type__:{object:C}},height:{string:D},width:{string:D},__type__:{object:C}};m.groups.__any__=m.nodes,m.manipulation.controlNodeStyle=m.nodes;var v={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};k.allOptions=m,k.configureOptions=v},function(L,k,p){"use strict";var D=p(2);D.extend(k,p(159)),D.extend(k,p(177)),D.extend(k,p(181))},function(L,k,p){p(49),p(60),L.exports=p(136)},function(L,k,p){"use strict";var D=p(126),c=p(127),b=p(31),x=p(25);L.exports=p(79)(Array,"Array",function(C,E){this._t=x(C),this._i=0,this._k=E},function(){var C=this._t,E=this._k,y=this._i++;return!C||y>=C.length?(this._t=void 0,c(1)):E=="keys"?c(0,y):E=="values"?c(0,C[y]):c(0,[y,C[y]])},"values"),b.Arguments=b.Array,D("keys"),D("values"),D("entries")},function(L,k){L.exports=function(){}},function(L,k){L.exports=function(p,D){return{value:D,done:!!p}}},function(L,k){L.exports=function(p){if(typeof p!="function")throw TypeError(p+" is not a function!");return p}},function(L,k,p){"use strict";var D=p(54),c=p(39),b=p(59),x={};p(26)(x,p(13)("iterator"),function(){return this}),L.exports=function(C,E,y){C.prototype=D(x,{next:c(1,y)}),b(C,E+" Iterator")}},function(L,k,p){var D=p(20),c=p(27),b=p(33);L.exports=p(21)?Object.defineProperties:function(C,E){c(C);for(var y=b(E),S=y.length,m=0,v;S>m;)D.f(C,v=y[m++],E[v]);return C}},function(L,k,p){var D=p(25),c=p(132),b=p(133);L.exports=function(x){return function(C,E,y){var S=D(C),m=c(S.length),v=b(y,m),d;if(x&&E!=E){for(;m>v;)if(d=S[v++],d!=d)return!0}else for(;m>v;v++)if((x||v in S)&&S[v]===E)return x||v||0;return!x&&-1}}},function(L,k,p){var D=p(55),c=Math.min;L.exports=function(b){return b>0?c(D(b),9007199254740991):0}},function(L,k,p){var D=p(55),c=Math.max,b=Math.min;L.exports=function(x,C){return x=D(x),x<0?c(x+C,0):b(x,C)}},function(L,k,p){var D=p(18).document;L.exports=D&&D.documentElement},function(L,k,p){var D=p(55),c=p(51);L.exports=function(b){return function(x,C){var E=String(c(x)),y=D(C),S=E.length,m,v;return y<0||y>=S?b?"":void 0:(m=E.charCodeAt(y),m<55296||m>56319||y+1===S||(v=E.charCodeAt(y+1))<56320||v>57343?b?E.charAt(y):m:b?E.slice(y,y+2):(m-55296<<10)+(v-56320)+65536)}}},function(L,k,p){var D=p(27),c=p(137);L.exports=p(7).getIterator=function(b){var x=c(b);if(typeof x!="function")throw TypeError(b+" is not iterable!");return D(x.call(b))}},function(L,k,p){var D=p(86),c=p(13)("iterator"),b=p(31);L.exports=p(7).getIteratorMethod=function(x){if(x!=null)return x[c]||x["@@iterator"]||b[D(x)]}},function(L,k,p){p(139);var D=p(7).Object;L.exports=function(b,x){return D.create(b,x)}},function(L,k,p){var D=p(17);D(D.S,"Object",{create:p(54)})},function(L,k,p){p(141),L.exports=p(7).Object.keys},function(L,k,p){var D=p(41),c=p(33);p(87)("keys",function(){return function(x){return c(D(x))}})},function(L,k,p){L.exports={default:p(143),__esModule:!0}},function(L,k,p){p(60),p(49),L.exports=p(61).f("iterator")},function(L,k,p){L.exports={default:p(145),__esModule:!0}},function(L,k,p){p(146),p(151),p(152),p(153),L.exports=p(7).Symbol},function(L,k,p){"use strict";var D=p(18),c=p(22),b=p(21),x=p(17),C=p(83),E=p(147).KEY,y=p(28),S=p(57),m=p(59),v=p(40),d=p(13),h=p(61),o=p(62),f=p(148),e=p(149),r=p(27),i=p(25),t=p(53),a=p(39),u=p(54),n=p(150),s=p(89),l=p(20),g=p(33),T=s.f,O=l.f,P=n.f,_=D.Symbol,R=D.JSON,I=R&&R.stringify,F="prototype",W=d("_hidden"),Y=d("toPrimitive"),X={}.propertyIsEnumerable,q=S("symbol-registry"),Q=S("symbols"),J=S("op-symbols"),j=Object[F],G=typeof _=="function",U=D.QObject,$=!U||!U[F]||!U[F].findChild,ne=b&&y(function(){return u(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a!=7})?function(pe,re,ae){var ce=T(j,re);ce&&delete j[re],O(pe,re,ae),ce&&pe!==j&&O(j,re,ce)}:O,se=function(pe){var re=Q[pe]=u(_[F]);return re._k=pe,re},te=G&&typeof _.iterator=="symbol"?function(pe){return typeof pe=="symbol"}:function(pe){return pe instanceof _},he=function(re,ae,ce){return re===j&&he(J,ae,ce),r(re),ae=t(ae,!0),r(ce),c(Q,ae)?(ce.enumerable?(c(re,W)&&re[W][ae]&&(re[W][ae]=!1),ce=u(ce,{enumerable:a(0,!1)})):(c(re,W)||O(re,W,a(1,{})),re[W][ae]=!0),ne(re,ae,ce)):O(re,ae,ce)},de=function(re,ae){r(re);for(var ce=f(ae=i(ae)),be=0,Te=ce.length,ue;Te>be;)he(re,ue=ce[be++],ae[ue]);return re},ve=function(re,ae){return ae===void 0?u(re):de(u(re),ae)},De=function(re){var ae=X.call(this,re=t(re,!0));return this===j&&c(Q,re)&&!c(J,re)?!1:ae||!c(this,re)||!c(Q,re)||c(this,W)&&this[W][re]?ae:!0},_e=function(re,ae){if(re=i(re),ae=t(ae,!0),!(re===j&&c(Q,ae)&&!c(J,ae))){var ce=T(re,ae);return ce&&c(Q,ae)&&!(c(re,W)&&re[W][ae])&&(ce.enumerable=!0),ce}},Ce=function(re){for(var ae=P(i(re)),ce=[],be=0,Te;ae.length>be;)!c(Q,Te=ae[be++])&&Te!=W&&Te!=E&&ce.push(Te);return ce},ye=function(re){for(var ae=re===j,ce=P(ae?J:i(re)),be=[],Te=0,ue;ce.length>Te;)c(Q,ue=ce[Te++])&&(!ae||c(j,ue))&&be.push(Q[ue]);return be};G||(_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var re=v(arguments.length>0?arguments[0]:void 0),ae=function(ce){this===j&&ae.call(J,ce),c(this,W)&&c(this[W],re)&&(this[W][re]=!1),ne(this,re,a(1,ce))};return b&&$&&ne(j,re,{configurable:!0,set:ae}),se(re)},C(_[F],"toString",function(){return this._k}),s.f=_e,l.f=he,p(88).f=n.f=Ce,p(42).f=De,p(63).f=ye,b&&!p(52)&&C(j,"propertyIsEnumerable",De,!0),h.f=function(pe){return se(d(pe))}),x(x.G+x.W+x.F*!G,{Symbol:_});for(var Ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ne=0;Ee.length>Ne;)d(Ee[Ne++]);for(var Re=g(d.store),Me=0;Re.length>Me;)o(Re[Me++]);x(x.S+x.F*!G,"Symbol",{for:function(pe){return c(q,pe+="")?q[pe]:q[pe]=_(pe)},keyFor:function(re){if(!te(re))throw TypeError(re+" is not a symbol!");for(var ae in q)if(q[ae]===re)return ae},useSetter:function(){$=!0},useSimple:function(){$=!1}}),x(x.S+x.F*!G,"Object",{create:ve,defineProperty:he,defineProperties:de,getOwnPropertyDescriptor:_e,getOwnPropertyNames:Ce,getOwnPropertySymbols:ye}),R&&x(x.S+x.F*(!G||y(function(){var pe=_();return I([pe])!="[null]"||I({a:pe})!="{}"||I(Object(pe))!="{}"})),"JSON",{stringify:function(re){if(!(re===void 0||te(re))){for(var ae=[re],ce=1,be,Te;arguments.length>ce;)ae.push(arguments[ce++]);return be=ae[1],typeof be=="function"&&(Te=be),(Te||!e(be))&&(be=function(ue,Le){if(Te&&(Le=Te.call(this,ue,Le)),!te(Le))return Le}),ae[1]=be,I.apply(R,ae)}}}),_[F][Y]||p(26)(_[F],Y,_[F].valueOf),m(_,"Symbol"),m(Math,"Math",!0),m(D.JSON,"JSON",!0)},function(L,k,p){var D=p(40)("meta"),c=p(32),b=p(22),x=p(20).f,C=0,E=Object.isExtensible||function(){return!0},y=!p(28)(function(){return E(Object.preventExtensions({}))}),S=function(o){x(o,D,{value:{i:"O"+ ++C,w:{}}})},m=function(o,f){if(!c(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!b(o,D)){if(!E(o))return"F";if(!f)return"E";S(o)}return o[D].i},v=function(o,f){if(!b(o,D)){if(!E(o))return!0;if(!f)return!1;S(o)}return o[D].w},d=function(o){return y&&h.NEED&&E(o)&&!b(o,D)&&S(o),o},h=L.exports={KEY:D,NEED:!1,fastKey:m,getWeak:v,onFreeze:d}},function(L,k,p){var D=p(33),c=p(63),b=p(42);L.exports=function(x){var C=D(x),E=c.f;if(E)for(var y=E(x),S=b.f,m=0,v;y.length>m;)S.call(x,v=y[m++])&&C.push(v);return C}},function(L,k,p){var D=p(50);L.exports=Array.isArray||function(b){return D(b)=="Array"}},function(L,k,p){var D=p(25),c=p(88).f,b={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],C=function(E){try{return c(E)}catch{return x.slice()}};L.exports.f=function(y){return x&&b.call(y)=="[object Window]"?C(y):c(D(y))}},function(L,k){},function(L,k,p){p(62)("asyncIterator")},function(L,k,p){p(62)("observable")},function(L,k,p){(function(D){var c;//! moment.js
//! version : 2.19.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(b,x){D.exports=x()})(this,function(){"use strict";var b;function x(){return b.apply(null,arguments)}function C(w){b=w}function E(w){return w instanceof Array||Object.prototype.toString.call(w)==="[object Array]"}function y(w){return w!=null&&Object.prototype.toString.call(w)==="[object Object]"}function S(w){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(w).length===0;var M;for(M in w)if(w.hasOwnProperty(M))return!1;return!0}function m(w){return w===void 0}function v(w){return typeof w=="number"||Object.prototype.toString.call(w)==="[object Number]"}function d(w){return w instanceof Date||Object.prototype.toString.call(w)==="[object Date]"}function h(w,M){var N=[],A;for(A=0;A<w.length;++A)N.push(M(w[A],A));return N}function o(w,M){return Object.prototype.hasOwnProperty.call(w,M)}function f(w,M){for(var N in M)o(M,N)&&(w[N]=M[N]);return o(M,"toString")&&(w.toString=M.toString),o(M,"valueOf")&&(w.valueOf=M.valueOf),w}function e(w,M,N,A){return Ki(w,M,N,A,!0).utc()}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function i(w){return w._pf==null&&(w._pf=r()),w._pf}var t;Array.prototype.some?t=Array.prototype.some:t=function(w){for(var M=Object(this),N=M.length>>>0,A=0;A<N;A++)if(A in M&&w.call(this,M[A],A,M))return!0;return!1};function a(w){if(w._isValid==null){var M=i(w),N=t.call(M.parsedDateParts,function(H){return H!=null}),A=!isNaN(w._d.getTime())&&M.overflow<0&&!M.empty&&!M.invalidMonth&&!M.invalidWeekday&&!M.weekdayMismatch&&!M.nullInput&&!M.invalidFormat&&!M.userInvalidated&&(!M.meridiem||M.meridiem&&N);if(w._strict&&(A=A&&M.charsLeftOver===0&&M.unusedTokens.length===0&&M.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(w))w._isValid=A;else return A}return w._isValid}function u(w){var M=e(NaN);return w!=null?f(i(M),w):i(M).userInvalidated=!0,M}var n=x.momentProperties=[];function s(w,M){var N,A,H;if(m(M._isAMomentObject)||(w._isAMomentObject=M._isAMomentObject),m(M._i)||(w._i=M._i),m(M._f)||(w._f=M._f),m(M._l)||(w._l=M._l),m(M._strict)||(w._strict=M._strict),m(M._tzm)||(w._tzm=M._tzm),m(M._isUTC)||(w._isUTC=M._isUTC),m(M._offset)||(w._offset=M._offset),m(M._pf)||(w._pf=i(M)),m(M._locale)||(w._locale=M._locale),n.length>0)for(N=0;N<n.length;N++)A=n[N],H=M[A],m(H)||(w[A]=H);return w}var l=!1;function g(w){s(this,w),this._d=new Date(w._d!=null?w._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),l===!1&&(l=!0,x.updateOffset(this),l=!1)}function T(w){return w instanceof g||w!=null&&w._isAMomentObject!=null}function O(w){return w<0?Math.ceil(w)||0:Math.floor(w)}function P(w){var M=+w,N=0;return M!==0&&isFinite(M)&&(N=O(M)),N}function _(w,M,N){var A=Math.min(w.length,M.length),H=Math.abs(w.length-M.length),K=0,ee;for(ee=0;ee<A;ee++)(N&&w[ee]!==M[ee]||!N&&P(w[ee])!==P(M[ee]))&&K++;return K+H}function R(w){x.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+w)}function I(w,M){var N=!0;return f(function(){if(x.deprecationHandler!=null&&x.deprecationHandler(null,w),N){for(var A=[],H,K=0;K<arguments.length;K++){if(H="",typeof arguments[K]=="object"){H+=`
[`+K+"] ";for(var ee in arguments[0])H+=ee+": "+arguments[0][ee]+", ";H=H.slice(0,-2)}else H=arguments[K];A.push(H)}R(w+`
Arguments: `+Array.prototype.slice.call(A).join("")+`
`+new Error().stack),N=!1}return M.apply(this,arguments)},M)}var F={};function W(w,M){x.deprecationHandler!=null&&x.deprecationHandler(w,M),F[w]||(R(M),F[w]=!0)}x.suppressDeprecationWarnings=!1,x.deprecationHandler=null;function Y(w){return w instanceof Function||Object.prototype.toString.call(w)==="[object Function]"}function X(w){var M,N;for(N in w)M=w[N],Y(M)?this[N]=M:this["_"+N]=M;this._config=w,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function q(w,M){var N=f({},w),A;for(A in M)o(M,A)&&(y(w[A])&&y(M[A])?(N[A]={},f(N[A],w[A]),f(N[A],M[A])):M[A]!=null?N[A]=M[A]:delete N[A]);for(A in w)o(w,A)&&!o(M,A)&&y(w[A])&&(N[A]=f({},N[A]));return N}function Q(w){w!=null&&this.set(w)}var J;Object.keys?J=Object.keys:J=function(w){var M,N=[];for(M in w)o(w,M)&&N.push(M);return N};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G(w,M,N){var A=this._calendar[w]||this._calendar.sameElse;return Y(A)?A.call(M,N):A}var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $(w){var M=this._longDateFormat[w],N=this._longDateFormat[w.toUpperCase()];return M||!N?M:(this._longDateFormat[w]=N.replace(/MMMM|MM|DD|dddd/g,function(A){return A.slice(1)}),this._longDateFormat[w])}var ne="Invalid date";function se(){return this._invalidDate}var te="%d",he=/\d{1,2}/;function de(w){return this._ordinal.replace("%d",w)}var ve={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function De(w,M,N,A){var H=this._relativeTime[N];return Y(H)?H(w,M,N,A):H.replace(/%d/i,w)}function _e(w,M){var N=this._relativeTime[w>0?"future":"past"];return Y(N)?N(M):N.replace(/%s/i,M)}var Ce={};function ye(w,M){var N=w.toLowerCase();Ce[N]=Ce[N+"s"]=Ce[M]=w}function Ee(w){return typeof w=="string"?Ce[w]||Ce[w.toLowerCase()]:void 0}function Ne(w){var M={},N,A;for(A in w)o(w,A)&&(N=Ee(A),N&&(M[N]=w[A]));return M}var Re={};function Me(w,M){Re[w]=M}function pe(w){var M=[];for(var N in w)M.push({unit:N,priority:Re[N]});return M.sort(function(A,H){return A.priority-H.priority}),M}function re(w,M,N){var A=""+Math.abs(w),H=M-A.length,K=w>=0;return(K?N?"+":"":"-")+Math.pow(10,Math.max(0,H)).toString().substr(1)+A}var ae=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ce=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,be={},Te={};function ue(w,M,N,A){var H=A;typeof A=="string"&&(H=function(){return this[A]()}),w&&(Te[w]=H),M&&(Te[M[0]]=function(){return re(H.apply(this,arguments),M[1],M[2])}),N&&(Te[N]=function(){return this.localeData().ordinal(H.apply(this,arguments),w)})}function Le(w){return w.match(/\[[\s\S]/)?w.replace(/^\[|\]$/g,""):w.replace(/\\/g,"")}function Dt(w){var M=w.match(ae),N,A;for(N=0,A=M.length;N<A;N++)Te[M[N]]?M[N]=Te[M[N]]:M[N]=Le(M[N]);return function(H){var K="",ee;for(ee=0;ee<A;ee++)K+=Y(M[ee])?M[ee].call(H,w):M[ee];return K}}function Mt(w,M){return w.isValid()?(M=Gt(M,w.localeData()),be[M]=be[M]||Dt(M),be[M](w)):w.localeData().invalidDate()}function Gt(w,M){var N=5;function A(H){return M.longDateFormat(H)||H}for(ce.lastIndex=0;N>=0&&ce.test(w);)w=w.replace(ce,A),ce.lastIndex=0,N-=1;return w}var Vt=/\d/,We=/\d\d/,Ot=/\d{3}/,Ut=/\d{4}/,kt=/[+-]?\d{6}/,Oe=/\d\d?/,ai=/\d\d\d\d?/,hi=/\d\d\d\d\d\d?/,ht=/\d{1,3}/,Xt=/\d{1,4}/,Pt=/[+-]?\d{1,6}/,di=/\d+/,wt=/[+-]?\d+/,jt=/Z|[+-]\d\d:?\d\d/gi,_t=/Z|[+-]\d\d(?::?\d\d)?/gi,yi=/[+-]?\d+(\.\d{1,3})?/,xt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Rt={};function fe(w,M,N){Rt[w]=Y(M)?M:function(A,H){return A&&N?N:M}}function bi(w,M){return o(Rt,w)?Rt[w](M._strict,M._locale):new RegExp(wi(w))}function wi(w){return Ke(w.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(M,N,A,H,K){return N||A||H||K}))}function Ke(w){return w.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Kt={};function ke(w,M){var N,A=M;for(typeof w=="string"&&(w=[w]),v(M)&&(A=function(H,K){K[M]=P(H)}),N=0;N<w.length;N++)Kt[w[N]]=A}function ft(w,M){ke(w,function(N,A,H,K){H._w=H._w||{},M(N,H._w,H,K)})}function Zt(w,M,N){M!=null&&o(Kt,w)&&Kt[w](M,N._a,N,w)}var Ue=0,Ze=1,$e=2,Ae=3,Ge=4,Qe=5,nt=6,$t=7,dt=8;ue("Y",0,0,function(){var w=this.year();return w<=9999?""+w:"+"+w}),ue(0,["YY",2],0,function(){return this.year()%100}),ue(0,["YYYY",4],0,"year"),ue(0,["YYYYY",5],0,"year"),ue(0,["YYYYYY",6,!0],0,"year"),ye("year","y"),Me("year",1),fe("Y",wt),fe("YY",Oe,We),fe("YYYY",Xt,Ut),fe("YYYYY",Pt,kt),fe("YYYYYY",Pt,kt),ke(["YYYYY","YYYYYY"],Ue),ke("YYYY",function(w,M){M[Ue]=w.length===2?x.parseTwoDigitYear(w):P(w)}),ke("YY",function(w,M){M[Ue]=x.parseTwoDigitYear(w)}),ke("Y",function(w,M){M[Ue]=parseInt(w,10)});function et(w){return st(w)?366:365}function st(w){return w%4===0&&w%100!==0||w%400===0}x.parseTwoDigitYear=function(w){return P(w)+(P(w)>68?1900:2e3)};var Ct=ct("FullYear",!0);function Qt(){return st(this.year())}function ct(w,M){return function(N){return N!=null?(St(this,w,N),x.updateOffset(this,M),this):Nt(this,w)}}function Nt(w,M){return w.isValid()?w._d["get"+(w._isUTC?"UTC":"")+M]():NaN}function St(w,M,N){w.isValid()&&!isNaN(N)&&(M==="FullYear"&&st(w.year())?w._d["set"+(w._isUTC?"UTC":"")+M](N,w.month(),ot(N,w.month())):w._d["set"+(w._isUTC?"UTC":"")+M](N))}function Ve(w){return w=Ee(w),Y(this[w])?this[w]():this}function vt(w,M){if(typeof w=="object"){w=Ne(w);for(var N=pe(w),A=0;A<N.length;A++)this[N[A].unit](w[N[A].unit])}else if(w=Ee(w),Y(this[w]))return this[w](M);return this}function rt(w,M){return(w%M+M)%M}var Se;Array.prototype.indexOf?Se=Array.prototype.indexOf:Se=function(w){var M;for(M=0;M<this.length;++M)if(this[M]===w)return M;return-1};function ot(w,M){if(isNaN(w)||isNaN(M))return NaN;var N=rt(M,12);return w+=(M-N)/12,N===1?st(w)?29:28:31-N%7%2}ue("M",["MM",2],"Mo",function(){return this.month()+1}),ue("MMM",0,0,function(w){return this.localeData().monthsShort(this,w)}),ue("MMMM",0,0,function(w){return this.localeData().months(this,w)}),ye("month","M"),Me("month",8),fe("M",Oe),fe("MM",Oe,We),fe("MMM",function(w,M){return M.monthsShortRegex(w)}),fe("MMMM",function(w,M){return M.monthsRegex(w)}),ke(["M","MM"],function(w,M){M[Ze]=P(w)-1}),ke(["MMM","MMMM"],function(w,M,N,A){var H=N._locale.monthsParse(w,A,N._strict);H!=null?M[Ze]=H:i(N).invalidMonth=w});var Xe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function li(w,M){return w?E(this._months)?this._months[w.month()]:this._months[(this._months.isFormat||Xe).test(M)?"format":"standalone"][w.month()]:E(this._months)?this._months:this._months.standalone}var Jt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function It(w,M){return w?E(this._monthsShort)?this._monthsShort[w.month()]:this._monthsShort[Xe.test(M)?"format":"standalone"][w.month()]:E(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function je(w,M,N){var A,H,K,ee=w.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],A=0;A<12;++A)K=e([2e3,A]),this._shortMonthsParse[A]=this.monthsShort(K,"").toLocaleLowerCase(),this._longMonthsParse[A]=this.months(K,"").toLocaleLowerCase();return N?M==="MMM"?(H=Se.call(this._shortMonthsParse,ee),H!==-1?H:null):(H=Se.call(this._longMonthsParse,ee),H!==-1?H:null):M==="MMM"?(H=Se.call(this._shortMonthsParse,ee),H!==-1?H:(H=Se.call(this._longMonthsParse,ee),H!==-1?H:null)):(H=Se.call(this._longMonthsParse,ee),H!==-1?H:(H=Se.call(this._shortMonthsParse,ee),H!==-1?H:null))}function At(w,M,N){var A,H,K;if(this._monthsParseExact)return je.call(this,w,M,N);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),A=0;A<12;A++){if(H=e([2e3,A]),N&&!this._longMonthsParse[A]&&(this._longMonthsParse[A]=new RegExp("^"+this.months(H,"").replace(".","")+"$","i"),this._shortMonthsParse[A]=new RegExp("^"+this.monthsShort(H,"").replace(".","")+"$","i")),!N&&!this._monthsParse[A]&&(K="^"+this.months(H,"")+"|^"+this.monthsShort(H,""),this._monthsParse[A]=new RegExp(K.replace(".",""),"i")),N&&M==="MMMM"&&this._longMonthsParse[A].test(w))return A;if(N&&M==="MMM"&&this._shortMonthsParse[A].test(w))return A;if(!N&&this._monthsParse[A].test(w))return A}}function Lt(w,M){var N;if(!w.isValid())return w;if(typeof M=="string"){if(/^\d+$/.test(M))M=P(M);else if(M=w.localeData().monthsParse(M),!v(M))return w}return N=Math.min(w.date(),ot(w.year(),M)),w._d["set"+(w._isUTC?"UTC":"")+"Month"](M,N),w}function zt(w){return w!=null?(Lt(this,w),x.updateOffset(this,!0),this):Nt(this,"Month")}function qt(){return ot(this.year(),this.month())}var ei=xt;function Ft(w){return this._monthsParseExact?(o(this,"_monthsRegex")||ti.call(this),w?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=ei),this._monthsShortStrictRegex&&w?this._monthsShortStrictRegex:this._monthsShortRegex)}var lt=xt;function xi(w){return this._monthsParseExact?(o(this,"_monthsRegex")||ti.call(this),w?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=lt),this._monthsStrictRegex&&w?this._monthsStrictRegex:this._monthsRegex)}function ti(){function w(ee,me){return me.length-ee.length}var M=[],N=[],A=[],H,K;for(H=0;H<12;H++)K=e([2e3,H]),M.push(this.monthsShort(K,"")),N.push(this.months(K,"")),A.push(this.months(K,"")),A.push(this.monthsShort(K,""));for(M.sort(w),N.sort(w),A.sort(w),H=0;H<12;H++)M[H]=Ke(M[H]),N[H]=Ke(N[H]);for(H=0;H<24;H++)A[H]=Ke(A[H]);this._monthsRegex=new RegExp("^("+A.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+N.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+M.join("|")+")","i")}function ii(w,M,N,A,H,K,ee){var me=new Date(w,M,N,A,H,K,ee);return w<100&&w>=0&&isFinite(me.getFullYear())&&me.setFullYear(w),me}function pt(w){var M=new Date(Date.UTC.apply(null,arguments));return w<100&&w>=0&&isFinite(M.getUTCFullYear())&&M.setUTCFullYear(w),M}function Bt(w,M,N){var A=7+M-N,H=(7+pt(w,0,A).getUTCDay()-M)%7;return-H+A-1}function ui(w,M,N,A,H){var K=(7+N-A)%7,ee=Bt(w,A,H),me=1+7*(M-1)+K+ee,xe,Be;return me<=0?(xe=w-1,Be=et(xe)+me):me>et(w)?(xe=w+1,Be=me-et(w)):(xe=w,Be=me),{year:xe,dayOfYear:Be}}function z(w,M,N){var A=Bt(w.year(),M,N),H=Math.floor((w.dayOfYear()-A-1)/7)+1,K,ee;return H<1?(ee=w.year()-1,K=H+B(ee,M,N)):H>B(w.year(),M,N)?(K=H-B(w.year(),M,N),ee=w.year()+1):(ee=w.year(),K=H),{week:K,year:ee}}function B(w,M,N){var A=Bt(w,M,N),H=Bt(w+1,M,N);return(et(w)-A+H)/7}ue("w",["ww",2],"wo","week"),ue("W",["WW",2],"Wo","isoWeek"),ye("week","w"),ye("isoWeek","W"),Me("week",5),Me("isoWeek",5),fe("w",Oe),fe("ww",Oe,We),fe("W",Oe),fe("WW",Oe,We),ft(["w","ww","W","WW"],function(w,M,N,A){M[A.substr(0,1)]=P(w)});function V(w){return z(w,this._week.dow,this._week.doy).week}var Z={dow:0,doy:6};function ie(){return this._week.dow}function le(){return this._week.doy}function ge(w){var M=this.localeData().week(this);return w==null?M:this.add((w-M)*7,"d")}function Fe(w){var M=z(this,1,4).week;return w==null?M:this.add((w-M)*7,"d")}ue("d",0,"do","day"),ue("dd",0,0,function(w){return this.localeData().weekdaysMin(this,w)}),ue("ddd",0,0,function(w){return this.localeData().weekdaysShort(this,w)}),ue("dddd",0,0,function(w){return this.localeData().weekdays(this,w)}),ue("e",0,0,"weekday"),ue("E",0,0,"isoWeekday"),ye("day","d"),ye("weekday","e"),ye("isoWeekday","E"),Me("day",11),Me("weekday",11),Me("isoWeekday",11),fe("d",Oe),fe("e",Oe),fe("E",Oe),fe("dd",function(w,M){return M.weekdaysMinRegex(w)}),fe("ddd",function(w,M){return M.weekdaysShortRegex(w)}),fe("dddd",function(w,M){return M.weekdaysRegex(w)}),ft(["dd","ddd","dddd"],function(w,M,N,A){var H=N._locale.weekdaysParse(w,A,N._strict);H!=null?M.d=H:i(N).invalidWeekday=w}),ft(["d","e","E"],function(w,M,N,A){M[A]=P(w)});function He(w,M){return typeof w!="string"?w:isNaN(w)?(w=M.weekdaysParse(w),typeof w=="number"?w:null):parseInt(w,10)}function Ye(w,M){return typeof w=="string"?M.weekdaysParse(w)%7||7:isNaN(w)?null:w}var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function cn(w,M){return w?E(this._weekdays)?this._weekdays[w.day()]:this._weekdays[this._weekdays.isFormat.test(M)?"format":"standalone"][w.day()]:E(this._weekdays)?this._weekdays:this._weekdays.standalone}var Bi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function vn(w){return w?this._weekdaysShort[w.day()]:this._weekdaysShort}var pn="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function mn(w){return w?this._weekdaysMin[w.day()]:this._weekdaysMin}function gn(w,M,N){var A,H,K,ee=w.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],A=0;A<7;++A)K=e([2e3,1]).day(A),this._minWeekdaysParse[A]=this.weekdaysMin(K,"").toLocaleLowerCase(),this._shortWeekdaysParse[A]=this.weekdaysShort(K,"").toLocaleLowerCase(),this._weekdaysParse[A]=this.weekdays(K,"").toLocaleLowerCase();return N?M==="dddd"?(H=Se.call(this._weekdaysParse,ee),H!==-1?H:null):M==="ddd"?(H=Se.call(this._shortWeekdaysParse,ee),H!==-1?H:null):(H=Se.call(this._minWeekdaysParse,ee),H!==-1?H:null):M==="dddd"?(H=Se.call(this._weekdaysParse,ee),H!==-1||(H=Se.call(this._shortWeekdaysParse,ee),H!==-1)?H:(H=Se.call(this._minWeekdaysParse,ee),H!==-1?H:null)):M==="ddd"?(H=Se.call(this._shortWeekdaysParse,ee),H!==-1||(H=Se.call(this._weekdaysParse,ee),H!==-1)?H:(H=Se.call(this._minWeekdaysParse,ee),H!==-1?H:null)):(H=Se.call(this._minWeekdaysParse,ee),H!==-1||(H=Se.call(this._weekdaysParse,ee),H!==-1)?H:(H=Se.call(this._shortWeekdaysParse,ee),H!==-1?H:null))}function yn(w,M,N){var A,H,K;if(this._weekdaysParseExact)return gn.call(this,w,M,N);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),A=0;A<7;A++){if(H=e([2e3,1]).day(A),N&&!this._fullWeekdaysParse[A]&&(this._fullWeekdaysParse[A]=new RegExp("^"+this.weekdays(H,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[A]=new RegExp("^"+this.weekdaysShort(H,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[A]=new RegExp("^"+this.weekdaysMin(H,"").replace(".",".?")+"$","i")),this._weekdaysParse[A]||(K="^"+this.weekdays(H,"")+"|^"+this.weekdaysShort(H,"")+"|^"+this.weekdaysMin(H,""),this._weekdaysParse[A]=new RegExp(K.replace(".",""),"i")),N&&M==="dddd"&&this._fullWeekdaysParse[A].test(w))return A;if(N&&M==="ddd"&&this._shortWeekdaysParse[A].test(w))return A;if(N&&M==="dd"&&this._minWeekdaysParse[A].test(w))return A;if(!N&&this._weekdaysParse[A].test(w))return A}}function bn(w){if(!this.isValid())return w!=null?this:NaN;var M=this._isUTC?this._d.getUTCDay():this._d.getDay();return w!=null?(w=He(w,this.localeData()),this.add(w-M,"d")):M}function wn(w){if(!this.isValid())return w!=null?this:NaN;var M=(this.day()+7-this.localeData()._week.dow)%7;return w==null?M:this.add(w-M,"d")}function xn(w){if(!this.isValid())return w!=null?this:NaN;if(w!=null){var M=Ye(w,this.localeData());return this.day(this.day()%7?M:M-7)}else return this.day()||7}var Cn=xt;function Sn(w){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ci.call(this),w?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Cn),this._weekdaysStrictRegex&&w?this._weekdaysStrictRegex:this._weekdaysRegex)}var En=xt;function Tn(w){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ci.call(this),w?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=En),this._weekdaysShortStrictRegex&&w?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Dn=xt;function Mn(w){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ci.call(this),w?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Dn),this._weekdaysMinStrictRegex&&w?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ci(){function w(qe,ri){return ri.length-qe.length}var M=[],N=[],A=[],H=[],K,ee,me,xe,Be;for(K=0;K<7;K++)ee=e([2e3,1]).day(K),me=this.weekdaysMin(ee,""),xe=this.weekdaysShort(ee,""),Be=this.weekdays(ee,""),M.push(me),N.push(xe),A.push(Be),H.push(me),H.push(xe),H.push(Be);for(M.sort(w),N.sort(w),A.sort(w),H.sort(w),K=0;K<7;K++)N[K]=Ke(N[K]),A[K]=Ke(A[K]),H[K]=Ke(H[K]);this._weekdaysRegex=new RegExp("^("+H.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+N.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+M.join("|")+")","i")}function Si(){return this.hours()%12||12}function On(){return this.hours()||24}ue("H",["HH",2],0,"hour"),ue("h",["hh",2],0,Si),ue("k",["kk",2],0,On),ue("hmm",0,0,function(){return""+Si.apply(this)+re(this.minutes(),2)}),ue("hmmss",0,0,function(){return""+Si.apply(this)+re(this.minutes(),2)+re(this.seconds(),2)}),ue("Hmm",0,0,function(){return""+this.hours()+re(this.minutes(),2)}),ue("Hmmss",0,0,function(){return""+this.hours()+re(this.minutes(),2)+re(this.seconds(),2)});function Hi(w,M){ue(w,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),M)})}Hi("a",!0),Hi("A",!1),ye("hour","h"),Me("hour",13);function Wi(w,M){return M._meridiemParse}fe("a",Wi),fe("A",Wi),fe("H",Oe),fe("h",Oe),fe("k",Oe),fe("HH",Oe,We),fe("hh",Oe,We),fe("kk",Oe,We),fe("hmm",ai),fe("hmmss",hi),fe("Hmm",ai),fe("Hmmss",hi),ke(["H","HH"],Ae),ke(["k","kk"],function(w,M,N){var A=P(w);M[Ae]=A===24?0:A}),ke(["a","A"],function(w,M,N){N._isPm=N._locale.isPM(w),N._meridiem=w}),ke(["h","hh"],function(w,M,N){M[Ae]=P(w),i(N).bigHour=!0}),ke("hmm",function(w,M,N){var A=w.length-2;M[Ae]=P(w.substr(0,A)),M[Ge]=P(w.substr(A)),i(N).bigHour=!0}),ke("hmmss",function(w,M,N){var A=w.length-4,H=w.length-2;M[Ae]=P(w.substr(0,A)),M[Ge]=P(w.substr(A,2)),M[Qe]=P(w.substr(H)),i(N).bigHour=!0}),ke("Hmm",function(w,M,N){var A=w.length-2;M[Ae]=P(w.substr(0,A)),M[Ge]=P(w.substr(A))}),ke("Hmmss",function(w,M,N){var A=w.length-4,H=w.length-2;M[Ae]=P(w.substr(0,A)),M[Ge]=P(w.substr(A,2)),M[Qe]=P(w.substr(H))});function kn(w){return(w+"").toLowerCase().charAt(0)==="p"}var Pn=/[ap]\.?m?\.?/i;function _n(w,M,N){return w>11?N?"pm":"PM":N?"am":"AM"}var Rn=ct("Hours",!0),Yi={calendar:j,longDateFormat:U,invalidDate:ne,ordinal:te,dayOfMonthOrdinalParse:he,relativeTime:ve,months:tt,monthsShort:Jt,week:Z,weekdays:Je,weekdaysMin:pn,weekdaysShort:Bi,meridiemParse:Pn},ze={},ni={},fi;function Gi(w){return w&&w.toLowerCase().replace("_","-")}function Nn(w){for(var M=0,N,A,H,K;M<w.length;){for(K=Gi(w[M]).split("-"),N=K.length,A=Gi(w[M+1]),A=A?A.split("-"):null;N>0;){if(H=Vi(K.slice(0,N).join("-")),H)return H;if(A&&A.length>=N&&_(K,A,!0)>=N-1)break;N--}M++}return null}function Vi(w){var M=null;if(!ze[w]&&typeof D<"u"&&D&&D.exports)try{M=fi._abbr;var N=c;(function(){var H=new Error('Cannot find module "./locale"');throw H.code="MODULE_NOT_FOUND",H})(),Ht(M)}catch{}return ze[w]}function Ht(w,M){var N;return w&&(m(M)?N=mt(w):N=Ei(w,M),N&&(fi=N)),fi._abbr}function Ei(w,M){if(M!==null){var N=Yi;if(M.abbr=w,ze[w]!=null)W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),N=ze[w]._config;else if(M.parentLocale!=null)if(ze[M.parentLocale]!=null)N=ze[M.parentLocale]._config;else return ni[M.parentLocale]||(ni[M.parentLocale]=[]),ni[M.parentLocale].push({name:w,config:M}),null;return ze[w]=new Q(q(N,M)),ni[w]&&ni[w].forEach(function(A){Ei(A.name,A.config)}),Ht(w),ze[w]}else return delete ze[w],null}function In(w,M){if(M!=null){var N,A=Yi;ze[w]!=null&&(A=ze[w]._config),M=q(A,M),N=new Q(M),N.parentLocale=ze[w],ze[w]=N,Ht(w)}else ze[w]!=null&&(ze[w].parentLocale!=null?ze[w]=ze[w].parentLocale:ze[w]!=null&&delete ze[w]);return ze[w]}function mt(w){var M;if(w&&w._locale&&w._locale._abbr&&(w=w._locale._abbr),!w)return fi;if(!E(w)){if(M=Vi(w),M)return M;w=[w]}return Nn(w)}function An(){return J(ze)}function Ti(w){var M,N=w._a;return N&&i(w).overflow===-2&&(M=N[Ze]<0||N[Ze]>11?Ze:N[$e]<1||N[$e]>ot(N[Ue],N[Ze])?$e:N[Ae]<0||N[Ae]>24||N[Ae]===24&&(N[Ge]!==0||N[Qe]!==0||N[nt]!==0)?Ae:N[Ge]<0||N[Ge]>59?Ge:N[Qe]<0||N[Qe]>59?Qe:N[nt]<0||N[nt]>999?nt:-1,i(w)._overflowDayOfYear&&(M<Ue||M>$e)&&(M=$e),i(w)._overflowWeeks&&M===-1&&(M=$t),i(w)._overflowWeekday&&M===-1&&(M=dt),i(w).overflow=M),w}function Wt(w,M,N){return w??M??N}function Ln(w){var M=new Date(x.now());return w._useUTC?[M.getUTCFullYear(),M.getUTCMonth(),M.getUTCDate()]:[M.getFullYear(),M.getMonth(),M.getDate()]}function Di(w){var M,N,A=[],H,K;if(!w._d){for(H=Ln(w),w._w&&w._a[$e]==null&&w._a[Ze]==null&&zn(w),w._dayOfYear!=null&&(K=Wt(w._a[Ue],H[Ue]),(w._dayOfYear>et(K)||w._dayOfYear===0)&&(i(w)._overflowDayOfYear=!0),N=pt(K,0,w._dayOfYear),w._a[Ze]=N.getUTCMonth(),w._a[$e]=N.getUTCDate()),M=0;M<3&&w._a[M]==null;++M)w._a[M]=A[M]=H[M];for(;M<7;M++)w._a[M]=A[M]=w._a[M]==null?M===2?1:0:w._a[M];w._a[Ae]===24&&w._a[Ge]===0&&w._a[Qe]===0&&w._a[nt]===0&&(w._nextDay=!0,w._a[Ae]=0),w._d=(w._useUTC?pt:ii).apply(null,A),w._tzm!=null&&w._d.setUTCMinutes(w._d.getUTCMinutes()-w._tzm),w._nextDay&&(w._a[Ae]=24),w._w&&typeof w._w.d<"u"&&w._w.d!==w._d.getDay()&&(i(w).weekdayMismatch=!0)}}function zn(w){var M,N,A,H,K,ee,me,xe;if(M=w._w,M.GG!=null||M.W!=null||M.E!=null)K=1,ee=4,N=Wt(M.GG,w._a[Ue],z(Ie(),1,4).year),A=Wt(M.W,1),H=Wt(M.E,1),(H<1||H>7)&&(xe=!0);else{K=w._locale._week.dow,ee=w._locale._week.doy;var Be=z(Ie(),K,ee);N=Wt(M.gg,w._a[Ue],Be.year),A=Wt(M.w,Be.week),M.d!=null?(H=M.d,(H<0||H>6)&&(xe=!0)):M.e!=null?(H=M.e+K,(M.e<0||M.e>6)&&(xe=!0)):H=K}A<1||A>B(N,K,ee)?i(w)._overflowWeeks=!0:xe!=null?i(w)._overflowWeekday=!0:(me=ui(N,A,H,K,ee),w._a[Ue]=me.year,w._dayOfYear=me.dayOfYear)}var Fn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hn=/Z|[+-]\d\d(?::?\d\d)?/,ci=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wn=/^\/?Date\((\-?\d+)/i;function Ui(w){var M,N,A=w._i,H=Fn.exec(A)||Bn.exec(A),K,ee,me,xe;if(H){for(i(w).iso=!0,M=0,N=ci.length;M<N;M++)if(ci[M][1].exec(H[1])){ee=ci[M][0],K=ci[M][2]!==!1;break}if(ee==null){w._isValid=!1;return}if(H[3]){for(M=0,N=Mi.length;M<N;M++)if(Mi[M][1].exec(H[3])){me=(H[2]||" ")+Mi[M][0];break}if(me==null){w._isValid=!1;return}}if(!K&&me!=null){w._isValid=!1;return}if(H[4])if(Hn.exec(H[4]))xe="Z";else{w._isValid=!1;return}w._f=ee+(me||"")+(xe||""),Oi(w)}else w._isValid=!1}var Yn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Gn(w,M,N,A,H,K){var ee=[Vn(w),Jt.indexOf(M),parseInt(N,10),parseInt(A,10),parseInt(H,10)];return K&&ee.push(parseInt(K,10)),ee}function Vn(w){var M=parseInt(w,10);return M<=49?2e3+M:M<=999?1900+M:M}function Un(w){return w.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Xn(w,M,N){if(w){var A=Bi.indexOf(w),H=new Date(M[0],M[1],M[2]).getDay();if(A!==H)return i(N).weekdayMismatch=!0,N._isValid=!1,!1}return!0}var jn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Kn(w,M,N){if(w)return jn[w];if(M)return 0;var A=parseInt(N,10),H=A%100,K=(A-H)/100;return K*60+H}function Xi(w){var M=Yn.exec(Un(w._i));if(M){var N=Gn(M[4],M[3],M[2],M[5],M[6],M[7]);if(!Xn(M[1],N,w))return;w._a=N,w._tzm=Kn(M[8],M[9],M[10]),w._d=pt.apply(null,w._a),w._d.setUTCMinutes(w._d.getUTCMinutes()-w._tzm),i(w).rfc2822=!0}else w._isValid=!1}function Zn(w){var M=Wn.exec(w._i);if(M!==null){w._d=new Date(+M[1]);return}if(Ui(w),w._isValid===!1)delete w._isValid;else return;if(Xi(w),w._isValid===!1)delete w._isValid;else return;x.createFromInputFallback(w)}x.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(w){w._d=new Date(w._i+(w._useUTC?" UTC":""))}),x.ISO_8601=function(){},x.RFC_2822=function(){};function Oi(w){if(w._f===x.ISO_8601){Ui(w);return}if(w._f===x.RFC_2822){Xi(w);return}w._a=[],i(w).empty=!0;var M=""+w._i,N,A,H,K,ee,me=M.length,xe=0;for(H=Gt(w._f,w._locale).match(ae)||[],N=0;N<H.length;N++)K=H[N],A=(M.match(bi(K,w))||[])[0],A&&(ee=M.substr(0,M.indexOf(A)),ee.length>0&&i(w).unusedInput.push(ee),M=M.slice(M.indexOf(A)+A.length),xe+=A.length),Te[K]?(A?i(w).empty=!1:i(w).unusedTokens.push(K),Zt(K,A,w)):w._strict&&!A&&i(w).unusedTokens.push(K);i(w).charsLeftOver=me-xe,M.length>0&&i(w).unusedInput.push(M),w._a[Ae]<=12&&i(w).bigHour===!0&&w._a[Ae]>0&&(i(w).bigHour=void 0),i(w).parsedDateParts=w._a.slice(0),i(w).meridiem=w._meridiem,w._a[Ae]=$n(w._locale,w._a[Ae],w._meridiem),Di(w),Ti(w)}function $n(w,M,N){var A;return N==null?M:w.meridiemHour!=null?w.meridiemHour(M,N):(w.isPM!=null&&(A=w.isPM(N),A&&M<12&&(M+=12),!A&&M===12&&(M=0)),M)}function Qn(w){var M,N,A,H,K;if(w._f.length===0){i(w).invalidFormat=!0,w._d=new Date(NaN);return}for(H=0;H<w._f.length;H++)K=0,M=s({},w),w._useUTC!=null&&(M._useUTC=w._useUTC),M._f=w._f[H],Oi(M),a(M)&&(K+=i(M).charsLeftOver,K+=i(M).unusedTokens.length*10,i(M).score=K,(A==null||K<A)&&(A=K,N=M));f(w,N||M)}function Jn(w){if(!w._d){var M=Ne(w._i);w._a=h([M.year,M.month,M.day||M.date,M.hour,M.minute,M.second,M.millisecond],function(N){return N&&parseInt(N,10)}),Di(w)}}function qn(w){var M=new g(Ti(ji(w)));return M._nextDay&&(M.add(1,"d"),M._nextDay=void 0),M}function ji(w){var M=w._i,N=w._f;return w._locale=w._locale||mt(w._l),M===null||N===void 0&&M===""?u({nullInput:!0}):(typeof M=="string"&&(w._i=M=w._locale.preparse(M)),T(M)?new g(Ti(M)):(d(M)?w._d=M:E(N)?Qn(w):N?Oi(w):es(w),a(w)||(w._d=null),w))}function es(w){var M=w._i;m(M)?w._d=new Date(x.now()):d(M)?w._d=new Date(M.valueOf()):typeof M=="string"?Zn(w):E(M)?(w._a=h(M.slice(0),function(N){return parseInt(N,10)}),Di(w)):y(M)?Jn(w):v(M)?w._d=new Date(M):x.createFromInputFallback(w)}function Ki(w,M,N,A,H){var K={};return(N===!0||N===!1)&&(A=N,N=void 0),(y(w)&&S(w)||E(w)&&w.length===0)&&(w=void 0),K._isAMomentObject=!0,K._useUTC=K._isUTC=H,K._l=N,K._i=w,K._f=M,K._strict=A,qn(K)}function Ie(w,M,N,A){return Ki(w,M,N,A,!1)}var ts=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var w=Ie.apply(null,arguments);return this.isValid()&&w.isValid()?w<this?this:w:u()}),is=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var w=Ie.apply(null,arguments);return this.isValid()&&w.isValid()?w>this?this:w:u()});function Zi(w,M){var N,A;if(M.length===1&&E(M[0])&&(M=M[0]),!M.length)return Ie();for(N=M[0],A=1;A<M.length;++A)(!M[A].isValid()||M[A][w](N))&&(N=M[A]);return N}function ns(){var w=[].slice.call(arguments,0);return Zi("isBefore",w)}function ss(){var w=[].slice.call(arguments,0);return Zi("isAfter",w)}var rs=function(){return Date.now?Date.now():+new Date},si=["year","quarter","month","week","day","hour","minute","second","millisecond"];function os(w){for(var M in w)if(!(Se.call(si,M)!==-1&&(w[M]==null||!isNaN(w[M]))))return!1;for(var N=!1,A=0;A<si.length;++A)if(w[si[A]]){if(N)return!1;parseFloat(w[si[A]])!==P(w[si[A]])&&(N=!0)}return!0}function as(){return this._isValid}function hs(){return it(NaN)}function vi(w){var M=Ne(w),N=M.year||0,A=M.quarter||0,H=M.month||0,K=M.week||0,ee=M.day||0,me=M.hour||0,xe=M.minute||0,Be=M.second||0,qe=M.millisecond||0;this._isValid=os(M),this._milliseconds=+qe+Be*1e3+xe*6e4+me*1e3*60*60,this._days=+ee+K*7,this._months=+H+A*3+N*12,this._data={},this._locale=mt(),this._bubble()}function ki(w){return w instanceof vi}function Pi(w){return w<0?Math.round(-1*w)*-1:Math.round(w)}function $i(w,M){ue(w,0,0,function(){var N=this.utcOffset(),A="+";return N<0&&(N=-N,A="-"),A+re(~~(N/60),2)+M+re(~~N%60,2)})}$i("Z",":"),$i("ZZ",""),fe("Z",_t),fe("ZZ",_t),ke(["Z","ZZ"],function(w,M,N){N._useUTC=!0,N._tzm=_i(_t,w)});var ds=/([\+\-]|\d\d)/gi;function _i(w,M){var N=(M||"").match(w);if(N===null)return null;var A=N[N.length-1]||[],H=(A+"").match(ds)||["-",0,0],K=+(H[1]*60)+P(H[2]);return K===0?0:H[0]==="+"?K:-K}function Ri(w,M){var N,A;return M._isUTC?(N=M.clone(),A=(T(w)||d(w)?w.valueOf():Ie(w).valueOf())-N.valueOf(),N._d.setTime(N._d.valueOf()+A),x.updateOffset(N,!1),N):Ie(w).local()}function Ni(w){return-Math.round(w._d.getTimezoneOffset()/15)*15}x.updateOffset=function(){};function ls(w,M,N){var A=this._offset||0,H;if(!this.isValid())return w!=null?this:NaN;if(w!=null){if(typeof w=="string"){if(w=_i(_t,w),w===null)return this}else Math.abs(w)<16&&!N&&(w=w*60);return!this._isUTC&&M&&(H=Ni(this)),this._offset=w,this._isUTC=!0,H!=null&&this.add(H,"m"),A!==w&&(!M||this._changeInProgress?en(this,it(w-A,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,x.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?A:Ni(this)}function us(w,M){return w!=null?(typeof w!="string"&&(w=-w),this.utcOffset(w,M),this):-this.utcOffset()}function fs(w){return this.utcOffset(0,w)}function cs(w){return this._isUTC&&(this.utcOffset(0,w),this._isUTC=!1,w&&this.subtract(Ni(this),"m")),this}function vs(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var w=_i(jt,this._i);w!=null?this.utcOffset(w):this.utcOffset(0,!0)}return this}function ps(w){return this.isValid()?(w=w?Ie(w).utcOffset():0,(this.utcOffset()-w)%60===0):!1}function ms(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function gs(){if(!m(this._isDSTShifted))return this._isDSTShifted;var w={};if(s(w,this),w=ji(w),w._a){var M=w._isUTC?e(w._a):Ie(w._a);this._isDSTShifted=this.isValid()&&_(w._a,M.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ys(){return this.isValid()?!this._isUTC:!1}function bs(){return this.isValid()?this._isUTC:!1}function Qi(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ws=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,xs=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function it(w,M){var N=w,A=null,H,K,ee;return ki(w)?N={ms:w._milliseconds,d:w._days,M:w._months}:v(w)?(N={},M?N[M]=w:N.milliseconds=w):(A=ws.exec(w))?(H=A[1]==="-"?-1:1,N={y:0,d:P(A[$e])*H,h:P(A[Ae])*H,m:P(A[Ge])*H,s:P(A[Qe])*H,ms:P(Pi(A[nt]*1e3))*H}):(A=xs.exec(w))?(H=A[1]==="-"?-1:(A[1]==="+",1),N={y:Et(A[2],H),M:Et(A[3],H),w:Et(A[4],H),d:Et(A[5],H),h:Et(A[6],H),m:Et(A[7],H),s:Et(A[8],H)}):N==null?N={}:typeof N=="object"&&("from"in N||"to"in N)&&(ee=Cs(Ie(N.from),Ie(N.to)),N={},N.ms=ee.milliseconds,N.M=ee.months),K=new vi(N),ki(w)&&o(w,"_locale")&&(K._locale=w._locale),K}it.fn=vi.prototype,it.invalid=hs;function Et(w,M){var N=w&&parseFloat(w.replace(",","."));return(isNaN(N)?0:N)*M}function Ji(w,M){var N={milliseconds:0,months:0};return N.months=M.month()-w.month()+(M.year()-w.year())*12,w.clone().add(N.months,"M").isAfter(M)&&--N.months,N.milliseconds=+M-+w.clone().add(N.months,"M"),N}function Cs(w,M){var N;return w.isValid()&&M.isValid()?(M=Ri(M,w),w.isBefore(M)?N=Ji(w,M):(N=Ji(M,w),N.milliseconds=-N.milliseconds,N.months=-N.months),N):{milliseconds:0,months:0}}function qi(w,M){return function(N,A){var H,K;return A!==null&&!isNaN(+A)&&(W(M,"moment()."+M+"(period, number) is deprecated. Please use moment()."+M+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),K=N,N=A,A=K),N=typeof N=="string"?+N:N,H=it(N,A),en(this,H,w),this}}function en(w,M,N,A){var H=M._milliseconds,K=Pi(M._days),ee=Pi(M._months);w.isValid()&&(A=A??!0,ee&&Lt(w,Nt(w,"Month")+ee*N),K&&St(w,"Date",Nt(w,"Date")+K*N),H&&w._d.setTime(w._d.valueOf()+H*N),A&&x.updateOffset(w,K||ee))}var Ss=qi(1,"add"),Es=qi(-1,"subtract");function Ts(w,M){var N=w.diff(M,"days",!0);return N<-6?"sameElse":N<-1?"lastWeek":N<0?"lastDay":N<1?"sameDay":N<2?"nextDay":N<7?"nextWeek":"sameElse"}function Ds(w,M){var N=w||Ie(),A=Ri(N,this).startOf("day"),H=x.calendarFormat(this,A)||"sameElse",K=M&&(Y(M[H])?M[H].call(this,N):M[H]);return this.format(K||this.localeData().calendar(H,this,Ie(N)))}function Ms(){return new g(this)}function Os(w,M){var N=T(w)?w:Ie(w);return this.isValid()&&N.isValid()?(M=Ee(m(M)?"millisecond":M),M==="millisecond"?this.valueOf()>N.valueOf():N.valueOf()<this.clone().startOf(M).valueOf()):!1}function ks(w,M){var N=T(w)?w:Ie(w);return this.isValid()&&N.isValid()?(M=Ee(m(M)?"millisecond":M),M==="millisecond"?this.valueOf()<N.valueOf():this.clone().endOf(M).valueOf()<N.valueOf()):!1}function Ps(w,M,N,A){return A=A||"()",(A[0]==="("?this.isAfter(w,N):!this.isBefore(w,N))&&(A[1]===")"?this.isBefore(M,N):!this.isAfter(M,N))}function _s(w,M){var N=T(w)?w:Ie(w),A;return this.isValid()&&N.isValid()?(M=Ee(M||"millisecond"),M==="millisecond"?this.valueOf()===N.valueOf():(A=N.valueOf(),this.clone().startOf(M).valueOf()<=A&&A<=this.clone().endOf(M).valueOf())):!1}function Rs(w,M){return this.isSame(w,M)||this.isAfter(w,M)}function Ns(w,M){return this.isSame(w,M)||this.isBefore(w,M)}function Is(w,M,N){var A,H,K,ee;if(!this.isValid())return NaN;if(A=Ri(w,this),!A.isValid())return NaN;switch(H=(A.utcOffset()-this.utcOffset())*6e4,M=Ee(M),M){case"year":ee=Ii(this,A)/12;break;case"month":ee=Ii(this,A);break;case"quarter":ee=Ii(this,A)/3;break;case"second":ee=(this-A)/1e3;break;case"minute":ee=(this-A)/6e4;break;case"hour":ee=(this-A)/36e5;break;case"day":ee=(this-A-H)/864e5;break;case"week":ee=(this-A-H)/6048e5;break;default:ee=this-A}return N?ee:O(ee)}function Ii(w,M){var N=(M.year()-w.year())*12+(M.month()-w.month()),A=w.clone().add(N,"months"),H,K;return M-A<0?(H=w.clone().add(N-1,"months"),K=(M-A)/(A-H)):(H=w.clone().add(N+1,"months"),K=(M-A)/(H-A)),-(N+K)||0}x.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",x.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function As(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ls(){if(!this.isValid())return null;var w=this.clone().utc();return w.year()<0||w.year()>9999?Mt(w,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(Date.prototype.toISOString)?this.toDate().toISOString():Mt(w,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function zs(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var w="moment",M="";this.isLocal()||(w=this.utcOffset()===0?"moment.utc":"moment.parseZone",M="Z");var N="["+w+'("]',A=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",H="-MM-DD[T]HH:mm:ss.SSS",K=M+'[")]';return this.format(N+A+H+K)}function Fs(w){w||(w=this.isUtc()?x.defaultFormatUtc:x.defaultFormat);var M=Mt(this,w);return this.localeData().postformat(M)}function Bs(w,M){return this.isValid()&&(T(w)&&w.isValid()||Ie(w).isValid())?it({to:this,from:w}).locale(this.locale()).humanize(!M):this.localeData().invalidDate()}function Hs(w){return this.from(Ie(),w)}function Ws(w,M){return this.isValid()&&(T(w)&&w.isValid()||Ie(w).isValid())?it({from:this,to:w}).locale(this.locale()).humanize(!M):this.localeData().invalidDate()}function Ys(w){return this.to(Ie(),w)}function tn(w){var M;return w===void 0?this._locale._abbr:(M=mt(w),M!=null&&(this._locale=M),this)}var nn=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(w){return w===void 0?this.localeData():this.locale(w)});function sn(){return this._locale}function Gs(w){switch(w=Ee(w),w){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return w==="week"&&this.weekday(0),w==="isoWeek"&&this.isoWeekday(1),w==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function Vs(w){return w=Ee(w),w===void 0||w==="millisecond"?this:(w==="date"&&(w="day"),this.startOf(w).add(1,w==="isoWeek"?"week":w).subtract(1,"ms"))}function Us(){return this._d.valueOf()-(this._offset||0)*6e4}function Xs(){return Math.floor(this.valueOf()/1e3)}function js(){return new Date(this.valueOf())}function Ks(){var w=this;return[w.year(),w.month(),w.date(),w.hour(),w.minute(),w.second(),w.millisecond()]}function Zs(){var w=this;return{years:w.year(),months:w.month(),date:w.date(),hours:w.hours(),minutes:w.minutes(),seconds:w.seconds(),milliseconds:w.milliseconds()}}function $s(){return this.isValid()?this.toISOString():null}function Qs(){return a(this)}function Js(){return f({},i(this))}function qs(){return i(this).overflow}function er(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ue(0,["gg",2],0,function(){return this.weekYear()%100}),ue(0,["GG",2],0,function(){return this.isoWeekYear()%100});function pi(w,M){ue(0,[w,w.length],0,M)}pi("gggg","weekYear"),pi("ggggg","weekYear"),pi("GGGG","isoWeekYear"),pi("GGGGG","isoWeekYear"),ye("weekYear","gg"),ye("isoWeekYear","GG"),Me("weekYear",1),Me("isoWeekYear",1),fe("G",wt),fe("g",wt),fe("GG",Oe,We),fe("gg",Oe,We),fe("GGGG",Xt,Ut),fe("gggg",Xt,Ut),fe("GGGGG",Pt,kt),fe("ggggg",Pt,kt),ft(["gggg","ggggg","GGGG","GGGGG"],function(w,M,N,A){M[A.substr(0,2)]=P(w)}),ft(["gg","GG"],function(w,M,N,A){M[A]=x.parseTwoDigitYear(w)});function tr(w){return rn.call(this,w,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ir(w){return rn.call(this,w,this.isoWeek(),this.isoWeekday(),1,4)}function nr(){return B(this.year(),1,4)}function sr(){var w=this.localeData()._week;return B(this.year(),w.dow,w.doy)}function rn(w,M,N,A,H){var K;return w==null?z(this,A,H).year:(K=B(w,A,H),M>K&&(M=K),rr.call(this,w,M,N,A,H))}function rr(w,M,N,A,H){var K=ui(w,M,N,A,H),ee=pt(K.year,0,K.dayOfYear);return this.year(ee.getUTCFullYear()),this.month(ee.getUTCMonth()),this.date(ee.getUTCDate()),this}ue("Q",0,"Qo","quarter"),ye("quarter","Q"),Me("quarter",7),fe("Q",Vt),ke("Q",function(w,M){M[Ze]=(P(w)-1)*3});function or(w){return w==null?Math.ceil((this.month()+1)/3):this.month((w-1)*3+this.month()%3)}ue("D",["DD",2],"Do","date"),ye("date","D"),Me("date",9),fe("D",Oe),fe("DD",Oe,We),fe("Do",function(w,M){return w?M._dayOfMonthOrdinalParse||M._ordinalParse:M._dayOfMonthOrdinalParseLenient}),ke(["D","DD"],$e),ke("Do",function(w,M){M[$e]=P(w.match(Oe)[0],10)});var on=ct("Date",!0);ue("DDD",["DDDD",3],"DDDo","dayOfYear"),ye("dayOfYear","DDD"),Me("dayOfYear",4),fe("DDD",ht),fe("DDDD",Ot),ke(["DDD","DDDD"],function(w,M,N){N._dayOfYear=P(w)});function ar(w){var M=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return w==null?M:this.add(w-M,"d")}ue("m",["mm",2],0,"minute"),ye("minute","m"),Me("minute",14),fe("m",Oe),fe("mm",Oe,We),ke(["m","mm"],Ge);var hr=ct("Minutes",!1);ue("s",["ss",2],0,"second"),ye("second","s"),Me("second",15),fe("s",Oe),fe("ss",Oe,We),ke(["s","ss"],Qe);var dr=ct("Seconds",!1);ue("S",0,0,function(){return~~(this.millisecond()/100)}),ue(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ue(0,["SSS",3],0,"millisecond"),ue(0,["SSSS",4],0,function(){return this.millisecond()*10}),ue(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ue(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ue(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ue(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ue(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ye("millisecond","ms"),Me("millisecond",16),fe("S",ht,Vt),fe("SS",ht,We),fe("SSS",ht,Ot);var gt;for(gt="SSSS";gt.length<=9;gt+="S")fe(gt,di);function lr(w,M){M[nt]=P(("0."+w)*1e3)}for(gt="S";gt.length<=9;gt+="S")ke(gt,lr);var ur=ct("Milliseconds",!1);ue("z",0,0,"zoneAbbr"),ue("zz",0,0,"zoneName");function fr(){return this._isUTC?"UTC":""}function cr(){return this._isUTC?"Coordinated Universal Time":""}var oe=g.prototype;oe.add=Ss,oe.calendar=Ds,oe.clone=Ms,oe.diff=Is,oe.endOf=Vs,oe.format=Fs,oe.from=Bs,oe.fromNow=Hs,oe.to=Ws,oe.toNow=Ys,oe.get=Ve,oe.invalidAt=qs,oe.isAfter=Os,oe.isBefore=ks,oe.isBetween=Ps,oe.isSame=_s,oe.isSameOrAfter=Rs,oe.isSameOrBefore=Ns,oe.isValid=Qs,oe.lang=nn,oe.locale=tn,oe.localeData=sn,oe.max=is,oe.min=ts,oe.parsingFlags=Js,oe.set=vt,oe.startOf=Gs,oe.subtract=Es,oe.toArray=Ks,oe.toObject=Zs,oe.toDate=js,oe.toISOString=Ls,oe.inspect=zs,oe.toJSON=$s,oe.toString=As,oe.unix=Xs,oe.valueOf=Us,oe.creationData=er,oe.year=Ct,oe.isLeapYear=Qt,oe.weekYear=tr,oe.isoWeekYear=ir,oe.quarter=oe.quarters=or,oe.month=zt,oe.daysInMonth=qt,oe.week=oe.weeks=ge,oe.isoWeek=oe.isoWeeks=Fe,oe.weeksInYear=sr,oe.isoWeeksInYear=nr,oe.date=on,oe.day=oe.days=bn,oe.weekday=wn,oe.isoWeekday=xn,oe.dayOfYear=ar,oe.hour=oe.hours=Rn,oe.minute=oe.minutes=hr,oe.second=oe.seconds=dr,oe.millisecond=oe.milliseconds=ur,oe.utcOffset=ls,oe.utc=fs,oe.local=cs,oe.parseZone=vs,oe.hasAlignedHourOffset=ps,oe.isDST=ms,oe.isLocal=ys,oe.isUtcOffset=bs,oe.isUtc=Qi,oe.isUTC=Qi,oe.zoneAbbr=fr,oe.zoneName=cr,oe.dates=I("dates accessor is deprecated. Use date instead.",on),oe.months=I("months accessor is deprecated. Use month instead",zt),oe.years=I("years accessor is deprecated. Use year instead",Ct),oe.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",us),oe.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",gs);function vr(w){return Ie(w*1e3)}function pr(){return Ie.apply(null,arguments).parseZone()}function an(w){return w}var Pe=Q.prototype;Pe.calendar=G,Pe.longDateFormat=$,Pe.invalidDate=se,Pe.ordinal=de,Pe.preparse=an,Pe.postformat=an,Pe.relativeTime=De,Pe.pastFuture=_e,Pe.set=X,Pe.months=li,Pe.monthsShort=It,Pe.monthsParse=At,Pe.monthsRegex=xi,Pe.monthsShortRegex=Ft,Pe.week=V,Pe.firstDayOfYear=le,Pe.firstDayOfWeek=ie,Pe.weekdays=cn,Pe.weekdaysMin=mn,Pe.weekdaysShort=vn,Pe.weekdaysParse=yn,Pe.weekdaysRegex=Sn,Pe.weekdaysShortRegex=Tn,Pe.weekdaysMinRegex=Mn,Pe.isPM=kn,Pe.meridiem=_n;function mi(w,M,N,A){var H=mt(),K=e().set(A,M);return H[N](K,w)}function hn(w,M,N){if(v(w)&&(M=w,w=void 0),w=w||"",M!=null)return mi(w,M,N,"month");var A,H=[];for(A=0;A<12;A++)H[A]=mi(w,A,N,"month");return H}function Ai(w,M,N,A){typeof w=="boolean"?(v(M)&&(N=M,M=void 0),M=M||""):(M=w,N=M,w=!1,v(M)&&(N=M,M=void 0),M=M||"");var H=mt(),K=w?H._week.dow:0;if(N!=null)return mi(M,(N+K)%7,A,"day");var ee,me=[];for(ee=0;ee<7;ee++)me[ee]=mi(M,(ee+K)%7,A,"day");return me}function mr(w,M){return hn(w,M,"months")}function gr(w,M){return hn(w,M,"monthsShort")}function yr(w,M,N){return Ai(w,M,N,"weekdays")}function br(w,M,N){return Ai(w,M,N,"weekdaysShort")}function wr(w,M,N){return Ai(w,M,N,"weekdaysMin")}Ht("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(w){var M=w%10,N=P(w%100/10)===1?"th":M===1?"st":M===2?"nd":M===3?"rd":"th";return w+N}}),x.lang=I("moment.lang is deprecated. Use moment.locale instead.",Ht),x.langData=I("moment.langData is deprecated. Use moment.localeData instead.",mt);var ut=Math.abs;function xr(){var w=this._data;return this._milliseconds=ut(this._milliseconds),this._days=ut(this._days),this._months=ut(this._months),w.milliseconds=ut(w.milliseconds),w.seconds=ut(w.seconds),w.minutes=ut(w.minutes),w.hours=ut(w.hours),w.months=ut(w.months),w.years=ut(w.years),this}function dn(w,M,N,A){var H=it(M,N);return w._milliseconds+=A*H._milliseconds,w._days+=A*H._days,w._months+=A*H._months,w._bubble()}function Cr(w,M){return dn(this,w,M,1)}function Sr(w,M){return dn(this,w,M,-1)}function ln(w){return w<0?Math.floor(w):Math.ceil(w)}function Er(){var w=this._milliseconds,M=this._days,N=this._months,A=this._data,H,K,ee,me,xe;return w>=0&&M>=0&&N>=0||w<=0&&M<=0&&N<=0||(w+=ln(Li(N)+M)*864e5,M=0,N=0),A.milliseconds=w%1e3,H=O(w/1e3),A.seconds=H%60,K=O(H/60),A.minutes=K%60,ee=O(K/60),A.hours=ee%24,M+=O(ee/24),xe=O(un(M)),N+=xe,M-=ln(Li(xe)),me=O(N/12),N%=12,A.days=M,A.months=N,A.years=me,this}function un(w){return w*4800/146097}function Li(w){return w*146097/4800}function Tr(w){if(!this.isValid())return NaN;var M,N,A=this._milliseconds;if(w=Ee(w),w==="month"||w==="year")return M=this._days+A/864e5,N=this._months+un(M),w==="month"?N:N/12;switch(M=this._days+Math.round(Li(this._months)),w){case"week":return M/7+A/6048e5;case"day":return M+A/864e5;case"hour":return M*24+A/36e5;case"minute":return M*1440+A/6e4;case"second":return M*86400+A/1e3;case"millisecond":return Math.floor(M*864e5)+A;default:throw new Error("Unknown unit "+w)}}function Dr(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+P(this._months/12)*31536e6:NaN}function yt(w){return function(){return this.as(w)}}var Mr=yt("ms"),Or=yt("s"),kr=yt("m"),Pr=yt("h"),_r=yt("d"),Rr=yt("w"),Nr=yt("M"),Ir=yt("y");function Ar(){return it(this)}function Lr(w){return w=Ee(w),this.isValid()?this[w+"s"]():NaN}function Tt(w){return function(){return this.isValid()?this._data[w]:NaN}}var zr=Tt("milliseconds"),Fr=Tt("seconds"),Br=Tt("minutes"),Hr=Tt("hours"),Wr=Tt("days"),Yr=Tt("months"),Gr=Tt("years");function Vr(){return O(this.days()/7)}var bt=Math.round,at={ss:44,s:45,m:45,h:22,d:26,M:11};function Ur(w,M,N,A,H){return H.relativeTime(M||1,!!N,w,A)}function Xr(w,M,N){var A=it(w).abs(),H=bt(A.as("s")),K=bt(A.as("m")),ee=bt(A.as("h")),me=bt(A.as("d")),xe=bt(A.as("M")),Be=bt(A.as("y")),qe=H<=at.ss&&["s",H]||H<at.s&&["ss",H]||K<=1&&["m"]||K<at.m&&["mm",K]||ee<=1&&["h"]||ee<at.h&&["hh",ee]||me<=1&&["d"]||me<at.d&&["dd",me]||xe<=1&&["M"]||xe<at.M&&["MM",xe]||Be<=1&&["y"]||["yy",Be];return qe[2]=M,qe[3]=+w>0,qe[4]=N,Ur.apply(null,qe)}function jr(w){return w===void 0?bt:typeof w=="function"?(bt=w,!0):!1}function Kr(w,M){return at[w]===void 0?!1:M===void 0?at[w]:(at[w]=M,w==="s"&&(at.ss=M-1),!0)}function Zr(w){if(!this.isValid())return this.localeData().invalidDate();var M=this.localeData(),N=Xr(this,!w,M);return w&&(N=M.pastFuture(+this,N)),M.postformat(N)}var zi=Math.abs;function Yt(w){return(w>0)-(w<0)||+w}function gi(){if(!this.isValid())return this.localeData().invalidDate();var w=zi(this._milliseconds)/1e3,M=zi(this._days),N=zi(this._months),A,H,K;A=O(w/60),H=O(A/60),w%=60,A%=60,K=O(N/12),N%=12;var ee=K,me=N,xe=M,Be=H,qe=A,ri=w?w.toFixed(3).replace(/\.?0+$/,""):"",oi=this.asSeconds();if(!oi)return"P0D";var $r=oi<0?"-":"",fn=Yt(this._months)!==Yt(oi)?"-":"",Qr=Yt(this._days)!==Yt(oi)?"-":"",Fi=Yt(this._milliseconds)!==Yt(oi)?"-":"";return $r+"P"+(ee?fn+ee+"Y":"")+(me?fn+me+"M":"")+(xe?Qr+xe+"D":"")+(Be||qe||ri?"T":"")+(Be?Fi+Be+"H":"")+(qe?Fi+qe+"M":"")+(ri?Fi+ri+"S":"")}var we=vi.prototype;return we.isValid=as,we.abs=xr,we.add=Cr,we.subtract=Sr,we.as=Tr,we.asMilliseconds=Mr,we.asSeconds=Or,we.asMinutes=kr,we.asHours=Pr,we.asDays=_r,we.asWeeks=Rr,we.asMonths=Nr,we.asYears=Ir,we.valueOf=Dr,we._bubble=Er,we.clone=Ar,we.get=Lr,we.milliseconds=zr,we.seconds=Fr,we.minutes=Br,we.hours=Hr,we.days=Wr,we.weeks=Vr,we.months=Yr,we.years=Gr,we.humanize=Zr,we.toISOString=gi,we.toString=gi,we.toJSON=gi,we.locale=tn,we.localeData=sn,we.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gi),we.lang=nn,ue("X",0,0,"unix"),ue("x",0,0,"valueOf"),fe("x",wt),fe("X",yi),ke("X",function(w,M,N){N._d=new Date(parseFloat(w,10)*1e3)}),ke("x",function(w,M,N){N._d=new Date(P(w))}),x.version="2.19.1",C(Ie),x.fn=oe,x.min=ns,x.max=ss,x.now=rs,x.utc=e,x.unix=vr,x.months=mr,x.isDate=d,x.locale=Ht,x.invalid=u,x.duration=it,x.isMoment=T,x.weekdays=yr,x.parseZone=pr,x.localeData=mt,x.isDuration=ki,x.monthsShort=gr,x.weekdaysMin=wr,x.defineLocale=Ei,x.updateLocale=In,x.locales=An,x.weekdaysShort=br,x.normalizeUnits=Ee,x.relativeTimeRounding=jr,x.relativeTimeThreshold=Kr,x.calendarFormat=Ts,x.prototype=oe,x})}).call(k,p(155)(L))},function(L,k){L.exports=function(p){return p.webpackPolyfill||(p.deprecate=function(){},p.paths=[],p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),p.webpackPolyfill=1),p}},function(L,k){function p(D){throw new Error("Cannot find module '"+D+"'.")}p.keys=function(){return[]},p.resolve=p,L.exports=p,p.id=156},function(L,k,p){"use strict";(function(D){var c,b=typeof window<"u"?window:typeof D<"u"?D:null;if(b&&b.crypto&&crypto.getRandomValues){var x=new Uint8Array(16);c=function(){return crypto.getRandomValues(x),x}}if(!c){var C=new Array(16);c=function(){for(var u=0,n;u<16;u++)u&3||(n=Math.random()*4294967296),C[u]=n>>>((u&3)<<3)&255;return C}}for(var E=[],y={},S=0;S<256;S++)E[S]=(S+256).toString(16).substr(1),y[E[S]]=S;function m(a,u,n){var s=u&&n||0,l=0;for(u=u||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(g){l<16&&(u[s+l++]=y[g])});l<16;)u[s+l++]=0;return u}function v(a,u){var n=u||0,s=E;return s[a[n++]]+s[a[n++]]+s[a[n++]]+s[a[n++]]+"-"+s[a[n++]]+s[a[n++]]+"-"+s[a[n++]]+s[a[n++]]+"-"+s[a[n++]]+s[a[n++]]+"-"+s[a[n++]]+s[a[n++]]+s[a[n++]]+s[a[n++]]+s[a[n++]]+s[a[n++]]}var d=c(),h=[d[0]|1,d[1],d[2],d[3],d[4],d[5]],o=(d[6]<<8|d[7])&16383,f=0,e=0;function r(a,u,n){var s=u&&n||0,l=u||[];a=a||{};var g=a.clockseq!==void 0?a.clockseq:o,T=a.msecs!==void 0?a.msecs:new Date().getTime(),O=a.nsecs!==void 0?a.nsecs:e+1,P=T-f+(O-e)/1e4;if(P<0&&a.clockseq===void 0&&(g=g+1&16383),(P<0||T>f)&&a.nsecs===void 0&&(O=0),O>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=T,e=O,o=g,T+=122192928e5;var _=((T&268435455)*1e4+O)%4294967296;l[s++]=_>>>24&255,l[s++]=_>>>16&255,l[s++]=_>>>8&255,l[s++]=_&255;var R=T/4294967296*1e4&268435455;l[s++]=R>>>8&255,l[s++]=R&255,l[s++]=R>>>24&15|16,l[s++]=R>>>16&255,l[s++]=g>>>8|128,l[s++]=g&255;for(var I=a.node||h,F=0;F<6;F++)l[s+F]=I[F];return u||v(l)}function i(a,u,n){var s=u&&n||0;typeof a=="string"&&(u=a=="binary"?new Array(16):null,a=null),a=a||{};var l=a.random||(a.rng||c)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,u)for(var g=0;g<16;g++)u[s+g]=l[g];return u||v(l)}var t=i;t.v1=r,t.v4=i,t.parse=m,t.unparse=v,L.exports=t}).call(k,p(158))},function(L,k){var p;p=function(){return this}();try{p=p||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(p=window)}L.exports=p},function(L,k,p){"use strict";k.util=p(2),k.DOMutil=p(14),k.DataSet=p(11),k.DataView=p(12),k.Queue=p(43),k.Graph3d=p(161),k.graph3d={Camera:p(95),Filter:p(96),Point2d:p(91),Point3d:p(34),Slider:p(92),StepNumber:p(93)},k.moment=p(9),k.Hammer=p(10),k.keycharm=p(35)},function(L,k,p){var D=p(7),c=D.JSON||(D.JSON={stringify:JSON.stringify});L.exports=function(x){return c.stringify.apply(c,arguments)}},function(L,k,p){"use strict";var D=p(90),c=b(D);function b(n){return n&&n.__esModule?n:{default:n}}var x=p(44),C=p(2),E=p(34),y=p(91),S=p(92),m=p(93),v=p(94),d=p(15).default,h=p(15),o=h.printStyle,f=p(172),e=f.allOptions,r=p(173);t.STYLE=v.STYLE;var i=void 0;t.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(s){return s},yValueLabel:function(s){return s},zValueLabel:function(s){return s},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:i,animationInterval:1e3,animationPreload:!1,animationAutoStart:i,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:t.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:i,backgroundColor:i,xBarWidth:i,yBarWidth:i,valueMin:i,valueMax:i,xMin:i,xMax:i,xStep:i,yMin:i,yMax:i,yStep:i,zMin:i,zMax:i,zStep:i};function t(n,s,l){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=n,this.dataGroup=new r,this.dataPoints=null,this.create(),v.setDefaults(t.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(l),this.setData(s)}x(t.prototype),t.prototype._setScale=function(){this.scale=new E(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.valueRange!==void 0&&(this.scale.value=1/this.valueRange.range());var n=this.xRange.center()*this.scale.x,s=this.yRange.center()*this.scale.y,l=this.zRange.center()*this.scale.z;this.camera.setArmLocation(n,s,l)},t.prototype._convert3Dto2D=function(n){var s=this._convertPointToTranslation(n);return this._convertTranslationToScreen(s)},t.prototype._convertPointToTranslation=function(n){var s=this.camera.getCameraLocation(),l=this.camera.getCameraRotation(),g=n.x*this.scale.x,T=n.y*this.scale.y,O=n.z*this.scale.z,P=s.x,_=s.y,R=s.z,I=Math.sin(l.x),F=Math.cos(l.x),W=Math.sin(l.y),Y=Math.cos(l.y),X=Math.sin(l.z),q=Math.cos(l.z),Q=Y*(X*(T-_)+q*(g-P))-W*(O-R),J=I*(Y*(O-R)+W*(X*(T-_)+q*(g-P)))+F*(q*(T-_)-X*(g-P)),j=F*(Y*(O-R)+W*(X*(T-_)+q*(g-P)))-I*(q*(T-_)-X*(g-P));return new E(Q,J,j)},t.prototype._convertTranslationToScreen=function(n){var s=this.eye.x,l=this.eye.y,g=this.eye.z,T=n.x,O=n.y,P=n.z,_,R;return this.showPerspective?(_=(T-s)*(g/P),R=(O-l)*(g/P)):(_=T*-(g/this.camera.getArmLength()),R=O*-(g/this.camera.getArmLength())),new y(this.currentXCenter+_*this.frame.canvas.clientWidth,this.currentYCenter-R*this.frame.canvas.clientWidth)},t.prototype._calcTranslations=function(n){for(var s=0;s<n.length;s++){var l=n[s];l.trans=this._convertPointToTranslation(l.point),l.screen=this._convertTranslationToScreen(l.trans);var g=this._convertPointToTranslation(l.bottom);l.dist=this.showPerspective?g.length():-g.z}var T=function(P,_){return _.dist-P.dist};n.sort(T)},t.prototype._initializeRanges=function(){var n=this.dataGroup;this.xRange=n.xRange,this.yRange=n.yRange,this.zRange=n.zRange,this.valueRange=n.valueRange,this.xStep=n.xStep,this.yStep=n.yStep,this.zStep=n.zStep,this.xBarWidth=n.xBarWidth,this.yBarWidth=n.yBarWidth,this.colX=n.colX,this.colY=n.colY,this.colZ=n.colZ,this.colValue=n.colValue,this._setScale()},t.prototype.getDataPoints=function(n){for(var s=[],l=0;l<n.length;l++){var g=new E;g.x=n[l][this.colX]||0,g.y=n[l][this.colY]||0,g.z=n[l][this.colZ]||0,g.data=n[l],this.colValue!==void 0&&(g.value=n[l][this.colValue]||0);var T={};T.point=g,T.bottom=new E(g.x,g.y,this.zRange.min),T.trans=void 0,T.screen=void 0,s.push(T)}return s},t.prototype._getDataPoints=function(n){var s,l,g,T,O=[];if(this.style===t.STYLE.GRID||this.style===t.STYLE.SURFACE){var P=this.dataGroup.getDistinctValues(this.colX,n),_=this.dataGroup.getDistinctValues(this.colY,n);O=this.getDataPoints(n);var R=[];for(g=0;g<O.length;g++){T=O[g];var I=P.indexOf(T.point.x),F=_.indexOf(T.point.y);R[I]===void 0&&(R[I]=[]),R[I][F]=T}for(s=0;s<R.length;s++)for(l=0;l<R[s].length;l++)R[s][l]&&(R[s][l].pointRight=s<R.length-1?R[s+1][l]:void 0,R[s][l].pointTop=l<R[s].length-1?R[s][l+1]:void 0,R[s][l].pointCross=s<R.length-1&&l<R[s].length-1?R[s+1][l+1]:void 0)}else if(this._checkValueField(n),O=this.getDataPoints(n),this.style===t.STYLE.LINE)for(g=0;g<O.length;g++)g>0&&(O[g-1].pointNext=O[g]);return O},t.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);{var n=document.createElement("DIV");n.style.color="red",n.style.fontWeight="bold",n.style.padding="10px",n.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(n)}this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var s=this,l=function(R){s._onMouseDown(R)},g=function(R){s._onTouchStart(R)},T=function(R){s._onWheel(R)},O=function(R){s._onTooltip(R)},P=function(R){s._onClick(R)};C.addEventListener(this.frame.canvas,"mousedown",l),C.addEventListener(this.frame.canvas,"touchstart",g),C.addEventListener(this.frame.canvas,"mousewheel",T),C.addEventListener(this.frame.canvas,"mousemove",O),C.addEventListener(this.frame.canvas,"click",P),this.containerElement.appendChild(this.frame)},t.prototype._setSize=function(n,s){this.frame.style.width=n,this.frame.style.height=s,this._resizeCanvas()},t.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-2*10+"px"},t.prototype.animationStart=function(){if(!(!this.animationAutoStart||!this.dataGroup.dataFilter)){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},t.prototype.animationStop=function(){!this.frame.filter||!this.frame.filter.slider||this.frame.filter.slider.stop()},t.prototype._resizeCenter=function(){this.xCenter.charAt(this.xCenter.length-1)==="%"?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),this.yCenter.charAt(this.yCenter.length-1)==="%"?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},t.prototype.getCameraPosition=function(){var n=this.camera.getArmRotation();return n.distance=this.camera.getArmLength(),n},t.prototype._readData=function(n){this.dataPoints=this.dataGroup.initializeData(this,n,this.style),this._initializeRanges(),this._redrawFilter()},t.prototype.setData=function(n){n!=null&&(this._readData(n),this.redraw(),this.animationStart())},t.prototype.setOptions=function(n){if(n!==void 0){var s=d.validate(n,e);s===!0&&console.log("%cErrors have been found in the supplied options object.",o),this.animationStop(),v.setOptions(n,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart()}},t.prototype.setPointDrawingMethod=function(){var n=void 0;switch(this.style){case t.STYLE.BAR:n=t.prototype._redrawBarGraphPoint;break;case t.STYLE.BARCOLOR:n=t.prototype._redrawBarColorGraphPoint;break;case t.STYLE.BARSIZE:n=t.prototype._redrawBarSizeGraphPoint;break;case t.STYLE.DOT:n=t.prototype._redrawDotGraphPoint;break;case t.STYLE.DOTLINE:n=t.prototype._redrawDotLineGraphPoint;break;case t.STYLE.DOTCOLOR:n=t.prototype._redrawDotColorGraphPoint;break;case t.STYLE.DOTSIZE:n=t.prototype._redrawDotSizeGraphPoint;break;case t.STYLE.SURFACE:n=t.prototype._redrawSurfaceGraphPoint;break;case t.STYLE.GRID:n=t.prototype._redrawGridGraphPoint;break;case t.STYLE.LINE:n=t.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=n},t.prototype.redraw=function(){if(this.dataPoints===void 0)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},t.prototype._getContext=function(){var n=this.frame.canvas,s=n.getContext("2d");return s.lineJoin="round",s.lineCap="round",s},t.prototype._redrawClear=function(){var n=this.frame.canvas,s=n.getContext("2d");s.clearRect(0,0,n.width,n.height)},t.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},t.prototype._getLegendWidth=function(){var n;if(this.style===t.STYLE.DOTSIZE){var s=this._dotSize();n=s*this.dotSizeMaxFraction}else this.style===t.STYLE.BARSIZE?n=this.xBarWidth:n=20;return n},t.prototype._redrawLegend=function(){if(this.showLegend===!0&&!(this.style===t.STYLE.LINE||this.style===t.STYLE.BARSIZE)){var n=this.style===t.STYLE.BARSIZE||this.style===t.STYLE.DOTSIZE,s=this.style===t.STYLE.DOTSIZE||this.style===t.STYLE.DOTCOLOR||this.style===t.STYLE.BARCOLOR,l=Math.max(this.frame.clientHeight*.25,100),g=this.margin,T=this._getLegendWidth(),O=this.frame.clientWidth-this.margin,P=O-T,_=g+l,R=this._getContext();if(R.lineWidth=1,R.font="14px arial",n===!1){var I=0,F=l,W;for(W=I;W<F;W++){var Y=(W-I)/(F-I),X=Y*240,q=this._hsv2rgb(X,1,1);R.strokeStyle=q,R.beginPath(),R.moveTo(P,g+W),R.lineTo(O,g+W),R.stroke()}R.strokeStyle=this.axisColor,R.strokeRect(P,g,T,l)}else{var Q;this.style===t.STYLE.DOTSIZE?Q=T*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,t.STYLE.BARSIZE),R.strokeStyle=this.axisColor,R.fillStyle=this.dataColor.fill,R.beginPath(),R.moveTo(P,g),R.lineTo(O,g),R.lineTo(P+Q,_),R.lineTo(P,_),R.closePath(),R.fill(),R.stroke()}var J=5,j=s?this.valueRange.min:this.zRange.min,G=s?this.valueRange.max:this.zRange.max,U=new m(j,G,(G-j)/5,!0);U.start(!0);for(var $,ne;!U.end();)W=_-(U.getCurrent()-j)/(G-j)*l,$=new y(P-J,W),ne=new y(P,W),this._line(R,$,ne),R.textAlign="right",R.textBaseline="middle",R.fillStyle=this.axisColor,R.fillText(U.getCurrent(),P-2*J,W),U.next();R.textAlign="right",R.textBaseline="top";var se=this.legendLabel;R.fillText(se,O,_+this.margin)}},t.prototype._redrawFilter=function(){var n=this.dataGroup.dataFilter,s=this.frame.filter;if(s.innerHTML="",!n){s.slider=void 0;return}var l={visible:this.showAnimationControls},g=new S(s,l);s.slider=g,s.style.padding="10px",g.setValues(n.values),g.setPlayInterval(this.animationInterval);var T=this,O=function(){var _=T.dataGroup.dataFilter,R=g.getIndex();_.selectValue(R),T.dataPoints=_._getDataPoints(),T.redraw()};g.setOnChangeCallback(O)},t.prototype._redrawSlider=function(){this.frame.filter.slider!==void 0&&this.frame.filter.slider.redraw()},t.prototype._redrawInfo=function(){var n=this.dataGroup.getInfo();if(n!==void 0){var s=this._getContext();s.font="14px arial",s.lineStyle="gray",s.fillStyle="gray",s.textAlign="left",s.textBaseline="top";var l=this.margin,g=this.margin;s.fillText(n,l,g)}},t.prototype._line=function(n,s,l,g){g!==void 0&&(n.strokeStyle=g),n.beginPath(),n.moveTo(s.x,s.y),n.lineTo(l.x,l.y),n.stroke()},t.prototype.drawAxisLabelX=function(n,s,l,g,T){T===void 0&&(T=0);var O=this._convert3Dto2D(s);Math.cos(g*2)>0?(n.textAlign="center",n.textBaseline="top",O.y+=T):Math.sin(g*2)<0?(n.textAlign="right",n.textBaseline="middle"):(n.textAlign="left",n.textBaseline="middle"),n.fillStyle=this.axisColor,n.fillText(l,O.x,O.y)},t.prototype.drawAxisLabelY=function(n,s,l,g,T){T===void 0&&(T=0);var O=this._convert3Dto2D(s);Math.cos(g*2)<0?(n.textAlign="center",n.textBaseline="top",O.y+=T):Math.sin(g*2)>0?(n.textAlign="right",n.textBaseline="middle"):(n.textAlign="left",n.textBaseline="middle"),n.fillStyle=this.axisColor,n.fillText(l,O.x,O.y)},t.prototype.drawAxisLabelZ=function(n,s,l,g){g===void 0&&(g=0);var T=this._convert3Dto2D(s);n.textAlign="right",n.textBaseline="middle",n.fillStyle=this.axisColor,n.fillText(l,T.x-g,T.y)},t.prototype._line3d=function(n,s,l,g){var T=this._convert3Dto2D(s),O=this._convert3Dto2D(l);this._line(n,T,O,g)},t.prototype._redrawAxis=function(){var n=this._getContext(),s,l,g,T,O,P,_,R,I,F,W;n.font=24/this.camera.getArmLength()+"px arial";var Y=.025/this.scale.x,X=.025/this.scale.y,q=5/this.camera.getArmLength(),Q=this.camera.getArmRotation().horizontal,J=new y(Math.cos(Q),Math.sin(Q)),j=this.xRange,G=this.yRange,U=this.zRange,$;for(n.lineWidth=1,T=this.defaultXStep===void 0,g=new m(j.min,j.max,this.xStep,T),g.start(!0);!g.end();){var ne=g.getCurrent();if(this.showGrid?(s=new E(ne,G.min,U.min),l=new E(ne,G.max,U.min),this._line3d(n,s,l,this.gridColor)):this.showXAxis&&(s=new E(ne,G.min,U.min),l=new E(ne,G.min+Y,U.min),this._line3d(n,s,l,this.axisColor),s=new E(ne,G.max,U.min),l=new E(ne,G.max-Y,U.min),this._line3d(n,s,l,this.axisColor)),this.showXAxis){_=J.x>0?G.min:G.max,$=new E(ne,_,U.min);var se="  "+this.xValueLabel(ne)+"  ";this.drawAxisLabelX(n,$,se,Q,q)}g.next()}for(n.lineWidth=1,T=this.defaultYStep===void 0,g=new m(G.min,G.max,this.yStep,T),g.start(!0);!g.end();){var te=g.getCurrent();if(this.showGrid?(s=new E(j.min,te,U.min),l=new E(j.max,te,U.min),this._line3d(n,s,l,this.gridColor)):this.showYAxis&&(s=new E(j.min,te,U.min),l=new E(j.min+X,te,U.min),this._line3d(n,s,l,this.axisColor),s=new E(j.max,te,U.min),l=new E(j.max-X,te,U.min),this._line3d(n,s,l,this.axisColor)),this.showYAxis){P=J.y>0?j.min:j.max,$=new E(P,te,U.min);var he="  "+this.yValueLabel(te)+"  ";this.drawAxisLabelY(n,$,he,Q,q)}g.next()}if(this.showZAxis){for(n.lineWidth=1,T=this.defaultZStep===void 0,g=new m(U.min,U.max,this.zStep,T),g.start(!0),P=J.x>0?j.min:j.max,_=J.y<0?G.min:G.max;!g.end();){var de=g.getCurrent(),ve=new E(P,_,de),De=this._convert3Dto2D(ve);l=new y(De.x-q,De.y),this._line(n,De,l,this.axisColor);var _e=this.zValueLabel(de)+" ";this.drawAxisLabelZ(n,ve,_e,5),g.next()}n.lineWidth=1,s=new E(P,_,U.min),l=new E(P,_,U.max),this._line3d(n,s,l,this.axisColor)}if(this.showXAxis){var Ce,ye;n.lineWidth=1,Ce=new E(j.min,G.min,U.min),ye=new E(j.max,G.min,U.min),this._line3d(n,Ce,ye,this.axisColor),Ce=new E(j.min,G.max,U.min),ye=new E(j.max,G.max,U.min),this._line3d(n,Ce,ye,this.axisColor)}this.showYAxis&&(n.lineWidth=1,s=new E(j.min,G.min,U.min),l=new E(j.min,G.max,U.min),this._line3d(n,s,l,this.axisColor),s=new E(j.max,G.min,U.min),l=new E(j.max,G.max,U.min),this._line3d(n,s,l,this.axisColor));var Ee=this.xLabel;Ee.length>0&&this.showXAxis&&(W=.1/this.scale.y,P=(j.max+3*j.min)/4,_=J.x>0?G.min-W:G.max+W,O=new E(P,_,U.min),this.drawAxisLabelX(n,O,Ee,Q));var Ne=this.yLabel;Ne.length>0&&this.showYAxis&&(F=.1/this.scale.x,P=J.y>0?j.min-F:j.max+F,_=(G.max+3*G.min)/4,O=new E(P,_,U.min),this.drawAxisLabelY(n,O,Ne,Q));var Re=this.zLabel;Re.length>0&&this.showZAxis&&(I=30,P=J.x>0?j.min:j.max,_=J.y<0?G.min:G.max,R=(U.max+3*U.min)/4,O=new E(P,_,R),this.drawAxisLabelZ(n,O,Re,I))},t.prototype._hsv2rgb=function(n,s,l){var g,T,O,P,_,R;switch(P=l*s,_=Math.floor(n/60),R=P*(1-Math.abs(n/60%2-1)),_){case 0:g=P,T=R,O=0;break;case 1:g=R,T=P,O=0;break;case 2:g=0,T=P,O=R;break;case 3:g=0,T=R,O=P;break;case 4:g=R,T=0,O=P;break;case 5:g=P,T=0,O=R;break;default:g=0,T=0,O=0;break}return"RGB("+parseInt(g*255)+","+parseInt(T*255)+","+parseInt(O*255)+")"},t.prototype._getStrokeWidth=function(n){return n!==void 0?this.showPerspective?1/-n.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth},t.prototype._redrawBar=function(n,s,l,g,T,O){var P,_=this,R=s.point,I=this.zRange.min,F=[{point:new E(R.x-l,R.y-g,R.z)},{point:new E(R.x+l,R.y-g,R.z)},{point:new E(R.x+l,R.y+g,R.z)},{point:new E(R.x-l,R.y+g,R.z)}],W=[{point:new E(R.x-l,R.y-g,I)},{point:new E(R.x+l,R.y-g,I)},{point:new E(R.x+l,R.y+g,I)},{point:new E(R.x-l,R.y+g,I)}];F.forEach(function(J){J.screen=_._convert3Dto2D(J.point)}),W.forEach(function(J){J.screen=_._convert3Dto2D(J.point)});var Y=[{corners:F,center:E.avg(W[0].point,W[2].point)},{corners:[F[0],F[1],W[1],W[0]],center:E.avg(W[1].point,W[0].point)},{corners:[F[1],F[2],W[2],W[1]],center:E.avg(W[2].point,W[1].point)},{corners:[F[2],F[3],W[3],W[2]],center:E.avg(W[3].point,W[2].point)},{corners:[F[3],F[0],W[0],W[3]],center:E.avg(W[0].point,W[3].point)}];s.surfaces=Y;for(var X=0;X<Y.length;X++){P=Y[X];var q=this._convertPointToTranslation(P.center);P.dist=this.showPerspective?q.length():-q.z}Y.sort(function(J,j){var G=j.dist-J.dist;return G||(J.corners===F?1:j.corners===F?-1:0)}),n.lineWidth=this._getStrokeWidth(s),n.strokeStyle=O,n.fillStyle=T;for(var Q=2;Q<Y.length;Q++)P=Y[Q],this._polygon(n,P.corners)},t.prototype._polygon=function(n,s,l,g){if(!(s.length<2)){l!==void 0&&(n.fillStyle=l),g!==void 0&&(n.strokeStyle=g),n.beginPath(),n.moveTo(s[0].screen.x,s[0].screen.y);for(var T=1;T<s.length;++T){var O=s[T];n.lineTo(O.screen.x,O.screen.y)}n.closePath(),n.fill(),n.stroke()}},t.prototype._drawCircle=function(n,s,l,g,T){var O=this._calcRadius(s,T);n.lineWidth=this._getStrokeWidth(s),n.strokeStyle=g,n.fillStyle=l,n.beginPath(),n.arc(s.screen.x,s.screen.y,O,0,Math.PI*2,!0),n.fill(),n.stroke()},t.prototype._getColorsRegular=function(n){var s=(1-(n.point.z-this.zRange.min)*this.scale.z/this.verticalRatio)*240,l=this._hsv2rgb(s,1,1),g=this._hsv2rgb(s,1,.8);return{fill:l,border:g}},t.prototype._getColorsColor=function(n){var s,l;if(typeof n.point.value=="string")s=n.point.value,l=n.point.value;else{var g=(1-(n.point.value-this.valueRange.min)*this.scale.value)*240;s=this._hsv2rgb(g,1,1),l=this._hsv2rgb(g,1,.8)}return{fill:s,border:l}},t.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},t.prototype._calcRadius=function(n,s){s===void 0&&(s=this._dotSize());var l;return this.showPerspective?l=s/-n.trans.z:l=s*-(this.eye.z/this.camera.getArmLength()),l<0&&(l=0),l},t.prototype._redrawBarGraphPoint=function(n,s){var l=this.xBarWidth/2,g=this.yBarWidth/2,T=this._getColorsRegular(s);this._redrawBar(n,s,l,g,T.fill,T.border)},t.prototype._redrawBarColorGraphPoint=function(n,s){var l=this.xBarWidth/2,g=this.yBarWidth/2,T=this._getColorsColor(s);this._redrawBar(n,s,l,g,T.fill,T.border)},t.prototype._redrawBarSizeGraphPoint=function(n,s){var l=(s.point.value-this.valueRange.min)/this.valueRange.range(),g=this.xBarWidth/2*(l*.8+.2),T=this.yBarWidth/2*(l*.8+.2),O=this._getColorsSize();this._redrawBar(n,s,g,T,O.fill,O.border)},t.prototype._redrawDotGraphPoint=function(n,s){var l=this._getColorsRegular(s);this._drawCircle(n,s,l.fill,l.border)},t.prototype._redrawDotLineGraphPoint=function(n,s){var l=this._convert3Dto2D(s.bottom);n.lineWidth=1,this._line(n,l,s.screen,this.gridColor),this._redrawDotGraphPoint(n,s)},t.prototype._redrawDotColorGraphPoint=function(n,s){var l=this._getColorsColor(s);this._drawCircle(n,s,l.fill,l.border)},t.prototype._redrawDotSizeGraphPoint=function(n,s){var l=this._dotSize(),g=(s.point.value-this.valueRange.min)/this.valueRange.range(),T=l*this.dotSizeMinFraction,O=l*this.dotSizeMaxFraction-T,P=T+O*g,_=this._getColorsSize();this._drawCircle(n,s,_.fill,_.border,P)},t.prototype._redrawSurfaceGraphPoint=function(n,s){var l=s.pointRight,g=s.pointTop,T=s.pointCross;if(!(s===void 0||l===void 0||g===void 0||T===void 0)){var O=!0,P,_;if(this.showGrayBottom||this.showShadow){var R=E.subtract(T.trans,s.trans),I=E.subtract(g.trans,l.trans),F=E.crossProduct(R,I),W=F.length();O=F.z>0}if(O){var Y=(s.point.z+l.point.z+g.point.z+T.point.z)/4,X=(1-(Y-this.zRange.min)*this.scale.z/this.verticalRatio)*240,q=1,Q;this.showShadow?(Q=Math.min(1+F.x/W/2,1),P=this._hsv2rgb(X,q,Q),_=P):(Q=1,P=this._hsv2rgb(X,q,Q),_=this.axisColor)}else P="gray",_=this.axisColor;n.lineWidth=this._getStrokeWidth(s);var J=[s,l,T,g];this._polygon(n,J,P,_)}},t.prototype._drawGridLine=function(n,s,l){if(!(s===void 0||l===void 0)){var g=(s.point.z+l.point.z)/2,T=(1-(g-this.zRange.min)*this.scale.z/this.verticalRatio)*240;n.lineWidth=this._getStrokeWidth(s)*2,n.strokeStyle=this._hsv2rgb(T,1,1),this._line(n,s.screen,l.screen)}},t.prototype._redrawGridGraphPoint=function(n,s){this._drawGridLine(n,s,s.pointRight),this._drawGridLine(n,s,s.pointTop)},t.prototype._redrawLineGraphPoint=function(n,s){s.pointNext!==void 0&&(n.lineWidth=this._getStrokeWidth(s),n.strokeStyle=this.dataColor.stroke,this._line(n,s.screen,s.pointNext.screen))},t.prototype._redrawDataGraph=function(){var n=this._getContext(),s;if(!(this.dataPoints===void 0||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),s=0;s<this.dataPoints.length;s++){var l=this.dataPoints[s];this._pointDrawingMethod.call(this,n,l)}},t.prototype._storeMousePosition=function(n){this.startMouseX=a(n),this.startMouseY=u(n),this._startCameraOffset=this.camera.getOffset()},t.prototype._onMouseDown=function(n){if(n=n||window.event,this.leftButtonDown&&this._onMouseUp(n),this.leftButtonDown=n.which?n.which===1:n.button===1,!(!this.leftButtonDown&&!this.touchDown)){this._storeMousePosition(n),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var s=this;this.onmousemove=function(l){s._onMouseMove(l)},this.onmouseup=function(l){s._onMouseUp(l)},C.addEventListener(document,"mousemove",s.onmousemove),C.addEventListener(document,"mouseup",s.onmouseup),C.preventDefault(n)}},t.prototype._onMouseMove=function(n){this.moving=!0,n=n||window.event;var s=parseFloat(a(n))-this.startMouseX,l=parseFloat(u(n))-this.startMouseY;if(n&&n.ctrlKey===!0){var g=this.frame.clientWidth*.5,T=this.frame.clientHeight*.5,O=(this._startCameraOffset.x||0)-s/g*this.camera.armLength*.8,P=(this._startCameraOffset.y||0)+l/T*this.camera.armLength*.8;this.camera.setOffset(O,P),this._storeMousePosition(n)}else{var _=this.startArmRotation.horizontal+s/200,R=this.startArmRotation.vertical+l/200,I=4,F=Math.sin(I/360*2*Math.PI);Math.abs(Math.sin(_))<F&&(_=Math.round(_/Math.PI)*Math.PI-.001),Math.abs(Math.cos(_))<F&&(_=(Math.round(_/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(R))<F&&(R=Math.round(R/Math.PI)*Math.PI),Math.abs(Math.cos(R))<F&&(R=(Math.round(R/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(_,R)}this.redraw();var W=this.getCameraPosition();this.emit("cameraPositionChange",W),C.preventDefault(n)},t.prototype._onMouseUp=function(n){this.frame.style.cursor="auto",this.leftButtonDown=!1,C.removeEventListener(document,"mousemove",this.onmousemove),C.removeEventListener(document,"mouseup",this.onmouseup),C.preventDefault(n)},t.prototype._onClick=function(n){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var s=this.frame.getBoundingClientRect(),l=a(n)-s.left,g=u(n)-s.top,T=this._dataPointFromXY(l,g);T&&this.onclick_callback(T.point.data)}C.preventDefault(n)}},t.prototype._onTooltip=function(n){var s=300,l=this.frame.getBoundingClientRect(),g=a(n)-l.left,T=u(n)-l.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown){this._hideTooltip();return}if(this.tooltip&&this.tooltip.dataPoint){var O=this._dataPointFromXY(g,T);O!==this.tooltip.dataPoint&&(O?this._showTooltip(O):this._hideTooltip())}else{var P=this;this.tooltipTimeout=setTimeout(function(){P.tooltipTimeout=null;var _=P._dataPointFromXY(g,T);_&&P._showTooltip(_)},s)}}},t.prototype._onTouchStart=function(n){this.touchDown=!0;var s=this;this.ontouchmove=function(l){s._onTouchMove(l)},this.ontouchend=function(l){s._onTouchEnd(l)},C.addEventListener(document,"touchmove",s.ontouchmove),C.addEventListener(document,"touchend",s.ontouchend),this._onMouseDown(n)},t.prototype._onTouchMove=function(n){this._onMouseMove(n)},t.prototype._onTouchEnd=function(n){this.touchDown=!1,C.removeEventListener(document,"touchmove",this.ontouchmove),C.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(n)},t.prototype._onWheel=function(n){n||(n=window.event);var s=0;if(n.wheelDelta?s=n.wheelDelta/120:n.detail&&(s=-n.detail/3),s){var l=this.camera.getArmLength(),g=l*(1-s/10);this.camera.setArmLength(g),this.redraw(),this._hideTooltip()}var T=this.getCameraPosition();this.emit("cameraPositionChange",T),C.preventDefault(n)},t.prototype._insideTriangle=function(n,s){var l=s[0],g=s[1],T=s[2];function O(I){return I>0?1:I<0?-1:0}var P=O((g.x-l.x)*(n.y-l.y)-(g.y-l.y)*(n.x-l.x)),_=O((T.x-g.x)*(n.y-g.y)-(T.y-g.y)*(n.x-g.x)),R=O((l.x-T.x)*(n.y-T.y)-(l.y-T.y)*(n.x-T.x));return(P==0||_==0||P==_)&&(_==0||R==0||_==R)&&(P==0||R==0||P==R)},t.prototype._dataPointFromXY=function(n,s){var l,g=100,T=null,O=null,P=null,_=new y(n,s);if(this.style===t.STYLE.BAR||this.style===t.STYLE.BARCOLOR||this.style===t.STYLE.BARSIZE)for(l=this.dataPoints.length-1;l>=0;l--){T=this.dataPoints[l];var R=T.surfaces;if(R)for(var I=R.length-1;I>=0;I--){var F=R[I],W=F.corners,Y=[W[0].screen,W[1].screen,W[2].screen],X=[W[2].screen,W[3].screen,W[0].screen];if(this._insideTriangle(_,Y)||this._insideTriangle(_,X))return T}}else for(l=0;l<this.dataPoints.length;l++){T=this.dataPoints[l];var q=T.screen;if(q){var Q=Math.abs(n-q.x),J=Math.abs(s-q.y),j=Math.sqrt(Q*Q+J*J);(P===null||j<P)&&j<g&&(P=j,O=T)}}return O},t.prototype.hasBars=function(n){return n==t.STYLE.BAR||n==t.STYLE.BARCOLOR||n==t.STYLE.BARSIZE},t.prototype._showTooltip=function(n){var s,l,g;this.tooltip?(s=this.tooltip.dom.content,l=this.tooltip.dom.line,g=this.tooltip.dom.dot):(s=document.createElement("div"),(0,c.default)(s.style,{},this.tooltipStyle.content),s.style.position="absolute",l=document.createElement("div"),(0,c.default)(l.style,{},this.tooltipStyle.line),l.style.position="absolute",g=document.createElement("div"),(0,c.default)(g.style,{},this.tooltipStyle.dot),g.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:s,line:l,dot:g}}),this._hideTooltip(),this.tooltip.dataPoint=n,typeof this.showTooltip=="function"?s.innerHTML=this.showTooltip(n.point):s.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+n.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+n.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+n.point.z+"</td></tr></table>",s.style.left="0",s.style.top="0",this.frame.appendChild(s),this.frame.appendChild(l),this.frame.appendChild(g);var T=s.offsetWidth,O=s.offsetHeight,P=l.offsetHeight,_=g.offsetWidth,R=g.offsetHeight,I=n.screen.x-T/2;I=Math.min(Math.max(I,10),this.frame.clientWidth-10-T),l.style.left=n.screen.x+"px",l.style.top=n.screen.y-P+"px",s.style.left=I+"px",s.style.top=n.screen.y-P-O+"px",g.style.left=n.screen.x-_/2+"px",g.style.top=n.screen.y-R/2+"px"},t.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var n in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(n)){var s=this.tooltip.dom[n];s&&s.parentNode&&s.parentNode.removeChild(s)}}};function a(n){return"clientX"in n?n.clientX:n.targetTouches[0]&&n.targetTouches[0].clientX||0}function u(n){return"clientY"in n?n.clientY:n.targetTouches[0]&&n.targetTouches[0].clientY||0}t.prototype.setCameraPosition=function(n){v.setCameraPosition(n,this),this.redraw()},t.prototype.setSize=function(n,s){this._setSize(n,s),this.redraw()},L.exports=t},function(L,k,p){p(163),L.exports=p(7).Object.assign},function(L,k,p){var D=p(17);D(D.S+D.F,"Object",{assign:p(164)})},function(L,k,p){"use strict";var D=p(33),c=p(63),b=p(42),x=p(41),C=p(78),E=Object.assign;L.exports=!E||p(28)(function(){var y={},S={},m=Symbol(),v="abcdefghijklmnopqrst";return y[m]=7,v.split("").forEach(function(d){S[d]=d}),E({},y)[m]!=7||Object.keys(E({},S)).join("")!=v})?function(S,m){for(var v=x(S),d=arguments.length,h=1,o=c.f,f=b.f;d>h;)for(var e=C(arguments[h++]),r=o?D(e).concat(o(e)):D(e),i=r.length,t=0,a;i>t;)f.call(e,a=r[t++])&&(v[a]=e[a]);return v}:E},function(L,k,p){L.exports={default:p(166),__esModule:!0}},function(L,k,p){p(167),L.exports=p(7).Math.sign},function(L,k,p){var D=p(17);D(D.S,"Math",{sign:p(168)})},function(L,k){L.exports=Math.sign||function(D){return(D=+D)==0||D!=D?D:D<0?-1:1}},function(L,k,p){L.exports={default:p(170),__esModule:!0}},function(L,k,p){p(171);var D=p(7).Object;L.exports=function(b,x,C){return D.defineProperty(b,x,C)}},function(L,k,p){var D=p(17);D(D.S+D.F*!p(21),"Object",{defineProperty:p(20).f})},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D="string",c="boolean",b="number",x="object",C={fill:{string:D},stroke:{string:D},strokeWidth:{number:b},__type__:{string:D,object:x,undefined:"undefined"}},E={animationAutoStart:{boolean:c,undefined:"undefined"},animationInterval:{number:b},animationPreload:{boolean:c},axisColor:{string:D},backgroundColor:C,xBarWidth:{number:b,undefined:"undefined"},yBarWidth:{number:b,undefined:"undefined"},cameraPosition:{distance:{number:b},horizontal:{number:b},vertical:{number:b},__type__:{object:x}},xCenter:{string:D},yCenter:{string:D},dataColor:C,dotSizeMinFraction:{number:b},dotSizeMaxFraction:{number:b},dotSizeRatio:{number:b},filterLabel:{string:D},gridColor:{string:D},onclick:{function:"function"},keepAspectRatio:{boolean:c},xLabel:{string:D},yLabel:{string:D},zLabel:{string:D},legendLabel:{string:D},xMin:{number:b,undefined:"undefined"},yMin:{number:b,undefined:"undefined"},zMin:{number:b,undefined:"undefined"},xMax:{number:b,undefined:"undefined"},yMax:{number:b,undefined:"undefined"},zMax:{number:b,undefined:"undefined"},showAnimationControls:{boolean:c,undefined:"undefined"},showGrid:{boolean:c},showLegend:{boolean:c,undefined:"undefined"},showPerspective:{boolean:c},showShadow:{boolean:c},showXAxis:{boolean:c},showYAxis:{boolean:c},showZAxis:{boolean:c},xStep:{number:b,undefined:"undefined"},yStep:{number:b,undefined:"undefined"},zStep:{number:b,undefined:"undefined"},style:{number:b,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:c,function:"function"},tooltipStyle:{content:{color:{string:D},background:{string:D},border:{string:D},borderRadius:{string:D},boxShadow:{string:D},padding:{string:D},__type__:{object:x}},line:{borderLeft:{string:D},height:{string:D},width:{string:D},__type__:{object:x}},dot:{border:{string:D},borderRadius:{string:D},height:{string:D},width:{string:D},__type__:{object:x}},__type__:{object:x}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:b,undefined:"undefined"},valueMin:{number:b,undefined:"undefined"},verticalRatio:{number:b},height:{string:D},width:{string:D},__type__:{object:x}};k.allOptions=E},function(L,k,p){"use strict";var D=p(11),c=p(12),b=p(174),x=p(96),C=p(94),E=p(34);function y(){this.dataTable=null}y.prototype.initializeData=function(S,m,v){if(m!==void 0){Array.isArray(m)&&(m=new D(m));var d;if(m instanceof D||m instanceof c)d=m.get();else throw new Error("Array, DataSet, or DataView expected");if(d.length!=0){this.style=v,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=m,this.dataTable=d;var h=this;this._onChange=function(){S.setData(h.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var o=S.hasBars(v);if(o&&(S.defaultXBarWidth!==void 0?this.xBarWidth=S.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(d,this.colX)||1,S.defaultYBarWidth!==void 0?this.yBarWidth=S.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(d,this.colY)||1),this._initializeRange(d,this.colX,S,o),this._initializeRange(d,this.colY,S,o),this._initializeRange(d,this.colZ,S,!1),d[0].hasOwnProperty("style")){this.colValue="style";var f=this.getColumnRange(d,this.colValue);this._setRangeDefaults(f,S.defaultValueMin,S.defaultValueMax),this.valueRange=f}var e=this.getDataTable();e[0].hasOwnProperty("filter")&&this.dataFilter===void 0&&(this.dataFilter=new x(this,"filter",S),this.dataFilter.setOnLoadCallback(function(){S.redraw()}));var r;return this.dataFilter?r=this.dataFilter._getDataPoints():r=this._getDataPoints(this.getDataTable()),r}}},y.prototype._collectRangeSettings=function(S,m){var v=["x","y","z"].indexOf(S);if(v==-1)throw new Error("Column '"+S+"' invalid");var d=S.toUpperCase();return{barWidth:this[S+"BarWidth"],min:m["default"+d+"Min"],max:m["default"+d+"Max"],step:m["default"+d+"Step"],range_label:S+"Range",step_label:S+"Step"}},y.prototype._initializeRange=function(S,m,v,d){var h=5,o=this._collectRangeSettings(m,v),f=this.getColumnRange(S,m);d&&m!="z"&&f.expand(o.barWidth/2),this._setRangeDefaults(f,o.min,o.max),this[o.range_label]=f,this[o.step_label]=o.step!==void 0?o.step:f.range()/h},y.prototype.getDistinctValues=function(S,m){m===void 0&&(m=this.dataTable);for(var v=[],d=0;d<m.length;d++){var h=m[d][S]||0;v.indexOf(h)===-1&&v.push(h)}return v.sort(function(o,f){return o-f})},y.prototype.getSmallestDifference=function(S,m){for(var v=this.getDistinctValues(S,m),d=null,h=1;h<v.length;h++){var o=v[h]-v[h-1];(d==null||d>o)&&(d=o)}return d},y.prototype.getColumnRange=function(S,m){for(var v=new b,d=0;d<S.length;d++){var h=S[d][m];v.adjust(h)}return v},y.prototype.getNumberOfRows=function(){return this.dataTable.length},y.prototype._setRangeDefaults=function(S,m,v){m!==void 0&&(S.min=m),v!==void 0&&(S.max=v),S.max<=S.min&&(S.max=S.min+1)},y.prototype.getDataTable=function(){return this.dataTable},y.prototype.getDataSet=function(){return this.dataSet},y.prototype.getDataPoints=function(S){for(var m=[],v=0;v<S.length;v++){var d=new E;d.x=S[v][this.colX]||0,d.y=S[v][this.colY]||0,d.z=S[v][this.colZ]||0,d.data=S[v],this.colValue!==void 0&&(d.value=S[v][this.colValue]||0);var h={};h.point=d,h.bottom=new E(d.x,d.y,this.zRange.min),h.trans=void 0,h.screen=void 0,m.push(h)}return m},y.prototype.initDataAsMatrix=function(S){var m,v,d,h,o=this.getDistinctValues(this.colX,S),f=this.getDistinctValues(this.colY,S),e=this.getDataPoints(S),r=[];for(d=0;d<e.length;d++){h=e[d];var i=o.indexOf(h.point.x),t=f.indexOf(h.point.y);r[i]===void 0&&(r[i]=[]),r[i][t]=h}for(m=0;m<r.length;m++)for(v=0;v<r[m].length;v++)r[m][v]&&(r[m][v].pointRight=m<r.length-1?r[m+1][v]:void 0,r[m][v].pointTop=v<r[m].length-1?r[m][v+1]:void 0,r[m][v].pointCross=m<r.length-1&&v<r[m].length-1?r[m+1][v+1]:void 0);return e},y.prototype.getInfo=function(){var S=this.dataFilter;if(S)return S.getLabel()+": "+S.getSelectedValue()},y.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},y.prototype._getDataPoints=function(S){var m=[];if(this.style===C.STYLE.GRID||this.style===C.STYLE.SURFACE)m=this.initDataAsMatrix(S);else if(this._checkValueField(S),m=this.getDataPoints(S),this.style===C.STYLE.LINE)for(var v=0;v<m.length;v++)v>0&&(m[v-1].pointNext=m[v]);return m},y.prototype._checkValueField=function(S){var m=this.style===C.STYLE.BARCOLOR||this.style===C.STYLE.BARSIZE||this.style===C.STYLE.DOTCOLOR||this.style===C.STYLE.DOTSIZE;if(m){if(this.colValue===void 0)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(S[0][this.colValue]===void 0)throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},L.exports=y},function(L,k,p){"use strict";function D(){this.min=void 0,this.max=void 0}D.prototype.adjust=function(c){c!==void 0&&((this.min===void 0||this.min>c)&&(this.min=c),(this.max===void 0||this.max<c)&&(this.max=c))},D.prototype.combine=function(c){this.add(c.min),this.add(c.max)},D.prototype.expand=function(c){if(c!==void 0){var b=this.min-c,x=this.max+c;if(b>x)throw new Error("Passed expansion value makes range invalid");this.min=b,this.max=x}},D.prototype.range=function(){return this.max-this.min},D.prototype.center=function(){return(this.min+this.max)/2},L.exports=D},function(L,k,p){"use strict";var D,c,b;(function(x){c=[],D=x,b=typeof D=="function"?D.apply(k,c):D,b!==void 0&&(L.exports=b)})(function(){var x=null;return function C(E,y){var S=y||{preventDefault:!1};if(E.Manager){var m=E,v=function(e,r){var i=Object.create(S);return r&&m.assign(i,r),C(new m(e,i),i)};return m.assign(v,m),v.Manager=function(e,r){var i=Object.create(S);return r&&m.assign(i,r),C(new m.Manager(e,i),i)},v}var d=Object.create(E),h=E.element;h.hammer||(h.hammer=[]),h.hammer.push(d),E.on("hammer.input",function(e){(S.preventDefault===!0||S.preventDefault===e.pointerType)&&e.preventDefault(),e.isFirst&&(x=e.target)}),d._handlers={},d.on=function(e,r){return o(e).forEach(function(i){var t=d._handlers[i];t||(d._handlers[i]=t=[],E.on(i,f)),t.push(r)}),d},d.off=function(e,r){return o(e).forEach(function(i){var t=d._handlers[i];t&&(t=r?t.filter(function(a){return a!==r}):[],t.length>0?d._handlers[i]=t:(E.off(i,f),delete d._handlers[i]))}),d},d.emit=function(e,r){x=r.target,E.emit(e,r)},d.destroy=function(){var e=E.element.hammer,r=e.indexOf(d);r!==-1&&e.splice(r,1),e.length||delete E.element.hammer,d._handlers={},E.destroy()};function o(e){return e.match(/[^ ]+/g)}function f(e){if(e.type!=="hammer.input"){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var r=!1;e.stopPropagation=function(){r=!0};var i=e.srcEvent.stopPropagation.bind(e.srcEvent);typeof i=="function"&&(e.srcEvent.stopPropagation=function(){i(),e.stopPropagation()}),e.firstTarget=x;for(var t=x;t&&!r;){var a=t.hammer;if(a){for(var u,n=0;n<a.length;n++)if(u=a[n]._handlers[e.type],u)for(var s=0;s<u.length&&!r;s++)u[s](e)}t=t.parentNode}}return d}})},function(L,k,p){var D;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(c,b,x,C){"use strict";var E=["","webkit","Moz","MS","ms","o"],y=b.createElement("div"),S="function",m=Math.round,v=Math.abs,d=Date.now;function h(z,B,V){return setTimeout(u(z,V),B)}function o(z,B,V){return Array.isArray(z)?(f(z,V[B],V),!0):!1}function f(z,B,V){var Z;if(z)if(z.forEach)z.forEach(B,V);else if(z.length!==C)for(Z=0;Z<z.length;)B.call(V,z[Z],Z,z),Z++;else for(Z in z)z.hasOwnProperty(Z)&&B.call(V,z[Z],Z,z)}function e(z,B,V){var Z="DEPRECATED METHOD: "+B+`
`+V+` AT 
`;return function(){var ie=new Error("get-stack-trace"),le=ie&&ie.stack?ie.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ge=c.console&&(c.console.warn||c.console.log);return ge&&ge.call(c.console,Z,le),z.apply(this,arguments)}}var r;typeof Object.assign!="function"?r=function(B){if(B===C||B===null)throw new TypeError("Cannot convert undefined or null to object");for(var V=Object(B),Z=1;Z<arguments.length;Z++){var ie=arguments[Z];if(ie!==C&&ie!==null)for(var le in ie)ie.hasOwnProperty(le)&&(V[le]=ie[le])}return V}:r=Object.assign;var i=e(function(B,V,Z){for(var ie=Object.keys(V),le=0;le<ie.length;)(!Z||Z&&B[ie[le]]===C)&&(B[ie[le]]=V[ie[le]]),le++;return B},"extend","Use `assign`."),t=e(function(B,V){return i(B,V,!0)},"merge","Use `assign`.");function a(z,B,V){var Z=B.prototype,ie;ie=z.prototype=Object.create(Z),ie.constructor=z,ie._super=Z,V&&r(ie,V)}function u(z,B){return function(){return z.apply(B,arguments)}}function n(z,B){return typeof z==S?z.apply(B&&B[0]||C,B):z}function s(z,B){return z===C?B:z}function l(z,B,V){f(P(B),function(Z){z.addEventListener(Z,V,!1)})}function g(z,B,V){f(P(B),function(Z){z.removeEventListener(Z,V,!1)})}function T(z,B){for(;z;){if(z==B)return!0;z=z.parentNode}return!1}function O(z,B){return z.indexOf(B)>-1}function P(z){return z.trim().split(/\s+/g)}function _(z,B,V){if(z.indexOf&&!V)return z.indexOf(B);for(var Z=0;Z<z.length;){if(V&&z[Z][V]==B||!V&&z[Z]===B)return Z;Z++}return-1}function R(z){return Array.prototype.slice.call(z,0)}function I(z,B,V){for(var Z=[],ie=[],le=0;le<z.length;){var ge=B?z[le][B]:z[le];_(ie,ge)<0&&Z.push(z[le]),ie[le]=ge,le++}return V&&(B?Z=Z.sort(function(He,Ye){return He[B]>Ye[B]}):Z=Z.sort()),Z}function F(z,B){for(var V,Z,ie=B[0].toUpperCase()+B.slice(1),le=0;le<E.length;){if(V=E[le],Z=V?V+ie:B,Z in z)return Z;le++}return C}var W=1;function Y(){return W++}function X(z){var B=z.ownerDocument||z;return B.defaultView||B.parentWindow||c}var q=/mobile|tablet|ip(ad|hone|od)|android/i,Q="ontouchstart"in c,J=F(c,"PointerEvent")!==C,j=Q&&q.test(navigator.userAgent),G="touch",U="pen",$="mouse",ne="kinect",se=25,te=1,he=2,de=4,ve=8,De=1,_e=2,Ce=4,ye=8,Ee=16,Ne=_e|Ce,Re=ye|Ee,Me=Ne|Re,pe=["x","y"],re=["clientX","clientY"];function ae(z,B){var V=this;this.manager=z,this.callback=B,this.element=z.element,this.target=z.options.inputTarget,this.domHandler=function(Z){n(z.options.enable,[z])&&V.handler(Z)},this.init()}ae.prototype={handler:function(){},init:function(){this.evEl&&l(this.element,this.evEl,this.domHandler),this.evTarget&&l(this.target,this.evTarget,this.domHandler),this.evWin&&l(X(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(X(this.element),this.evWin,this.domHandler)}};function ce(z){var B,V=z.options.inputClass;return V?B=V:J?B=jt:j?B=Ke:Q?B=Zt:B=ht,new B(z,be)}function be(z,B,V){var Z=V.pointers.length,ie=V.changedPointers.length,le=B&te&&Z-ie===0,ge=B&(de|ve)&&Z-ie===0;V.isFirst=!!le,V.isFinal=!!ge,le&&(z.session={}),V.eventType=B,Te(z,V),z.emit("hammer.input",V),z.recognize(V),z.session.prevInput=V}function Te(z,B){var V=z.session,Z=B.pointers,ie=Z.length;V.firstInput||(V.firstInput=Dt(B)),ie>1&&!V.firstMultiple?V.firstMultiple=Dt(B):ie===1&&(V.firstMultiple=!1);var le=V.firstInput,ge=V.firstMultiple,Fe=ge?ge.center:le.center,He=B.center=Mt(Z);B.timeStamp=d(),B.deltaTime=B.timeStamp-le.timeStamp,B.angle=Ot(Fe,He),B.distance=We(Fe,He),ue(V,B),B.offsetDirection=Vt(B.deltaX,B.deltaY);var Ye=Gt(B.deltaTime,B.deltaX,B.deltaY);B.overallVelocityX=Ye.x,B.overallVelocityY=Ye.y,B.overallVelocity=v(Ye.x)>v(Ye.y)?Ye.x:Ye.y,B.scale=ge?kt(ge.pointers,Z):1,B.rotation=ge?Ut(ge.pointers,Z):0,B.maxPointers=V.prevInput?B.pointers.length>V.prevInput.maxPointers?B.pointers.length:V.prevInput.maxPointers:B.pointers.length,Le(V,B);var Je=z.element;T(B.srcEvent.target,Je)&&(Je=B.srcEvent.target),B.target=Je}function ue(z,B){var V=B.center,Z=z.offsetDelta||{},ie=z.prevDelta||{},le=z.prevInput||{};(B.eventType===te||le.eventType===de)&&(ie=z.prevDelta={x:le.deltaX||0,y:le.deltaY||0},Z=z.offsetDelta={x:V.x,y:V.y}),B.deltaX=ie.x+(V.x-Z.x),B.deltaY=ie.y+(V.y-Z.y)}function Le(z,B){var V=z.lastInterval||B,Z=B.timeStamp-V.timeStamp,ie,le,ge,Fe;if(B.eventType!=ve&&(Z>se||V.velocity===C)){var He=B.deltaX-V.deltaX,Ye=B.deltaY-V.deltaY,Je=Gt(Z,He,Ye);le=Je.x,ge=Je.y,ie=v(Je.x)>v(Je.y)?Je.x:Je.y,Fe=Vt(He,Ye),z.lastInterval=B}else ie=V.velocity,le=V.velocityX,ge=V.velocityY,Fe=V.direction;B.velocity=ie,B.velocityX=le,B.velocityY=ge,B.direction=Fe}function Dt(z){for(var B=[],V=0;V<z.pointers.length;)B[V]={clientX:m(z.pointers[V].clientX),clientY:m(z.pointers[V].clientY)},V++;return{timeStamp:d(),pointers:B,center:Mt(B),deltaX:z.deltaX,deltaY:z.deltaY}}function Mt(z){var B=z.length;if(B===1)return{x:m(z[0].clientX),y:m(z[0].clientY)};for(var V=0,Z=0,ie=0;ie<B;)V+=z[ie].clientX,Z+=z[ie].clientY,ie++;return{x:m(V/B),y:m(Z/B)}}function Gt(z,B,V){return{x:B/z||0,y:V/z||0}}function Vt(z,B){return z===B?De:v(z)>=v(B)?z<0?_e:Ce:B<0?ye:Ee}function We(z,B,V){V||(V=pe);var Z=B[V[0]]-z[V[0]],ie=B[V[1]]-z[V[1]];return Math.sqrt(Z*Z+ie*ie)}function Ot(z,B,V){V||(V=pe);var Z=B[V[0]]-z[V[0]],ie=B[V[1]]-z[V[1]];return Math.atan2(ie,Z)*180/Math.PI}function Ut(z,B){return Ot(B[1],B[0],re)+Ot(z[1],z[0],re)}function kt(z,B){return We(B[0],B[1],re)/We(z[0],z[1],re)}var Oe={mousedown:te,mousemove:he,mouseup:de},ai="mousedown",hi="mousemove mouseup";function ht(){this.evEl=ai,this.evWin=hi,this.pressed=!1,ae.apply(this,arguments)}a(ht,ae,{handler:function(B){var V=Oe[B.type];V&te&&B.button===0&&(this.pressed=!0),V&he&&B.which!==1&&(V=de),this.pressed&&(V&de&&(this.pressed=!1),this.callback(this.manager,V,{pointers:[B],changedPointers:[B],pointerType:$,srcEvent:B}))}});var Xt={pointerdown:te,pointermove:he,pointerup:de,pointercancel:ve,pointerout:ve},Pt={2:G,3:U,4:$,5:ne},di="pointerdown",wt="pointermove pointerup pointercancel";c.MSPointerEvent&&!c.PointerEvent&&(di="MSPointerDown",wt="MSPointerMove MSPointerUp MSPointerCancel");function jt(){this.evEl=di,this.evWin=wt,ae.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}a(jt,ae,{handler:function(B){var V=this.store,Z=!1,ie=B.type.toLowerCase().replace("ms",""),le=Xt[ie],ge=Pt[B.pointerType]||B.pointerType,Fe=ge==G,He=_(V,B.pointerId,"pointerId");le&te&&(B.button===0||Fe)?He<0&&(V.push(B),He=V.length-1):le&(de|ve)&&(Z=!0),!(He<0)&&(V[He]=B,this.callback(this.manager,le,{pointers:V,changedPointers:[B],pointerType:ge,srcEvent:B}),Z&&V.splice(He,1))}});var _t={touchstart:te,touchmove:he,touchend:de,touchcancel:ve},yi="touchstart",xt="touchstart touchmove touchend touchcancel";function Rt(){this.evTarget=yi,this.evWin=xt,this.started=!1,ae.apply(this,arguments)}a(Rt,ae,{handler:function(B){var V=_t[B.type];if(V===te&&(this.started=!0),!!this.started){var Z=fe.call(this,B,V);V&(de|ve)&&Z[0].length-Z[1].length===0&&(this.started=!1),this.callback(this.manager,V,{pointers:Z[0],changedPointers:Z[1],pointerType:G,srcEvent:B})}}});function fe(z,B){var V=R(z.touches),Z=R(z.changedTouches);return B&(de|ve)&&(V=I(V.concat(Z),"identifier",!0)),[V,Z]}var bi={touchstart:te,touchmove:he,touchend:de,touchcancel:ve},wi="touchstart touchmove touchend touchcancel";function Ke(){this.evTarget=wi,this.targetIds={},ae.apply(this,arguments)}a(Ke,ae,{handler:function(B){var V=bi[B.type],Z=Kt.call(this,B,V);Z&&this.callback(this.manager,V,{pointers:Z[0],changedPointers:Z[1],pointerType:G,srcEvent:B})}});function Kt(z,B){var V=R(z.touches),Z=this.targetIds;if(B&(te|he)&&V.length===1)return Z[V[0].identifier]=!0,[V,V];var ie,le,ge=R(z.changedTouches),Fe=[],He=this.target;if(le=V.filter(function(Ye){return T(Ye.target,He)}),B===te)for(ie=0;ie<le.length;)Z[le[ie].identifier]=!0,ie++;for(ie=0;ie<ge.length;)Z[ge[ie].identifier]&&Fe.push(ge[ie]),B&(de|ve)&&delete Z[ge[ie].identifier],ie++;if(Fe.length)return[I(le.concat(Fe),"identifier",!0),Fe]}var ke=2500,ft=25;function Zt(){ae.apply(this,arguments);var z=u(this.handler,this);this.touch=new Ke(this.manager,z),this.mouse=new ht(this.manager,z),this.primaryTouch=null,this.lastTouches=[]}a(Zt,ae,{handler:function(B,V,Z){var ie=Z.pointerType==G,le=Z.pointerType==$;if(!(le&&Z.sourceCapabilities&&Z.sourceCapabilities.firesTouchEvents)){if(ie)Ue.call(this,V,Z);else if(le&&$e.call(this,Z))return;this.callback(B,V,Z)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ue(z,B){z&te?(this.primaryTouch=B.changedPointers[0].identifier,Ze.call(this,B)):z&(de|ve)&&Ze.call(this,B)}function Ze(z){var B=z.changedPointers[0];if(B.identifier===this.primaryTouch){var V={x:B.clientX,y:B.clientY};this.lastTouches.push(V);var Z=this.lastTouches,ie=function(){var le=Z.indexOf(V);le>-1&&Z.splice(le,1)};setTimeout(ie,ke)}}function $e(z){for(var B=z.srcEvent.clientX,V=z.srcEvent.clientY,Z=0;Z<this.lastTouches.length;Z++){var ie=this.lastTouches[Z],le=Math.abs(B-ie.x),ge=Math.abs(V-ie.y);if(le<=ft&&ge<=ft)return!0}return!1}var Ae=F(y.style,"touchAction"),Ge=Ae!==C,Qe="compute",nt="auto",$t="manipulation",dt="none",et="pan-x",st="pan-y",Ct=Nt();function Qt(z,B){this.manager=z,this.set(B)}Qt.prototype={set:function(z){z==Qe&&(z=this.compute()),Ge&&this.manager.element.style&&Ct[z]&&(this.manager.element.style[Ae]=z),this.actions=z.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var z=[];return f(this.manager.recognizers,function(B){n(B.options.enable,[B])&&(z=z.concat(B.getTouchAction()))}),ct(z.join(" "))},preventDefaults:function(z){var B=z.srcEvent,V=z.offsetDirection;if(this.manager.session.prevented){B.preventDefault();return}var Z=this.actions,ie=O(Z,dt)&&!Ct[dt],le=O(Z,st)&&!Ct[st],ge=O(Z,et)&&!Ct[et];if(ie){var Fe=z.pointers.length===1,He=z.distance<2,Ye=z.deltaTime<250;if(Fe&&He&&Ye)return}if(!(ge&&le)&&(ie||le&&V&Ne||ge&&V&Re))return this.preventSrc(B)},preventSrc:function(z){this.manager.session.prevented=!0,z.preventDefault()}};function ct(z){if(O(z,dt))return dt;var B=O(z,et),V=O(z,st);return B&&V?dt:B||V?B?et:st:O(z,$t)?$t:nt}function Nt(){if(!Ge)return!1;var z={},B=c.CSS&&c.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(V){z[V]=B?c.CSS.supports("touch-action",V):!0}),z}var St=1,Ve=2,vt=4,rt=8,Se=rt,ot=16,Xe=32;function tt(z){this.options=r({},this.defaults,z||{}),this.id=Y(),this.manager=null,this.options.enable=s(this.options.enable,!0),this.state=St,this.simultaneous={},this.requireFail=[]}tt.prototype={defaults:{},set:function(z){return r(this.options,z),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(z){if(o(z,"recognizeWith",this))return this;var B=this.simultaneous;return z=It(z,this),B[z.id]||(B[z.id]=z,z.recognizeWith(this)),this},dropRecognizeWith:function(z){return o(z,"dropRecognizeWith",this)?this:(z=It(z,this),delete this.simultaneous[z.id],this)},requireFailure:function(z){if(o(z,"requireFailure",this))return this;var B=this.requireFail;return z=It(z,this),_(B,z)===-1&&(B.push(z),z.requireFailure(this)),this},dropRequireFailure:function(z){if(o(z,"dropRequireFailure",this))return this;z=It(z,this);var B=_(this.requireFail,z);return B>-1&&this.requireFail.splice(B,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(z){return!!this.simultaneous[z.id]},emit:function(z){var B=this,V=this.state;function Z(ie){B.manager.emit(ie,z)}V<rt&&Z(B.options.event+li(V)),Z(B.options.event),z.additionalEvent&&Z(z.additionalEvent),V>=rt&&Z(B.options.event+li(V))},tryEmit:function(z){if(this.canEmit())return this.emit(z);this.state=Xe},canEmit:function(){for(var z=0;z<this.requireFail.length;){if(!(this.requireFail[z].state&(Xe|St)))return!1;z++}return!0},recognize:function(z){var B=r({},z);if(!n(this.options.enable,[this,B])){this.reset(),this.state=Xe;return}this.state&(Se|ot|Xe)&&(this.state=St),this.state=this.process(B),this.state&(Ve|vt|rt|ot)&&this.tryEmit(B)},process:function(z){},getTouchAction:function(){},reset:function(){}};function li(z){return z&ot?"cancel":z&rt?"end":z&vt?"move":z&Ve?"start":""}function Jt(z){return z==Ee?"down":z==ye?"up":z==_e?"left":z==Ce?"right":""}function It(z,B){var V=B.manager;return V?V.get(z):z}function je(){tt.apply(this,arguments)}a(je,tt,{defaults:{pointers:1},attrTest:function(z){var B=this.options.pointers;return B===0||z.pointers.length===B},process:function(z){var B=this.state,V=z.eventType,Z=B&(Ve|vt),ie=this.attrTest(z);return Z&&(V&ve||!ie)?B|ot:Z||ie?V&de?B|rt:B&Ve?B|vt:Ve:Xe}});function At(){je.apply(this,arguments),this.pX=null,this.pY=null}a(At,je,{defaults:{event:"pan",threshold:10,pointers:1,direction:Me},getTouchAction:function(){var z=this.options.direction,B=[];return z&Ne&&B.push(st),z&Re&&B.push(et),B},directionTest:function(z){var B=this.options,V=!0,Z=z.distance,ie=z.direction,le=z.deltaX,ge=z.deltaY;return ie&B.direction||(B.direction&Ne?(ie=le===0?De:le<0?_e:Ce,V=le!=this.pX,Z=Math.abs(z.deltaX)):(ie=ge===0?De:ge<0?ye:Ee,V=ge!=this.pY,Z=Math.abs(z.deltaY))),z.direction=ie,V&&Z>B.threshold&&ie&B.direction},attrTest:function(z){return je.prototype.attrTest.call(this,z)&&(this.state&Ve||!(this.state&Ve)&&this.directionTest(z))},emit:function(z){this.pX=z.deltaX,this.pY=z.deltaY;var B=Jt(z.direction);B&&(z.additionalEvent=this.options.event+B),this._super.emit.call(this,z)}});function Lt(){je.apply(this,arguments)}a(Lt,je,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[dt]},attrTest:function(z){return this._super.attrTest.call(this,z)&&(Math.abs(z.scale-1)>this.options.threshold||this.state&Ve)},emit:function(z){if(z.scale!==1){var B=z.scale<1?"in":"out";z.additionalEvent=this.options.event+B}this._super.emit.call(this,z)}});function zt(){tt.apply(this,arguments),this._timer=null,this._input=null}a(zt,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[nt]},process:function(z){var B=this.options,V=z.pointers.length===B.pointers,Z=z.distance<B.threshold,ie=z.deltaTime>B.time;if(this._input=z,!Z||!V||z.eventType&(de|ve)&&!ie)this.reset();else if(z.eventType&te)this.reset(),this._timer=h(function(){this.state=Se,this.tryEmit()},B.time,this);else if(z.eventType&de)return Se;return Xe},reset:function(){clearTimeout(this._timer)},emit:function(z){this.state===Se&&(z&&z.eventType&de?this.manager.emit(this.options.event+"up",z):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}});function qt(){je.apply(this,arguments)}a(qt,je,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[dt]},attrTest:function(z){return this._super.attrTest.call(this,z)&&(Math.abs(z.rotation)>this.options.threshold||this.state&Ve)}});function ei(){je.apply(this,arguments)}a(ei,je,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ne|Re,pointers:1},getTouchAction:function(){return At.prototype.getTouchAction.call(this)},attrTest:function(z){var B=this.options.direction,V;return B&(Ne|Re)?V=z.overallVelocity:B&Ne?V=z.overallVelocityX:B&Re&&(V=z.overallVelocityY),this._super.attrTest.call(this,z)&&B&z.offsetDirection&&z.distance>this.options.threshold&&z.maxPointers==this.options.pointers&&v(V)>this.options.velocity&&z.eventType&de},emit:function(z){var B=Jt(z.offsetDirection);B&&this.manager.emit(this.options.event+B,z),this.manager.emit(this.options.event,z)}});function Ft(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}a(Ft,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[$t]},process:function(z){var B=this.options,V=z.pointers.length===B.pointers,Z=z.distance<B.threshold,ie=z.deltaTime<B.time;if(this.reset(),z.eventType&te&&this.count===0)return this.failTimeout();if(Z&&ie&&V){if(z.eventType!=de)return this.failTimeout();var le=this.pTime?z.timeStamp-this.pTime<B.interval:!0,ge=!this.pCenter||We(this.pCenter,z.center)<B.posThreshold;this.pTime=z.timeStamp,this.pCenter=z.center,!ge||!le?this.count=1:this.count+=1,this._input=z;var Fe=this.count%B.taps;if(Fe===0)return this.hasRequireFailures()?(this._timer=h(function(){this.state=Se,this.tryEmit()},B.interval,this),Ve):Se}return Xe},failTimeout:function(){return this._timer=h(function(){this.state=Xe},this.options.interval,this),Xe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Se&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function lt(z,B){return B=B||{},B.recognizers=s(B.recognizers,lt.defaults.preset),new ii(z,B)}lt.VERSION="2.0.7",lt.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[qt,{enable:!1}],[Lt,{enable:!1},["rotate"]],[ei,{direction:Ne}],[At,{direction:Ne},["swipe"]],[Ft],[Ft,{event:"doubletap",taps:2},["tap"]],[zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var xi=1,ti=2;function ii(z,B){this.options=r({},lt.defaults,B||{}),this.options.inputTarget=this.options.inputTarget||z,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=z,this.input=ce(this),this.touchAction=new Qt(this,this.options.touchAction),pt(this,!0),f(this.options.recognizers,function(V){var Z=this.add(new V[0](V[1]));V[2]&&Z.recognizeWith(V[2]),V[3]&&Z.requireFailure(V[3])},this)}ii.prototype={set:function(z){return r(this.options,z),z.touchAction&&this.touchAction.update(),z.inputTarget&&(this.input.destroy(),this.input.target=z.inputTarget,this.input.init()),this},stop:function(z){this.session.stopped=z?ti:xi},recognize:function(z){var B=this.session;if(!B.stopped){this.touchAction.preventDefaults(z);var V,Z=this.recognizers,ie=B.curRecognizer;(!ie||ie&&ie.state&Se)&&(ie=B.curRecognizer=null);for(var le=0;le<Z.length;)V=Z[le],B.stopped!==ti&&(!ie||V==ie||V.canRecognizeWith(ie))?V.recognize(z):V.reset(),!ie&&V.state&(Ve|vt|rt)&&(ie=B.curRecognizer=V),le++}},get:function(z){if(z instanceof tt)return z;for(var B=this.recognizers,V=0;V<B.length;V++)if(B[V].options.event==z)return B[V];return null},add:function(z){if(o(z,"add",this))return this;var B=this.get(z.options.event);return B&&this.remove(B),this.recognizers.push(z),z.manager=this,this.touchAction.update(),z},remove:function(z){if(o(z,"remove",this))return this;if(z=this.get(z),z){var B=this.recognizers,V=_(B,z);V!==-1&&(B.splice(V,1),this.touchAction.update())}return this},on:function(z,B){if(z!==C&&B!==C){var V=this.handlers;return f(P(z),function(Z){V[Z]=V[Z]||[],V[Z].push(B)}),this}},off:function(z,B){if(z!==C){var V=this.handlers;return f(P(z),function(Z){B?V[Z]&&V[Z].splice(_(V[Z],B),1):delete V[Z]}),this}},emit:function(z,B){this.options.domEvents&&Bt(z,B);var V=this.handlers[z]&&this.handlers[z].slice();if(!(!V||!V.length)){B.type=z,B.preventDefault=function(){B.srcEvent.preventDefault()};for(var Z=0;Z<V.length;)V[Z](B),Z++}},destroy:function(){this.element&&pt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function pt(z,B){var V=z.element;if(V.style){var Z;f(z.options.cssProps,function(ie,le){Z=F(V.style,le),B?(z.oldCssProps[Z]=V.style[Z],V.style[Z]=ie):V.style[Z]=z.oldCssProps[Z]||""}),B||(z.oldCssProps={})}}function Bt(z,B){var V=b.createEvent("Event");V.initEvent(z,!0,!0),V.gesture=B,B.target.dispatchEvent(V)}r(lt,{INPUT_START:te,INPUT_MOVE:he,INPUT_END:de,INPUT_CANCEL:ve,STATE_POSSIBLE:St,STATE_BEGAN:Ve,STATE_CHANGED:vt,STATE_ENDED:rt,STATE_RECOGNIZED:Se,STATE_CANCELLED:ot,STATE_FAILED:Xe,DIRECTION_NONE:De,DIRECTION_LEFT:_e,DIRECTION_RIGHT:Ce,DIRECTION_UP:ye,DIRECTION_DOWN:Ee,DIRECTION_HORIZONTAL:Ne,DIRECTION_VERTICAL:Re,DIRECTION_ALL:Me,Manager:ii,Input:ae,TouchAction:Qt,TouchInput:Ke,MouseInput:ht,PointerEventInput:jt,TouchMouseInput:Zt,SingleTouchInput:Rt,Recognizer:tt,AttrRecognizer:je,Tap:Ft,Pan:At,Swipe:ei,Pinch:Lt,Rotate:qt,Press:zt,on:l,off:g,each:f,merge:t,extend:i,assign:r,inherit:a,bindFn:u,prefixed:F});var ui=typeof c<"u"?c:typeof self<"u"?self:{};ui.Hammer=lt,D=(function(){return lt}).call(k,p,k,L),D!==C&&(L.exports=D)})(window,document,"Hammer")},function(L,k,p){"use strict";k.util=p(2),k.DOMutil=p(14),k.DataSet=p(11),k.DataView=p(12),k.Queue=p(43),k.Timeline=p(178),k.Graph2d=p(180),k.timeline={Core:p(65),DateUtil:p(36),Range:p(64),stack:p(100),TimeStep:p(66),components:{items:{Item:p(38),BackgroundItem:p(103),BoxItem:p(101),PointItem:p(102),RangeItem:p(70)},BackgroundGroup:p(69),Component:p(16),CurrentTime:p(67),CustomTime:p(46),DataAxis:p(107),DataScale:p(108),GraphGroup:p(109),Group:p(68),ItemSet:p(99),Legend:p(112),LineGraph:p(106),TimeAxis:p(45)}},k.moment=p(9),k.Hammer=p(10),k.keycharm=p(35)},function(L,k,p){"use strict";var D=p(9),c=p(2),b=p(11),x=p(12),C=p(64),E=p(65),y=p(45),S=p(67),m=p(46),v=p(99),d=p(15).printStyle,h=p(105).allOptions,o=p(105).configureOptions,f=p(71).default,e=p(15).default;function r(u,n,s,l){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(s)||s instanceof b||s instanceof x)&&s instanceof Object){var g=l;l=s,s=g}l&&l.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var T=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:D,width:null,height:null,maxHeight:null,minHeight:null},this.options=c.deepExtend({},this.defaultOptions),this._create(u),!l||l&&typeof l.rtl>"u"){this.dom.root.style.visibility="hidden";for(var O,P=this.dom.root;!O&&P;)O=window.getComputedStyle(P,null).direction,P=P.parentElement;this.options.rtl=O&&O.toLowerCase()=="rtl"}else this.options.rtl=l.rtl;this.options.rollingMode=l&&l.rollingMode,this.options.onInitialDrawComplete=l&&l.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return T.timeAxis.step.scale},getStep:function(){return T.timeAxis.step.step},toScreen:T._toScreen.bind(T),toGlobalScreen:T._toGlobalScreen.bind(T),toTime:T._toTime.bind(T),toGlobalTime:T._toGlobalTime.bind(T)}},this.range=new C(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new y(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new S(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new v(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(_){T.emit("click",T.getEventProperties(_))},this.dom.root.ondblclick=function(_){T.emit("doubleClick",T.getEventProperties(_))},this.dom.root.oncontextmenu=function(_){T.emit("contextmenu",T.getEventProperties(_))},this.dom.root.onmouseover=function(_){T.emit("mouseOver",T.getEventProperties(_))},window.PointerEvent?(this.dom.root.onpointerdown=function(_){T.emit("mouseDown",T.getEventProperties(_))},this.dom.root.onpointermove=function(_){T.emit("mouseMove",T.getEventProperties(_))},this.dom.root.onpointerup=function(_){T.emit("mouseUp",T.getEventProperties(_))}):(this.dom.root.onmousemove=function(_){T.emit("mouseMove",T.getEventProperties(_))},this.dom.root.onmousedown=function(_){T.emit("mouseDown",T.getEventProperties(_))},this.dom.root.onmouseup=function(_){T.emit("mouseUp",T.getEventProperties(_))}),this.initialFitDone=!1,this.on("changed",function(){if(!(this.itemsData==null||this.options.rollingMode)){if(!T.initialFitDone)if(T.initialFitDone=!0,T.options.start!=null||T.options.end!=null){if(T.options.start==null||T.options.end==null)var _=T.getItemRange();var R=T.options.start!=null?T.options.start:_.min,I=T.options.end!=null?T.options.end:_.max;T.setWindow(R,I,{animation:!1})}else T.fit({animation:!1});!T.initialDrawDone&&T.initialRangeChangeDone&&(T.initialDrawDone=!0,T.dom.root.style.visibility="visible",T.options.onInitialDrawComplete&&setTimeout(function(){return T.options.onInitialDrawComplete()},0))}}),l&&this.setOptions(l),s&&this.setGroups(s),n&&this.setItems(n),this._redraw()}r.prototype=new E,r.prototype._createConfigurator=function(){return new f(this,this.dom.container,o)},r.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},r.prototype.setOptions=function(u){var n=e.validate(u,h);if(n===!0&&console.log("%cErrors have been found in the supplied options object.",d),E.prototype.setOptions.call(this,u),"type"in u&&u.type!==this.options.type){this.options.type=u.type;var s=this.itemsData;if(s){var l=this.getSelection();this.setItems(null),this.setItems(s),this.setSelection(l)}}},r.prototype.setItems=function(u){var n;u?u instanceof b||u instanceof x?n=u:n=new b(u,{type:{start:"Date",end:"Date"}}):n=null,this.itemsData=n,this.itemSet&&this.itemSet.setItems(n)},r.prototype.setGroups=function(u){var n;if(!u)n=null;else{var s=function(g){return g.visible!==!1};u instanceof b||u instanceof x?n=new x(u,{filter:s}):n=new b(u.filter(s))}this.groupsData=n,this.itemSet.setGroups(n)},r.prototype.setData=function(u){u&&u.groups&&this.setGroups(u.groups),u&&u.items&&this.setItems(u.items)},r.prototype.setSelection=function(u,n){this.itemSet&&this.itemSet.setSelection(u),n&&n.focus&&this.focus(u,n)},r.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},r.prototype.focus=function(u,n){if(!(!this.itemsData||u==null)){var s=Array.isArray(u)?u:[u],l=this.itemsData.getDataSet().get(s,{type:{start:"Date",end:"Date"}}),g=null,T=null;if(l.forEach(function(Q){var J=Q.start.valueOf(),j="end"in Q?Q.end.valueOf():Q.start.valueOf();(g===null||J<g)&&(g=J),(T===null||j>T)&&(T=j)}),g!==null&&T!==null){var O=this,P=this.itemSet.items[s[0]],_=this._getScrollTop()*-1,R=null,I=function(J,j,G){var U=a(O,P);if(R||(R=U),!(R.itemTop==U.itemTop&&!R.shouldScroll)){R.itemTop!=U.itemTop&&U.shouldScroll&&(R=U,_=O._getScrollTop()*-1);var $=_,ne=R.scrollOffset,se=G?ne:$+(ne-$)*J;O._setScrollTop(-se),j||O._redraw()}},F=function(){var J=a(O,P);J.shouldScroll&&J.itemTop!=R.itemTop&&(O._setScrollTop(-J.scrollOffset),O._redraw())},W=function(){F(),setTimeout(F,100)},Y=(g+T)/2,X=Math.max(this.range.end-this.range.start,(T-g)*1.1),q=n&&n.animation!==void 0?n.animation:!0;q||(R={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(Y-X/2,Y+X/2,{animation:q},W,I)}}},r.prototype.fit=function(u,n){var s=u&&u.animation!==void 0?u.animation:!0,l,g=this.itemsData&&this.itemsData.getDataSet();g.length===1&&g.get()[0].end===void 0?(l=this.getDataRange(),this.moveTo(l.min.valueOf(),{animation:s},n)):(l=this.getItemRange(),this.range.setRange(l.min,l.max,{animation:s},n))};function i(u){return c.convert(u.data.start,"Date").valueOf()}function t(u){var n=u.data.end!=null?u.data.end:u.data.start;return c.convert(n,"Date").valueOf()}function a(u,n){var s=u.props.leftContainer.height,l=u.props.left.height,g=n.parent,T=g.top,O=!0,P=u.timeAxis.options.orientation.axis,_=function(){return P=="bottom"?g.height-n.top-n.height:n.top},R=u._getScrollTop()*-1,I=T+_(),F=n.height;return I<R?T+s<=T+_()+F&&(T+=_()-u.itemSet.options.margin.item.vertical):I+F>R+s?T+=_()+F-s+u.itemSet.options.margin.item.vertical:O=!1,T=Math.min(T,l-s),{shouldScroll:O,scrollOffset:T,itemTop:I}}r.prototype.getItemRange=function(){var u=this.getDataRange(),n=u.min!==null?u.min.valueOf():null,s=u.max!==null?u.max.valueOf():null,l=null,g=null;if(n!=null&&s!=null){var T=s-n;T<=0&&(T=10);var O=T/this.props.center.width,P={},_=0;c.forEach(this.itemSet.items,function(X,q){if(X.groupShowing){var Q=!0;P[q]=X.redraw(Q),_=P[q].length}});var R=_>0;if(R)for(var I=0;I<_;I++)c.forEach(P,function(X){X[I]()});if(c.forEach(this.itemSet.items,(function(X){var q=i(X),Q=t(X),J,j;this.options.rtl?(J=q-(X.getWidthRight()+10)*O,j=Q+(X.getWidthLeft()+10)*O):(J=q-(X.getWidthLeft()+10)*O,j=Q+(X.getWidthRight()+10)*O),J<n&&(n=J,l=X),j>s&&(s=j,g=X)}).bind(this)),l&&g){var F=l.getWidthLeft()+10,W=g.getWidthRight()+10,Y=this.props.center.width-F-W;Y>0&&(this.options.rtl?(n=i(l)-W*T/Y,s=t(g)+F*T/Y):(n=i(l)-F*T/Y,s=t(g)+W*T/Y))}}return{min:n!=null?new Date(n):null,max:s!=null?new Date(s):null}},r.prototype.getDataRange=function(){var u=null,n=null,s=this.itemsData&&this.itemsData.getDataSet();return s&&s.forEach(function(l){var g=c.convert(l.start,"Date").valueOf(),T=c.convert(l.end!=null?l.end:l.start,"Date").valueOf();(u===null||g<u)&&(u=g),(n===null||T>n)&&(n=T)}),{min:u!=null?new Date(u):null,max:n!=null?new Date(n):null}},r.prototype.getEventProperties=function(u){var n=u.center?u.center.x:u.clientX,s=u.center?u.center.y:u.clientY,l;this.options.rtl?l=c.getAbsoluteRight(this.dom.centerContainer)-n:l=n-c.getAbsoluteLeft(this.dom.centerContainer);var g=s-c.getAbsoluteTop(this.dom.centerContainer),T=this.itemSet.itemFromTarget(u),O=this.itemSet.groupFromTarget(u),P=m.customTimeFromTarget(u),_=this.itemSet.options.snap||null,R=this.body.util.getScale(),I=this.body.util.getStep(),F=this._toTime(l),W=_?_(F,R,I):F,Y=c.getTarget(u),X=null;return T!=null?X="item":P!=null?X="custom-time":c.hasParent(Y,this.timeAxis.dom.foreground)||this.timeAxis2&&c.hasParent(Y,this.timeAxis2.dom.foreground)?X="axis":c.hasParent(Y,this.itemSet.dom.labelSet)?X="group-label":c.hasParent(Y,this.currentTime.bar)?X="current-time":c.hasParent(Y,this.dom.center)&&(X="background"),{event:u,item:T?T.id:null,group:O?O.groupId:null,what:X,pageX:u.srcEvent?u.srcEvent.pageX:u.pageX,pageY:u.srcEvent?u.srcEvent.pageY:u.pageY,x:l,y:g,time:F,snappedTime:W}},r.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())},L.exports=r},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(19),c=y(D),b=p(0),x=y(b),C=p(1),E=y(C);function y(h){return h&&h.__esModule?h:{default:h}}var S=p(10),m=p(37),v=p(2),d=function(){function h(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;(0,x.default)(this,h),this.pixelRatio=o,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,E.default)(h,[{key:"insertTo",value:function(f){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=f,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(f){if(typeof f=="function")this.updateCallback=f;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(f){if(typeof f=="function")this.closeCallback=f;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(f){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if(typeof f=="string")return e[f]}},{key:"setColor",value:function(f){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(f!=="none"){var r=void 0,i=this._isColorString(f);if(i!==void 0&&(f=i),v.isString(f)===!0){if(v.isValidRGB(f)===!0){var t=f.substr(4).substr(0,f.length-5).split(",");r={r:t[0],g:t[1],b:t[2],a:1}}else if(v.isValidRGBA(f)===!0){var a=f.substr(5).substr(0,f.length-6).split(",");r={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(v.isValidHex(f)===!0){var u=v.hexToRGB(f);r={r:u.r,g:u.g,b:u.b,a:1}}}else if(f instanceof Object&&f.r!==void 0&&f.g!==void 0&&f.b!==void 0){var n=f.a!==void 0?f.a:"1.0";r={r:f.r,g:f.g,b:f.b,a:n}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,c.default)(f));this._setColor(r,e)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var f=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e===!0&&(this.previousColor=v.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){f.closeCallback!==void 0&&(f.closeCallback(),f.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(f){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e===!0&&(this.initialColor=v.extend({},f)),this.color=f;var r=v.RGBToHSV(f.r,f.g,f.b),i=2*Math.PI,t=this.r*r.s,a=this.centerCoordinates.x+t*Math.sin(i*r.h),u=this.centerCoordinates.y+t*Math.cos(i*r.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(f)}},{key:"_setOpacity",value:function(f){this.color.a=f/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(f){var e=v.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=f/100;var r=v.HSVToRGB(e.h,e.s,e.v);r.a=this.color.a,this.color=r,this._updatePicker()}},{key:"_updatePicker",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,e=v.RGBToHSV(f.r,f.g,f.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,t=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,t),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-e.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*f.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var f=document.createElement("DIV");f.style.color="red",f.style.fontWeight="bold",f.style.padding="10px",f.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(f)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var r=this;this.opacityRange.onchange=function(){r._setOpacity(this.value)},this.opacityRange.oninput=function(){r._setOpacity(this.value)},this.brightnessRange.onchange=function(){r._setBrightness(this.value)},this.brightnessRange.oninput=function(){r._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var f=this;this.drag={},this.pinch={},this.hammer=new S(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),m.onTouch(this.hammer,function(e){f._moveSelector(e)}),this.hammer.on("tap",function(e){f._moveSelector(e)}),this.hammer.on("panstart",function(e){f._moveSelector(e)}),this.hammer.on("panmove",function(e){f._moveSelector(e)}),this.hammer.on("panend",function(e){f._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var f=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1)),f.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;f.clearRect(0,0,e,r);var i=void 0,t=void 0,a=void 0,u=void 0;this.centerCoordinates={x:e*.5,y:r*.5},this.r=.49*e;var n=2*Math.PI/360,s=1/360,l=1/this.r,g=void 0;for(a=0;a<360;a++)for(u=0;u<this.r;u++)i=this.centerCoordinates.x+u*Math.sin(n*a),t=this.centerCoordinates.y+u*Math.cos(n*a),g=v.HSVToRGB(a*s,u*l,1),f.fillStyle="rgb("+g.r+","+g.g+","+g.b+")",f.fillRect(i-.5,t-.5,2,2);f.strokeStyle="rgba(0,0,0,1)",f.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),f.stroke(),this.hueCircle=f.getImageData(0,0,e,r)}this.generated=!0}},{key:"_moveSelector",value:function(f){var e=this.colorPickerDiv.getBoundingClientRect(),r=f.center.x-e.left,i=f.center.y-e.top,t=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,u=r-a,n=i-t,s=Math.atan2(u,n),l=.98*Math.min(Math.sqrt(u*u+n*n),a),g=Math.cos(s)*l+t,T=Math.sin(s)*l+a;this.colorPickerSelector.style.top=g-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=T-.5*this.colorPickerSelector.clientWidth+"px";var O=s/(2*Math.PI);O=O<0?O+1:O;var P=l/this.r,_=v.RGBToHSV(this.color.r,this.color.g,this.color.b);_.h=O,_.s=P;var R=v.HSVToRGB(_.h,_.s,_.v);R.a=this.color.a,this.color=R,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),h}();k.default=d},function(L,k,p){"use strict";var D=p(9),c=p(2),b=p(11),x=p(12),C=p(64),E=p(65),y=p(45),S=p(67),m=p(46),v=p(106),d=p(15).printStyle,h=p(113).allOptions,o=p(113).configureOptions,f=p(71).default,e=p(15).default;function r(i,t,a,u){if(!(Array.isArray(a)||a instanceof b||a instanceof x)&&a instanceof Object){var n=u;u=a,a=n}u&&u.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:D,width:null,height:null,maxHeight:null,minHeight:null},this.options=c.deepExtend({},this.defaultOptions),this._create(i),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new C(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new y(this.body),this.components.push(this.timeAxis),this.currentTime=new S(this.body),this.components.push(this.currentTime),this.linegraph=new v(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(l){s.emit("click",s.getEventProperties(l))}),this.on("doubletap",function(l){s.emit("doubleClick",s.getEventProperties(l))}),this.dom.root.oncontextmenu=function(l){s.emit("contextmenu",s.getEventProperties(l))},u&&this.setOptions(u),a&&this.setGroups(a),t&&this.setItems(t),this._redraw()}r.prototype=new E,r.prototype.setOptions=function(i){var t=e.validate(i,h);t===!0&&console.log("%cErrors have been found in the supplied options object.",d),E.prototype.setOptions.call(this,i)},r.prototype.setItems=function(i){var t=this.itemsData==null,a;if(i?i instanceof b||i instanceof x?a=i:a=new b(i,{type:{start:"Date",end:"Date"}}):a=null,this.itemsData=a,this.linegraph&&this.linegraph.setItems(a),t)if(this.options.start!=null||this.options.end!=null){var u=this.options.start!=null?this.options.start:null,n=this.options.end!=null?this.options.end:null;this.setWindow(u,n,{animation:!1})}else this.fit({animation:!1})},r.prototype.setGroups=function(i){var t;i?i instanceof b||i instanceof x?t=i:t=new b(i):t=null,this.groupsData=t,this.linegraph.setGroups(t)},r.prototype.getLegend=function(i,t,a){return t===void 0&&(t=15),a===void 0&&(a=15),this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].getLegend(t,a):"cannot find group:'"+i+"'"},r.prototype.isGroupVisible=function(i){return this.linegraph.groups[i]!==void 0?this.linegraph.groups[i].visible&&(this.linegraph.options.groups.visibility[i]===void 0||this.linegraph.options.groups.visibility[i]==!0):!1},r.prototype.getDataRange=function(){var i=null,t=null;for(var a in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(a)&&this.linegraph.groups[a].visible==!0)for(var u=0;u<this.linegraph.groups[a].itemsData.length;u++){var n=this.linegraph.groups[a].itemsData[u],s=c.convert(n.x,"Date").valueOf();i=i==null||i>s?s:i,t=t==null||t<s?s:t}return{min:i!=null?new Date(i):null,max:t!=null?new Date(t):null}},r.prototype.getEventProperties=function(i){var t=i.center?i.center.x:i.clientX,a=i.center?i.center.y:i.clientY,u=t-c.getAbsoluteLeft(this.dom.centerContainer),n=a-c.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(u),l=m.customTimeFromTarget(i),g=c.getTarget(i),T=null;c.hasParent(g,this.timeAxis.dom.foreground)||this.timeAxis2&&c.hasParent(g,this.timeAxis2.dom.foreground)?T="axis":c.hasParent(g,this.linegraph.yAxisLeft.dom.frame)||c.hasParent(g,this.linegraph.yAxisRight.dom.frame)?T="data-axis":c.hasParent(g,this.linegraph.legendLeft.dom.frame)||c.hasParent(g,this.linegraph.legendRight.dom.frame)?T="legend":l!=null?T="custom-time":c.hasParent(g,this.currentTime.bar)?T="current-time":c.hasParent(g,this.dom.center)&&(T="background");var O=[],P=this.linegraph.yAxisLeft,_=this.linegraph.yAxisRight;return!P.hidden&&this.itemsData.length>0&&O.push(P.screenToValue(n)),!_.hidden&&this.itemsData.length>0&&O.push(_.screenToValue(n)),{event:i,what:T,pageX:i.srcEvent?i.srcEvent.pageX:i.pageX,pageY:i.srcEvent?i.srcEvent.pageY:i.pageY,x:u,y:n,time:s,value:O}},r.prototype._createConfigurator=function(){return new f(this,this.dom.container,o)},L.exports=r},function(L,k,p){"use strict";k.util=p(2),k.DOMutil=p(14),k.DataSet=p(11),k.DataView=p(12),k.Queue=p(43),k.Network=p(182),k.network={Images:p(116),dotparser:p(114),gephiParser:p(115),allOptions:p(122)},k.network.convertDot=function(D){return k.network.dotparser.DOTToGraph(D)},k.network.convertGephi=function(D,c){return k.network.gephiParser.parseGephi(D,c)},k.moment=p(9),k.Hammer=p(10),k.keycharm=p(35)},function(L,k,p){"use strict";p(183);var D=p(44),c=p(2),b=p(114),x=p(115),C=p(97),E=p(184),y=p(116).default,S=p(186).default,m=p(187).default,v=p(214).default,d=p(220).default,h=p(227).default,o=p(229).default,f=p(230).default,e=p(231).default,r=p(232).default,i=p(234).default,t=p(235).default,a=p(237).default,u=p(71).default,n=p(15).default,s=p(15),l=s.printStyle,g=p(122),T=g.allOptions,O=g.configureOptions,P=p(238).default;function _(R,I,F){var W=this;if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:E,clickToUse:!1},c.extend(this.options,this.defaultOptions),this.body={container:R,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new y(function(){return W.body.emitter.emit("_requestRedraw")}),this.groups=new S,this.canvas=new f(this.body),this.selectionHandler=new i(this.body,this.canvas),this.interactionHandler=new r(this.body,this.canvas,this.selectionHandler),this.view=new e(this.body,this.canvas),this.renderer=new o(this.body,this.canvas),this.physics=new d(this.body),this.layoutEngine=new t(this.body),this.clustering=new h(this.body),this.manipulation=new a(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new m(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new v(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new P(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(F),this.setData(I)}D(_.prototype),_.prototype.setOptions=function(R){var I=this;if(R!==void 0){var F=n.validate(R,T);F===!0&&console.log("%cErrors have been found in the supplied options object.",l);var W=["locale","locales","clickToUse"];if(c.selectiveDeepExtend(W,this.options,R),R=this.layoutEngine.setOptions(R.layout,R),this.canvas.setOptions(R),this.groups.setOptions(R.groups),this.nodesHandler.setOptions(R.nodes),this.edgesHandler.setOptions(R.edges),this.physics.setOptions(R.physics),this.manipulation.setOptions(R.manipulation,R,this.options),this.interactionHandler.setOptions(R.interaction),this.renderer.setOptions(R.interaction),this.selectionHandler.setOptions(R.interaction),R.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in R&&(this.configurator||(this.configurator=new u(this,this.body.container,O,this.canvas.pixelRatio)),this.configurator.setOptions(R.configure)),this.configurator&&this.configurator.options.enabled===!0){var Y={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};c.deepExtend(Y.nodes,this.nodesHandler.options),c.deepExtend(Y.edges,this.edgesHandler.options),c.deepExtend(Y.layout,this.layoutEngine.options),c.deepExtend(Y.interaction,this.selectionHandler.options),c.deepExtend(Y.interaction,this.renderer.options),c.deepExtend(Y.interaction,this.interactionHandler.options),c.deepExtend(Y.manipulation,this.manipulation.options),c.deepExtend(Y.physics,this.physics.options),c.deepExtend(Y.global,this.canvas.options),c.deepExtend(Y.global,this.options),this.configurator.setModuleOptions(Y)}R.clickToUse!==void 0?R.clickToUse===!0?this.activator===void 0&&(this.activator=new C(this.canvas.frame),this.activator.on("change",function(){I.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},_.prototype._updateVisibleIndices=function(){var R=this.body.nodes,I=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var F in R)R.hasOwnProperty(F)&&!this.clustering._isClusteredNode(F)&&R[F].options.hidden===!1&&this.body.nodeIndices.push(R[F].id);for(var W in I)if(I.hasOwnProperty(W)){var Y=I[W],X=R[Y.fromId],q=R[Y.toId],Q=X!==void 0&&q!==void 0,J=!this.clustering._isClusteredEdge(W)&&Y.options.hidden===!1&&Q&&X.options.hidden===!1&&q.options.hidden===!1;J&&this.body.edgeIndices.push(Y.id)}},_.prototype.bindEventListeners=function(){var R=this;this.body.emitter.on("_dataChanged",function(){R.edgesHandler._updateState(),R.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){R.clustering._updateState(),R._updateVisibleIndices(),R._updateValueRange(R.body.nodes),R._updateValueRange(R.body.edges),R.body.emitter.emit("startSimulation"),R.body.emitter.emit("_requestRedraw")})},_.prototype.setData=function(R){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),R&&R.dot&&(R.nodes||R.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(R&&R.options),R&&R.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var I=b.DOTToGraph(R.dot);this.setData(I);return}else if(R&&R.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var F=x.parseGephi(R.gephi);this.setData(F);return}else this.nodesHandler.setData(R&&R.nodes,!0),this.edgesHandler.setData(R&&R.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},_.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var R in this.body.nodes)this.body.nodes.hasOwnProperty(R)&&delete this.body.nodes[R];for(var I in this.body.edges)this.body.edges.hasOwnProperty(I)&&delete this.body.edges[I];c.recursiveDOMDelete(this.body.container)},_.prototype._updateValueRange=function(R){var I,F=void 0,W=void 0,Y=0;for(I in R)if(R.hasOwnProperty(I)){var X=R[I].getValue();X!==void 0&&(F=F===void 0?X:Math.min(X,F),W=W===void 0?X:Math.max(X,W),Y+=X)}if(F!==void 0&&W!==void 0)for(I in R)R.hasOwnProperty(I)&&R[I].setValueRange(F,W,Y)},_.prototype.isActive=function(){return!this.activator||this.activator.active},_.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},_.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},_.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},_.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},_.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},_.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},_.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},_.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},_.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},_.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},_.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},_.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},_.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},_.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},_.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},_.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},_.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},_.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},_.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},_.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},_.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},_.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},_.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},_.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},_.prototype.getConnectedNodes=function(R){return this.body.nodes[R]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},_.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},_.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},_.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},_.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},_.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},_.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},_.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},_.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},_.prototype.getNodeAt=function(){var R=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return R!==void 0&&R.id!==void 0?R.id:R},_.prototype.getEdgeAt=function(){var R=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return R!==void 0&&R.id!==void 0?R.id:R},_.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},_.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},_.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},_.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},_.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},_.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},_.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},_.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},_.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},_.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},_.prototype.getOptionsFromConfigurator=function(){var R={};return this.configurator&&(R=this.configurator.getOptions.apply(this.configurator)),R},L.exports=_},function(L,k,p){"use strict";typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.circle=function(D,c,b){this.beginPath(),this.arc(D,c,b,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(D,c,b){this.beginPath(),this.rect(D-b,c-b,b*2,b*2),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(D,c,b){this.beginPath(),b*=1.15,c+=.275*b;var x=b*2,C=x/2,E=Math.sqrt(3)/6*x,y=Math.sqrt(x*x-C*C);this.moveTo(D,c-(y-E)),this.lineTo(D+C,c+E),this.lineTo(D-C,c+E),this.lineTo(D,c-(y-E)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(D,c,b){this.beginPath(),b*=1.15,c-=.275*b;var x=b*2,C=x/2,E=Math.sqrt(3)/6*x,y=Math.sqrt(x*x-C*C);this.moveTo(D,c+(y-E)),this.lineTo(D+C,c-E),this.lineTo(D-C,c-E),this.lineTo(D,c+(y-E)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(D,c,b){this.beginPath(),b*=.82,c+=.1*b;for(var x=0;x<10;x++){var C=x%2===0?b*1.3:b*.5;this.lineTo(D+C*Math.sin(x*2*Math.PI/10),c-C*Math.cos(x*2*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(D,c,b){this.beginPath(),this.lineTo(D,c+b),this.lineTo(D+b,c),this.lineTo(D,c-b),this.lineTo(D-b,c),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(D,c,b,x,C){var E=Math.PI/180;b-2*C<0&&(C=b/2),x-2*C<0&&(C=x/2),this.beginPath(),this.moveTo(D+C,c),this.lineTo(D+b-C,c),this.arc(D+b-C,c+C,C,E*270,E*360,!1),this.lineTo(D+b,c+x-C),this.arc(D+b-C,c+x-C,C,0,E*90,!1),this.lineTo(D+C,c+x),this.arc(D+C,c+x-C,C,E*90,E*180,!1),this.lineTo(D,c+C),this.arc(D+C,c+C,C,E*180,E*270,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(D,c,b,x){var C=.5522848,E=b/2*C,y=x/2*C,S=D+b,m=c+x,v=D+b/2,d=c+x/2;this.beginPath(),this.moveTo(D,d),this.bezierCurveTo(D,d-y,v-E,c,v,c),this.bezierCurveTo(v+E,c,S,d-y,S,d),this.bezierCurveTo(S,d+y,v+E,m,v,m),this.bezierCurveTo(v-E,m,D,d+y,D,d),this.closePath()},CanvasRenderingContext2D.prototype.database=function(D,c,b,x){var C=.3333333333333333,E=b,y=x*C,S=.5522848,m=E/2*S,v=y/2*S,d=D+E,h=c+y,o=D+E/2,f=c+y/2,e=c+(x-y/2),r=c+x;this.beginPath(),this.moveTo(d,f),this.bezierCurveTo(d,f+v,o+m,h,o,h),this.bezierCurveTo(o-m,h,D,f+v,D,f),this.bezierCurveTo(D,f-v,o-m,c,o,c),this.bezierCurveTo(o+m,c,d,f-v,d,f),this.lineTo(d,e),this.bezierCurveTo(d,e+v,o+m,r,o,r),this.bezierCurveTo(o-m,r,D,e+v,D,e),this.lineTo(D,f)},CanvasRenderingContext2D.prototype.dashedLine=function(D,c,b,x,C){this.beginPath(),this.moveTo(D,c);for(var E=C.length,y=b-D,S=x-c,m=S/y,v=Math.sqrt(y*y+S*S),d=0,h=!0,o=0,f=C[0];v>=.1;)f=C[d++%E],f>v&&(f=v),o=Math.sqrt(f*f/(1+m*m)),o=y<0?-o:o,D+=o,c+=m*o,h===!0?this.lineTo(D,c):this.moveTo(D,c),v-=f,h=!h},CanvasRenderingContext2D.prototype.hexagon=function(D,c,b){this.beginPath();var x=6,C=Math.PI*2/x;this.moveTo(D+b,c);for(var E=1;E<x;E++)this.lineTo(D+b*Math.cos(C*E),c+b*Math.sin(C*E));this.closePath()})},function(L,k,p){"use strict";k.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},k.en_EN=k.en,k.en_US=k.en,k.de={edit:"Editieren",del:"L\xF6sche Auswahl",back:"Zur\xFCck",addNode:"Knoten hinzuf\xFCgen",addEdge:"Kante hinzuf\xFCgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",editClusterError:"Cluster k\xF6nnen nicht editiert werden."},k.de_DE=k.de,k.es={edit:"Editar",del:"Eliminar selecci\xF3n",back:"\xC1tras",addNode:"A\xF1adir nodo",addEdge:"A\xF1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},k.es_ES=k.es,k.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},k.it_IT=k.it,k.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},k.nl_NL=k.nl,k.nl_BE=k.nl,k["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xF3",addEdge:"Adicionar aresta",editNode:"Editar n\xF3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",editClusterError:"Clusters n\xE3o puderam ser editados."},k["pt-BR"]=k["pt-br"],k.pt_BR=k["pt-br"],k.pt_br=k["pt-br"],k.ru={edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",back:"\u041D\u0430\u0437\u0430\u0434",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F."},k.ru_RU=k.ru,k.cn={edit:"\u7F16\u8F91",del:"\u5220\u9664\u9009\u5B9A",back:"\u8FD4\u56DE",addNode:"\u6DFB\u52A0\u8282\u70B9",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",editNode:"\u7F16\u8F91\u8282\u70B9",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002"},k.zh_CN=k.cn},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(){(0,c.default)(this,y),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,x.default)(y,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var m=this.image.width,v=this.image.height;this.width=m,this.height=v;var d=Math.floor(v/2),h=Math.floor(v/4),o=Math.floor(v/8),f=Math.floor(v/16),e=Math.floor(m/2),r=Math.floor(m/4),i=Math.floor(m/8),t=Math.floor(m/16);this.canvas.width=3*r,this.canvas.height=d,this.coordinates=[[0,0,e,d],[e,0,r,h],[e,h,i,o],[5*i,h,t,f]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var m=this.canvas.getContext("2d"),v=this.coordinates[0];m.drawImage(this.image,v[0],v[1],v[2],v[3]);for(var d=1;d<this.NUM_ITERATIONS;d++){var h=this.coordinates[d-1],o=this.coordinates[d];m.drawImage(this.canvas,h[0],h[1],h[2],h[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(m,v,d,h,o,f){if(this.initialized())if(v>2){v*=.5;for(var e=0;v>2&&e<this.NUM_ITERATIONS;)v*=.5,e+=1;e>=this.NUM_ITERATIONS&&(e=this.NUM_ITERATIONS-1);var r=this.coordinates[e];m.drawImage(this.canvas,r[0],r[1],r[2],r[3],d,h,o,f)}else m.drawImage(this.image,d,h,o,f)}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(S){return S&&S.__esModule?S:{default:S}}var E=p(2),y=function(){function S(){(0,c.default)(this,S),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},E.extend(this.options,this.defaultOptions)}return(0,x.default)(S,[{key:"setOptions",value:function(v){var d=["useDefaultGroups"];if(v!==void 0){for(var h in v)if(v.hasOwnProperty(h)&&d.indexOf(h)===-1){var o=v[h];this.add(h,o)}}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=this.groups[v];if(h===void 0&&d)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var o=this.groupIndex%this.groupsArray.length;this.groupIndex++,h={},h.color=this.groups[this.groupsArray[o]],this.groups[v]=h}else{var f=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,h={},h.color=this.defaultGroups[f],this.groups[v]=h}return h}},{key:"add",value:function(v,d){return this.groups[v]=d,this.groupsArray.push(v),d}}]),S}();k.default=y},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(d){return d&&d.__esModule?d:{default:d}}var E=p(2),y=p(11),S=p(12),m=p(47).default,v=function(){function d(h,o,f,e){var r=this;if((0,c.default)(this,d),this.body=h,this.images=o,this.groups=f,this.layoutEngine=e,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,a){r.add(a.items)},update:function(t,a){r.update(a.items,a.data,a.oldData)},remove:function(t,a){r.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,a,u,n){if(a===t)return .5;var s=1/(a-t);return Math.max(0,(n-t)*s)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=E.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,x.default)(d,[{key:"bindEventListeners",value:function(){var o=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){E.forEach(o.nodesListeners,function(f,e){o.body.data.nodes&&o.body.data.nodes.off(e,f)}),delete o.body.functions.createNode,delete o.nodesListeners.add,delete o.nodesListeners.update,delete o.nodesListeners.remove,delete o.nodesListeners})}},{key:"setOptions",value:function(o){if(o!==void 0){if(m.parseOptions(this.options,o),o.shape!==void 0)for(var f in this.body.nodes)this.body.nodes.hasOwnProperty(f)&&this.body.nodes[f].updateShape();if(o.font!==void 0)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(this.body.nodes[e].updateLabelModule(),this.body.nodes[e].needsRefresh());if(o.size!==void 0)for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.body.nodes[r].needsRefresh();(o.hidden!==void 0||o.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=this.body.data.nodes;if(o instanceof y||o instanceof S)this.body.data.nodes=o;else if(Array.isArray(o))this.body.data.nodes=new y,this.body.data.nodes.add(o);else if(!o)this.body.data.nodes=new y;else throw new TypeError("Array or DataSet expected");if(e&&E.forEach(this.nodesListeners,function(t,a){e.off(a,t)}),this.body.nodes={},this.body.data.nodes){var r=this;E.forEach(this.nodesListeners,function(t,a){r.body.data.nodes.on(a,t)});var i=this.body.data.nodes.getIds();this.add(i,!0)}f===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(o){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=void 0,r=[],i=0;i<o.length;i++){e=o[i];var t=this.body.data.nodes.get(e),a=this.create(t);r.push(a),this.body.nodes[e]=a}this.layoutEngine.positionInitially(r),f===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(o,f,e){for(var r=this.body.nodes,i=!1,t=0;t<o.length;t++){var a=o[t],u=r[a],n=f[t];u!==void 0?u.setOptions(n)&&(i=!0):(i=!0,u=this.create(n),r[a]=u)}!i&&e!==void 0&&(i=f.some(function(s,l){var g=e[l];return g&&g.level!==s.level})),i===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(o){for(var f=this.body.nodes,e=0;e<o.length;e++){var r=o[e];delete f[r]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m;return new f(o,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var o=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;E.forEach(this.body.nodes,function(e,r){var i=o.body.data.nodes.get(r);i!==void 0&&(f===!0&&e.setOptions({x:null,y:null}),e.setOptions({fixed:!1}),e.setOptions(i))})}},{key:"getPositions",value:function(o){var f={};if(o!==void 0){if(Array.isArray(o)===!0){for(var e=0;e<o.length;e++)if(this.body.nodes[o[e]]!==void 0){var r=this.body.nodes[o[e]];f[o[e]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(this.body.nodes[o]!==void 0){var i=this.body.nodes[o];f[o]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(var t=0;t<this.body.nodeIndices.length;t++){var a=this.body.nodes[this.body.nodeIndices[t]];f[this.body.nodeIndices[t]]={x:Math.round(a.x),y:Math.round(a.y)}}return f}},{key:"storePositions",value:function(){var o=[],f=this.body.data.nodes.getDataSet();for(var e in f._data)if(f._data.hasOwnProperty(e)){var r=this.body.nodes[e];(f._data[e].x!=Math.round(r.x)||f._data[e].y!=Math.round(r.y))&&o.push({id:r.id,x:Math.round(r.x),y:Math.round(r.y)})}f.update(o)}},{key:"getBoundingBox",value:function(o){if(this.body.nodes[o]!==void 0)return this.body.nodes[o].shape.boundingBox}},{key:"getConnectedNodes",value:function(o,f){var e=[];if(this.body.nodes[o]!==void 0)for(var r=this.body.nodes[o],i={},t=0;t<r.edges.length;t++){var a=r.edges[t];f!=="to"&&a.toId==r.id?i[a.fromId]===void 0&&(e.push(a.fromId),i[a.fromId]=!0):f!=="from"&&a.fromId==r.id&&i[a.toId]===void 0&&(e.push(a.toId),i[a.toId]=!0)}return e}},{key:"getConnectedEdges",value:function(o){var f=[];if(this.body.nodes[o]!==void 0)for(var e=this.body.nodes[o],r=0;r<e.edges.length;r++)f.push(e.edges[r].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",o);return f}},{key:"moveNode",value:function(o,f,e){var r=this;this.body.nodes[o]!==void 0?(this.body.nodes[o].x=Number(f),this.body.nodes[o].y=Number(e),setTimeout(function(){r.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",o)}}]),d}();k.default=v},function(L,k,p){L.exports={default:p(189),__esModule:!0}},function(L,k,p){p(49),p(60),L.exports=p(190)},function(L,k,p){var D=p(86),c=p(13)("iterator"),b=p(31);L.exports=p(7).isIterable=function(x){var C=Object(x);return C[c]!==void 0||"@@iterator"in C||b.hasOwnProperty(D(C))}},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(m){return m&&m.__esModule?m:{default:m}}var E=p(192).default,y=p(48).default,S=function(){function m(v,d,h,o){var f=this;(0,c.default)(this,m),this.ctx=v,this.parent=d;var e=function(i,t){if(i===void 0)return 0;var a=f.parent.getFormattingValues(v,h,o,t),u=0;if(i!==""){var n=f.ctx.measureText(i);u=n.width}return{width:u,values:a}};this.lines=new E(e)}return(0,x.default)(m,[{key:"process",value:function(d){if(!y.isValidLabel(d))return this.lines.finalize();var h=this.parent.fontOptions;d=d.replace(/\r\n/g,`
`),d=d.replace(/\r/g,`
`);var o=String(d).split(`
`),f=o.length;if(h.multi)for(var e=0;e<f;e++){var r=this.splitBlocks(o[e],h.multi);if(r!==void 0){if(r.length===0){this.lines.newLine("");continue}if(h.maxWdt>0)for(var i=0;i<r.length;i++){var t=r[i].mod,a=r[i].text;this.splitStringIntoLines(a,t,!0)}else for(var u=0;u<r.length;u++){var n=r[u].mod,s=r[u].text;this.lines.append(s,n)}this.lines.newLine()}}else if(h.maxWdt>0)for(var l=0;l<f;l++)this.splitStringIntoLines(o[l]);else for(var g=0;g<f;g++)this.lines.newLine(o[g]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(d){var h="none";return d==="markdown"||d==="md"?h="markdown":(d===!0||d==="html")&&(h="html"),h}},{key:"splitHtmlBlocks",value:function(d){var h=[],o={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[]};for(o.mod=function(){return this.modStack.length===0?"normal":this.modStack[0]},o.modName=function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(o.bold&&o.ital)return"boldital";if(o.bold)return"bold";if(o.ital)return"ital"},o.emitBlock=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(h.push({text:this.buffer,mod:this.modName()}),this.buffer="")},o.add=function(e){e===" "&&(o.spacing=!0),o.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)};o.position<d.length;){var f=d.charAt(o.position);/[ \t]/.test(f)?o.mono?o.add(f):o.spacing=!0:/</.test(f)?!o.mono&&!o.bold&&/<b>/.test(d.substr(o.position,3))?(o.emitBlock(),o.bold=!0,o.modStack.unshift("bold"),o.position+=2):!o.mono&&!o.ital&&/<i>/.test(d.substr(o.position,3))?(o.emitBlock(),o.ital=!0,o.modStack.unshift("ital"),o.position+=2):!o.mono&&/<code>/.test(d.substr(o.position,6))?(o.emitBlock(),o.mono=!0,o.modStack.unshift("mono"),o.position+=5):!o.mono&&o.mod()==="bold"&&/<\/b>/.test(d.substr(o.position,4))?(o.emitBlock(),o.bold=!1,o.modStack.shift(),o.position+=3):!o.mono&&o.mod()==="ital"&&/<\/i>/.test(d.substr(o.position,4))?(o.emitBlock(),o.ital=!1,o.modStack.shift(),o.position+=3):o.mod()==="mono"&&/<\/code>/.test(d.substr(o.position,7))?(o.emitBlock(),o.mono=!1,o.modStack.shift(),o.position+=6):o.add(f):/&/.test(f)?/&lt;/.test(d.substr(o.position,4))?(o.add("<"),o.position+=3):/&amp;/.test(d.substr(o.position,5))?(o.add("&"),o.position+=4):o.add("&"):o.add(f),o.position++}return o.emitBlock(),h}},{key:"splitMarkdownBlocks",value:function(d){var h=[],o={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[]};for(o.mod=function(){return this.modStack.length===0?"normal":this.modStack[0]},o.modName=function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(o.bold&&o.ital)return"boldital";if(o.bold)return"bold";if(o.ital)return"ital"},o.emitBlock=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(h.push({text:this.buffer,mod:this.modName()}),this.buffer="")},o.add=function(e){e===" "&&(o.spacing=!0),o.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)};o.position<d.length;){var f=d.charAt(o.position);/[ \t]/.test(f)?(o.mono?o.add(f):o.spacing=!0,o.beginable=!0):/\\/.test(f)?o.position<d.length+1&&(o.position++,f=d.charAt(o.position),/ \t/.test(f)?o.spacing=!0:(o.add(f),o.beginable=!1)):!o.mono&&!o.bold&&(o.beginable||o.spacing)&&/\*/.test(f)?(o.emitBlock(),o.bold=!0,o.modStack.unshift("bold")):!o.mono&&!o.ital&&(o.beginable||o.spacing)&&/\_/.test(f)?(o.emitBlock(),o.ital=!0,o.modStack.unshift("ital")):!o.mono&&(o.beginable||o.spacing)&&/`/.test(f)?(o.emitBlock(),o.mono=!0,o.modStack.unshift("mono")):!o.mono&&o.mod()==="bold"&&/\*/.test(f)?o.position===d.length-1||/[.,_` \t\n]/.test(d.charAt(o.position+1))?(o.emitBlock(),o.bold=!1,o.modStack.shift()):o.add(f):!o.mono&&o.mod()==="ital"&&/\_/.test(f)?o.position===d.length-1||/[.,*` \t\n]/.test(d.charAt(o.position+1))?(o.emitBlock(),o.ital=!1,o.modStack.shift()):o.add(f):o.mono&&o.mod()==="mono"&&/`/.test(f)?o.position===d.length-1||/[.,*_ \t\n]/.test(d.charAt(o.position+1))?(o.emitBlock(),o.mono=!1,o.modStack.shift()):o.add(f):(o.add(f),o.beginable=!1),o.position++}return o.emitBlock(),h}},{key:"splitBlocks",value:function(d,h){var o=this.decodeMarkupSystem(h);if(o==="none")return[{text:d,mod:"normal"}];if(o==="markdown")return this.splitMarkdownBlocks(d);if(o==="html")return this.splitHtmlBlocks(d)}},{key:"overMaxWidth",value:function(d){var h=this.ctx.measureText(d).width;return this.lines.curWidth()+h>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(d){for(var h="",o=0;o<d.length;){var f=h===""?"":" ",e=h+f+d[o];if(this.overMaxWidth(e))break;h=e,o++}return o}},{key:"getLongestFitWord",value:function(d){for(var h=0;h<d.length&&!this.overMaxWidth(d.slice(0,h));)h++;return h}},{key:"splitStringIntoLines",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;d=d.replace(/^( +)/g,"$1\r"),d=d.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var f=d.split("\r");f.length>0;){var e=this.getLongestFit(f);if(e===0){var r=f[0],i=this.getLongestFitWord(r);this.lines.newLine(r.slice(0,i),h),f[0]=r.slice(i)}else{var t=e;f[e-1]===" "?e--:f[t]===" "&&t++;var a=f.slice(0,e).join("");e==f.length&&o?this.lines.append(a,h):this.lines.newLine(a,h),f=f.slice(t)}}}}]),m}();k.default=S},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(90),c=y(D),b=p(0),x=y(b),C=p(1),E=y(C);function y(m){return m&&m.__esModule?m:{default:m}}var S=function(){function m(v){(0,x.default)(this,m),this.measureText=v,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,E.default)(m,[{key:"_add",value:function(d,h){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[d]===void 0&&(this.lines[d]={width:0,height:0,blocks:[]});var f=h;(h===void 0||h==="")&&(f=" ");var e=this.measureText(f,o),r=(0,c.default)({},e.values);r.text=h,r.width=e.width,r.mod=o,(h===void 0||h==="")&&(r.width=0),this.lines[d].blocks.push(r),this.lines[d].width+=r.width}},{key:"curWidth",value:function(){var d=this.lines[this.current];return d===void 0?0:d.width}},{key:"append",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,d,h)}},{key:"newLine",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,d,h),this.current++}},{key:"determineLineHeights",value:function(){for(var d=0;d<this.lines.length;d++){var h=this.lines[d],o=0;if(h.blocks!==void 0)for(var f=0;f<h.blocks.length;f++){var e=h.blocks[f];o<e.height&&(o=e.height)}h.height=o}}},{key:"determineLabelSize",value:function(){for(var d=0,h=0,o=0;o<this.lines.length;o++){var f=this.lines[o];f.width>d&&(d=f.width),h+=f.height}this.width=d,this.height=h}},{key:"removeEmptyBlocks",value:function(){for(var d=[],h=0;h<this.lines.length;h++){var o=this.lines[h];if(o.blocks.length!==0&&!(h===this.lines.length-1&&o.width===0)){var f={};(0,c.default)(f,o),f.blocks=[];for(var e=void 0,r=[],i=0;i<o.blocks.length;i++){var t=o.blocks[i];t.width!==0?r.push(t):e===void 0&&(e=t)}r.length===0&&e!==void 0&&r.push(e),f.blocks=r,d.push(f)}}return d}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var d=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:d}}}]),m}();k.default=S},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(23),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){(0,x.default)(this,r);var u=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return u._setMargins(a),u}return(0,E.default)(r,[{key:"resize",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,u)){var n=this.getDimensionsFromLabel(t,a,u);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,a,u,n,s,l){this.resize(t,n,s),this.left=a-this.width/2,this.top=u-this.height/2,this.initContextForDraw(t,l),t.roundRect(this.left,this.top,this.width,this.height,l.borderRadius),this.performFill(t,l),this.updateBoundingBox(a,u,t,n,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}},{key:"updateBoundingBox",value:function(t,a,u,n,s){this._updateBoundingBox(t,a,u,n,s);var l=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(l)}},{key:"distanceToBorder",value:function(t,a){this.resize(t);var u=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(a)),Math.abs(this.height/2/Math.sin(a)))+u}}]),r}(h.default);k.default=f},function(L,k,p){p(195),L.exports=p(7).Object.getPrototypeOf},function(L,k,p){var D=p(41),c=p(85);p(87)("getPrototypeOf",function(){return function(x){return c(D(x))}})},function(L,k,p){L.exports={default:p(197),__esModule:!0}},function(L,k,p){p(198),L.exports=p(7).Object.setPrototypeOf},function(L,k,p){var D=p(17);D(D.S,"Object",{setPrototypeOf:p(199).set})},function(L,k,p){var D=p(32),c=p(27),b=function(x,C){if(c(x),!D(C)&&C!==null)throw TypeError(C+": can't set as prototype!")};L.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(x,C,E){try{E=p(80)(Function.call,p(89).f(Object.prototype,"__proto__").set,2),E(x,[]),C=!(x instanceof Array)}catch{C=!0}return function(S,m){return b(S,m),C?S.__proto__=m:E(S,m),S}}({},!1):void 0),check:b}},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(73),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){(0,x.default)(this,r);var u=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return u._setMargins(a),u}return(0,E.default)(r,[{key:"resize",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,u)){var n=this.getDimensionsFromLabel(t,a,u),s=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(t,a,u,n,s,l){this.resize(t,n,s),this.left=a-this.width/2,this.top=u-this.height/2,this._drawRawCircle(t,a,u,l),this.updateBoundingBox(a,u),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,u,n,s)}},{key:"updateBoundingBox",value:function(t,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=a+this.options.size}},{key:"distanceToBorder",value:function(t,a){return this.resize(t),this.width*.5}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(73),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a,u,n){(0,x.default)(this,r);var s=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return s.setImages(u,n),s}return(0,E.default)(r,[{key:"resize",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(n){var s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(a,u)&&this._resizeImage()}},{key:"draw",value:function(t,a,u,n,s,l){this.switchImages(n),this.resize(),this.left=a-this.width/2,this.top=u-this.height/2,this._drawRawCircle(t,a,u,l),t.save(),t.clip(),this._drawImageAtPosition(t,l),t.restore(),this._drawImageLabel(t,a,u,n,s),this.updateBoundingBox(a,u)}},{key:"updateBoundingBox",value:function(t,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=a+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,a){return this.resize(t),this.width*.5}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(23),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){(0,x.default)(this,r);var u=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return u._setMargins(a),u}return(0,E.default)(r,[{key:"resize",value:function(t,a,u){if(this.needsRefresh(a,u)){var n=this.getDimensionsFromLabel(t,a,u),s=n.width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(t,a,u,n,s,l){this.resize(t,n,s),this.left=a-this.width/2,this.top=u-this.height/2,this.initContextForDraw(t,l),t.database(a-this.width/2,u-this.height/2,this.width,this.height),this.performFill(t,l),this.updateBoundingBox(a,u,t,n,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(24),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"draw",value:function(t,a,u,n,s,l){this._drawShape(t,"diamond",4,a,u,n,s,l)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(24),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"draw",value:function(t,a,u,n,s,l){this._drawShape(t,"circle",2,a,u,n,s,l)}},{key:"distanceToBorder",value:function(t,a){return this.resize(t),this.options.size}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(23),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"resize",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,u)){var n=this.getDimensionsFromLabel(t,a,u);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,a,u,n,s,l){this.resize(t,n,s),this.left=a-this.width*.5,this.top=u-this.height*.5,this.initContextForDraw(t,l),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,l),this.updateBoundingBox(a,u,t,n,s),this.labelModule.draw(t,a,u,n,s)}},{key:"distanceToBorder",value:function(t,a){this.resize(t);var u=this.width*.5,n=this.height*.5,s=Math.sin(a)*u,l=Math.cos(a)*n;return u*n/Math.sqrt(s*s+l*l)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(23),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){(0,x.default)(this,r);var u=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return u._setMargins(a),u}return(0,E.default)(r,[{key:"resize",value:function(t,a,u){this.needsRefresh(a,u)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,a,u,n,s,l){if(this.resize(t,n,s),this.options.icon.size=this.options.icon.size||50,this.left=a-this.width/2,this.top=u-this.height/2,this._icon(t,a,u,n,s,l),this.options.label!==void 0){var g=5;this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,u+this.height/2+g,n)}this.updateBoundingBox(a,u)}},{key:"updateBoundingBox",value:function(t,a){if(this.boundingBox.top=a-this.options.icon.size*.5,this.boundingBox.left=t-this.options.icon.size*.5,this.boundingBox.right=t+this.options.icon.size*.5,this.boundingBox.bottom=a+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var u=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+u)}}},{key:"_icon",value:function(t,a,u,n,s,l){var g=Number(this.options.icon.size);this.options.icon.code!==void 0?(t.font=(n?"bold ":"")+g+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,l),t.fillText(this.options.icon.code,a,u),this.disableShadow(t,l)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(73),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a,u,n){(0,x.default)(this,r);var s=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return s.setImages(u,n),s}return(0,E.default)(r,[{key:"resize",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(n){var s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(a,u)&&this._resizeImage()}},{key:"draw",value:function(t,a,u,n,s,l){if(this.switchImages(n),this.resize(),this.left=a-this.width/2,this.top=u-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var g=this.options.borderWidth,T=this.options.borderWidthSelected||2*this.options.borderWidth,O=(n?T:g)/this.body.view.scale;t.lineWidth=Math.min(this.width,O),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,l),t.closePath()}this._drawImageAtPosition(t,l),this._drawImageLabel(t,a,u,n,s),this.updateBoundingBox(a,u)}},{key:"updateBoundingBox",value:function(t,a){this.resize(),this._updateBoundingBox(t,a),this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(24),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"draw",value:function(t,a,u,n,s,l){this._drawShape(t,"square",2,a,u,n,s,l)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(24),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"draw",value:function(t,a,u,n,s,l){this._drawShape(t,"hexagon",4,a,u,n,s,l)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(24),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"draw",value:function(t,a,u,n,s,l){this._drawShape(t,"star",4,a,u,n,s,l)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(23),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){(0,x.default)(this,r);var u=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a));return u._setMargins(a),u}return(0,E.default)(r,[{key:"resize",value:function(t,a,u){this.needsRefresh(a,u)&&(this.textSize=this.labelModule.getTextSize(t,a,u),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,a,u,n,s,l){this.resize(t,n,s),this.left=a-this.width/2,this.top=u-this.height/2,this.enableShadow(t,l),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s),this.disableShadow(t,l),this.updateBoundingBox(a,u,t,n,s)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(24),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"draw",value:function(t,a,u,n,s,l){this._drawShape(t,"triangle",3,a,u,n,s,l)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(24),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"draw",value:function(t,a,u,n,s,l){this._drawShape(t,"triangleDown",3,a,u,n,s,l)}},{key:"distanceToBorder",value:function(t,a){return this._distanceToBorder(t,a)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(d){return d&&d.__esModule?d:{default:d}}var E=p(2),y=p(11),S=p(12),m=p(74).default,v=function(){function d(h,o,f){var e=this;(0,c.default)(this,d),this.body=h,this.images=o,this.groups=f,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(i,t){e.add(t.items)},update:function(i,t){e.update(t.items)},remove:function(i,t){e.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(i,t,a,u){if(t===i)return .5;var n=1/(t-i);return Math.max(0,(u-i)*n)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},E.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,x.default)(d,[{key:"bindEventListeners",value:function(){var o=this;this.body.emitter.on("_forceDisableDynamicCurves",function(f){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;f==="dynamic"&&(f="continuous");var r=!1;for(var i in o.body.edges)if(o.body.edges.hasOwnProperty(i)){var t=o.body.edges[i],a=o.body.data.edges._data[i];if(a!==void 0){var u=a.smooth;u!==void 0&&u.enabled===!0&&u.type==="dynamic"&&(f===void 0?t.setOptions({smooth:!1}):t.setOptions({smooth:{type:f}}),r=!0)}}e===!0&&r===!0&&o.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){o.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){E.forEach(o.edgesListeners,function(f,e){o.body.data.edges&&o.body.data.edges.off(e,f)}),delete o.body.functions.createEdge,delete o.edgesListeners.add,delete o.edgesListeners.update,delete o.edgesListeners.remove,delete o.edgesListeners})}},{key:"setOptions",value:function(o){if(o!==void 0){m.parseOptions(this.options,o,!0,this.defaultOptions,!0);var f=!1;if(o.smooth!==void 0)for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&(f=this.body.edges[e].updateEdgeType()||f);if(o.font!==void 0)for(var r in this.body.edges)this.body.edges.hasOwnProperty(r)&&this.body.edges[r].updateLabelModule();(o.hidden!==void 0||o.physics!==void 0||f===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(o){var f=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.body.data.edges;if(o instanceof y||o instanceof S)this.body.data.edges=o;else if(Array.isArray(o))this.body.data.edges=new y,this.body.data.edges.add(o);else if(!o)this.body.data.edges=new y;else throw new TypeError("Array or DataSet expected");if(r&&E.forEach(this.edgesListeners,function(t,a){r.off(a,t)}),this.body.edges={},this.body.data.edges){E.forEach(this.edgesListeners,function(t,a){f.body.data.edges.on(a,t)});var i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(o){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=this.body.edges,r=this.body.data.edges,i=0;i<o.length;i++){var t=o[i],a=e[t];a&&a.disconnect();var u=r.get(t,{showInternalIds:!0});e[t]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),f===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(o){for(var f=this.body.edges,e=this.body.data.edges,r=!1,i=0;i<o.length;i++){var t=o[i],a=e.get(t),u=f[t];u!==void 0?(u.disconnect(),r=u.setOptions(a)||r,u.connect()):(this.body.edges[t]=this.create(a),r=!0)}r===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(o.length!==0){var e=this.body.edges;E.forEach(o,function(r){var i=e[r];i!==void 0&&i.remove()}),f&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var o=this;E.forEach(this.body.edges,function(f,e){var r=o.body.data.edges._data[e];r!==void 0&&f.setOptions(r)})}},{key:"create",value:function(o){return new m(o,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var o,f=this.body.nodes,e=this.body.edges;for(o in f)f.hasOwnProperty(o)&&(f[o].edges=[]);for(o in e)if(e.hasOwnProperty(o)){var r=e[o];r.from=null,r.to=null,r.connect()}}},{key:"getConnectedNodes",value:function(o){var f=[];if(this.body.edges[o]!==void 0){var e=this.body.edges[o];e.fromId!==void 0&&f.push(e.fromId),e.toId!==void 0&&f.push(e.toId)}return f}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var o=this,f=[];E.forEach(this.body.edges,function(e,r){var i=o.body.nodes[e.toId],t=o.body.nodes[e.fromId];i!==void 0&&i.isCluster===!0||t!==void 0&&t.isCluster===!0||(i===void 0||t===void 0)&&f.push(r)}),this.remove(f,!1)}},{key:"_addMissingEdges",value:function(){var o=this.body.edges,f=this.body.data.edges,e=[];f.forEach(function(r,i){var t=o[i];t===void 0&&e.push(i)}),this.add(e,!0)}}]),d}();k.default=v},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(30),c=e(D),b=p(3),x=e(b),C=p(0),E=e(C),y=p(1),S=e(y),m=p(4),v=e(m),d=p(5),h=e(d),o=p(216),f=e(o);function e(i){return i&&i.__esModule?i:{default:i}}var r=function(i){(0,h.default)(t,i);function t(a,u,n){return(0,E.default)(this,t),(0,v.default)(this,(t.__proto__||(0,x.default)(t)).call(this,a,u,n))}return(0,S.default)(t,[{key:"_line",value:function(u,n,s){var l=s[0],g=s[1];this._bezierCurve(u,n,l,g)}},{key:"_getViaCoordinates",value:function(){var u=this.from.x-this.to.x,n=this.from.y-this.to.y,s=void 0,l=void 0,g=void 0,T=void 0,O=this.options.smooth.roundness;return(Math.abs(u)>Math.abs(n)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(l=this.from.y,T=this.to.y,s=this.from.x-O*u,g=this.to.x+O*u):(l=this.from.y-O*n,T=this.to.y+O*n,s=this.from.x,g=this.to.x),[{x:s,y:l},{x:g,y:T}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(u,n){return this._findBorderPositionBezier(u,n)}},{key:"_getDistanceToEdge",value:function(u,n,s,l,g,T){var O=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),P=(0,c.default)(O,2),_=P[0],R=P[1];return this._getDistanceToBezierEdge(u,n,s,l,g,T,_,R)}},{key:"getPoint",value:function(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=(0,c.default)(n,2),l=s[0],g=s[1],T=u,O=[];O[0]=Math.pow(1-T,3),O[1]=3*T*Math.pow(1-T,2),O[2]=3*Math.pow(T,2)*(1-T),O[3]=Math.pow(T,3);var P=O[0]*this.fromPoint.x+O[1]*l.x+O[2]*g.x+O[3]*this.toPoint.x,_=O[0]*this.fromPoint.y+O[1]*l.y+O[2]*g.y+O[3]*this.toPoint.y;return{x:P,y:_}}}]),t}(f.default);k.default=r},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(75),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"_getDistanceToBezierEdge",value:function(t,a,u,n,s,l,g,T){var O=1e9,P=void 0,_=void 0,R=void 0,I=void 0,F=void 0,W=t,Y=a,X=[0,0,0,0];for(_=1;_<10;_++)R=.1*_,X[0]=Math.pow(1-R,3),X[1]=3*R*Math.pow(1-R,2),X[2]=3*Math.pow(R,2)*(1-R),X[3]=Math.pow(R,3),I=X[0]*t+X[1]*g.x+X[2]*T.x+X[3]*u,F=X[0]*a+X[1]*g.y+X[2]*T.y+X[3]*n,_>0&&(P=this._getDistanceToLine(W,Y,I,F,s,l),O=P<O?P:O),W=I,Y=F;return O}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(30),c=e(D),b=p(3),x=e(b),C=p(0),E=e(C),y=p(1),S=e(y),m=p(4),v=e(m),d=p(5),h=e(d),o=p(75),f=e(o);function e(i){return i&&i.__esModule?i:{default:i}}var r=function(i){(0,h.default)(t,i);function t(a,u,n){(0,E.default)(this,t);var s=(0,v.default)(this,(t.__proto__||(0,x.default)(t)).call(this,a,u,n));return s._boundFunction=function(){s.positionBezierNode()},s.body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return(0,S.default)(t,[{key:"setOptions",value:function(u){var n=!1;this.options.physics!==u.physics&&(n=!0),this.options=u,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),n===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var u="edgeId:"+this.id,n=this.body.functions.createNode({id:u,shape:"circle",physics:!0,hidden:!0});this.body.nodes[u]=n,this.via=n,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(u,n,s){this._bezierCurve(u,n,s)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via,s=u,l=void 0,g=void 0;if(this.from===this.to){var T=this._getCircleData(this.from),O=(0,c.default)(T,3),P=O[0],_=O[1],R=O[2],I=2*Math.PI*(1-s);l=P+R*Math.sin(I),g=_+R-R*(1-Math.cos(I))}else l=Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*n.x+Math.pow(s,2)*this.toPoint.x,g=Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*n.y+Math.pow(s,2)*this.toPoint.y;return{x:l,y:g}}},{key:"_findBorderPosition",value:function(u,n){return this._findBorderPositionBezier(u,n,this.via)}},{key:"_getDistanceToEdge",value:function(u,n,s,l,g,T){return this._getDistanceToBezierEdge(u,n,s,l,g,T,this.via)}}]),t}(f.default);k.default=r},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(75),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"_line",value:function(t,a,u){this._bezierCurve(t,a,u)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,a=void 0,u=this.options.smooth.roundness,n=this.options.smooth.type,s=Math.abs(this.from.x-this.to.x),l=Math.abs(this.from.y-this.to.y);if(n==="discrete"||n==="diagonalCross"){var g=void 0,T=void 0;s<=l?g=T=u*l:g=T=u*s,this.from.x>this.to.x&&(g=-g),this.from.y>=this.to.y&&(T=-T),t=this.from.x+g,a=this.from.y+T,n==="discrete"&&(s<=l?t=s<u*l?this.from.x:t:a=l<u*s?this.from.y:a)}else if(n==="straightCross"){var O=(1-u)*s,P=(1-u)*l;s<=l?(O=0,this.from.y<this.to.y&&(P=-P)):(this.from.x<this.to.x&&(O=-O),P=0),t=this.to.x+O,a=this.to.y+P}else if(n==="horizontal"){var _=(1-u)*s;this.from.x<this.to.x&&(_=-_),t=this.to.x+_,a=this.from.y}else if(n==="vertical"){var R=(1-u)*l;this.from.y<this.to.y&&(R=-R),t=this.from.x,a=this.to.y+R}else if(n==="curvedCW"){s=this.to.x-this.from.x,l=this.from.y-this.to.y;var I=Math.sqrt(s*s+l*l),F=Math.PI,W=Math.atan2(l,s),Y=(W+(u*.5+.5)*F)%(2*F);t=this.from.x+(u*.5+.5)*I*Math.sin(Y),a=this.from.y+(u*.5+.5)*I*Math.cos(Y)}else if(n==="curvedCCW"){s=this.to.x-this.from.x,l=this.from.y-this.to.y;var X=Math.sqrt(s*s+l*l),q=Math.PI,Q=Math.atan2(l,s),J=(Q+(-u*.5+.5)*q)%(2*q);t=this.from.x+(u*.5+.5)*X*Math.sin(J),a=this.from.y+(u*.5+.5)*X*Math.cos(J)}else{var j=void 0,G=void 0;s<=l?j=G=u*l:j=G=u*s,this.from.x>this.to.x&&(j=-j),this.from.y>=this.to.y&&(G=-G),t=this.from.x+j,a=this.from.y+G,s<=l?this.from.x<=this.to.x?t=this.to.x<t?this.to.x:t:t=this.to.x>t?this.to.x:t:this.from.y>=this.to.y?a=this.to.y>a?this.to.y:a:a=this.to.y<a?this.to.y:a}return{x:t,y:a}}},{key:"_findBorderPosition",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(t,a,u.via)}},{key:"_getDistanceToEdge",value:function(t,a,u,n,s,l){var g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,a,u,n,s,l,g)}},{key:"getPoint",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),u=t,n=Math.pow(1-u,2)*this.fromPoint.x+2*u*(1-u)*a.x+Math.pow(u,2)*this.toPoint.x,s=Math.pow(1-u,2)*this.fromPoint.y+2*u*(1-u)*a.y+Math.pow(u,2)*this.toPoint.y;return{x:n,y:s}}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(118),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"_line",value:function(t,a){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,a),t.stroke(),this.disableShadow(t,a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,a){var u=this.to,n=this.from;t.id===this.from.id&&(u=this.from,n=this.to);var s=Math.atan2(u.y-n.y,u.x-n.x),l=u.x-n.x,g=u.y-n.y,T=Math.sqrt(l*l+g*g),O=t.distanceToBorder(a,s),P=(T-O)/T,_={};return _.x=(1-P)*n.x+P*u.x,_.y=(1-P)*n.y+P*u.y,_}},{key:"_getDistanceToEdge",value:function(t,a,u,n,s,l){return this._getDistanceToLine(t,a,u,n,s,l)}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(8),c=y(D),b=p(0),x=y(b),C=p(1),E=y(C);function y(a){return a&&a.__esModule?a:{default:a}}var S=p(120).default,m=p(221).default,v=p(222).default,d=p(223).default,h=p(224).default,o=p(121).default,f=p(225).default,e=p(226).default,r=p(2),i=p(119).default,t=function(){function a(u){(0,x.default)(this,a),this.body=u,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},r.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,E.default)(a,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("initPhysics",function(){n.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){n.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){n.stopSimulation(),n.ready=!1}),this.body.emitter.on("disablePhysics",function(){n.physicsEnabled=!1,n.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){n.setOptions(n.options),n.ready===!0&&n.startSimulation()}),this.body.emitter.on("startSimulation",function(){n.ready===!0&&n.startSimulation()}),this.body.emitter.on("stopSimulation",function(){n.stopSimulation()}),this.body.emitter.on("destroy",function(){n.stopSimulation(!1),n.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){n.updatePhysicsData()})}},{key:"setOptions",value:function(n){n!==void 0&&(n===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):n===!0?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,r.selectiveNotDeepExtend(["stabilization"],this.options,n),r.mergeOptions(this.options,n,"stabilization"),n.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var n;this.options.solver==="forceAtlas2Based"?(n=this.options.forceAtlas2Based,this.nodesSolver=new f(this.body,this.physicsBody,n),this.edgesSolver=new d(this.body,this.physicsBody,n),this.gravitySolver=new e(this.body,this.physicsBody,n)):this.options.solver==="repulsion"?(n=this.options.repulsion,this.nodesSolver=new m(this.body,this.physicsBody,n),this.edgesSolver=new d(this.body,this.physicsBody,n),this.gravitySolver=new o(this.body,this.physicsBody,n)):this.options.solver==="hierarchicalRepulsion"?(n=this.options.hierarchicalRepulsion,this.nodesSolver=new v(this.body,this.physicsBody,n),this.edgesSolver=new h(this.body,this.physicsBody,n),this.gravitySolver=new o(this.body,this.physicsBody,n)):(n=this.options.barnesHut,this.nodesSolver=new S(this.body,this.physicsBody,n),this.edgesSolver=new d(this.body,this.physicsBody,n),this.gravitySolver=new o(this.body,this.physicsBody,n)),this.modelOptions=n}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,n===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,n===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var n=Date.now();this.physicsTick();var s=Date.now()-n;(s<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){n.body.emitter.emit("stabilized",{iterations:s}),n.startedStabilization=!1,n.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var n=1.2;this._evaluateStepQuality()===!0?this.timestep=n*this.timestep:this.timestep/n<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/n))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var n=this.adaptiveCounter%this.adaptiveInterval===0;n?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var n=this.body.nodes,s=this.body.edges;for(var l in n)n.hasOwnProperty(l)&&n[l].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(n[l].id);for(var g in s)s.hasOwnProperty(g)&&s[g].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(s[g].id);for(var T=0;T<this.physicsBody.physicsNodeIndices.length;T++){var O=this.physicsBody.physicsNodeIndices[T];this.physicsBody.forces[O]={x:0,y:0},this.physicsBody.velocities[O]===void 0&&(this.physicsBody.velocities[O]={x:0,y:0})}for(var P in this.physicsBody.velocities)n[P]===void 0&&delete this.physicsBody.velocities[P]}},{key:"revert",value:function(){var n=(0,c.default)(this.previousStates),s=this.body.nodes,l=this.physicsBody.velocities;this.referenceState={};for(var g=0;g<n.length;g++){var T=n[g];s[T]!==void 0?s[T].options.physics===!0&&(this.referenceState[T]={positions:{x:s[T].x,y:s[T].y}},l[T].x=this.previousStates[T].vx,l[T].y=this.previousStates[T].vy,s[T].x=this.previousStates[T].x,s[T].y=this.previousStates[T].y):delete this.previousStates[T]}}},{key:"_evaluateStepQuality",value:function(){var n=void 0,s=void 0,l=void 0,g=this.body.nodes,T=this.referenceState,O=.3;for(var P in this.referenceState)if(this.referenceState.hasOwnProperty(P)&&g[P]!==void 0&&(n=g[P].x-T[P].positions.x,s=g[P].y-T[P].positions.y,l=Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),l>O))return!1;return!0}},{key:"moveNodes",value:function(){for(var n=this.physicsBody.physicsNodeIndices,s=0,l=0,g=5,T=0;T<n.length;T++){var O=n[T],P=this._performStep(O);s=Math.max(s,P),l+=P}this.adaptiveTimestepEnabled=l/n.length<g,this.stabilized=s<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(n,s,l){var g=this.modelOptions.damping*n,T=(s-g)/l;n+=T*this.timestep;var O=this.options.maxVelocity||1e9;return Math.abs(n)>O&&(n=n>0?O:-O),n}},{key:"_performStep",value:function(n){var s=this.body.nodes[n],l=this.physicsBody.forces[n],g=this.physicsBody.velocities[n];this.previousStates[n]={x:s.x,y:s.y,vx:g.x,vy:g.y},s.options.fixed.x===!1?(g.x=this.calculateComponentVelocity(g.x,l.x,s.options.mass),s.x+=g.x*this.timestep):(l.x=0,g.x=0),s.options.fixed.y===!1?(g.y=this.calculateComponentVelocity(g.y,l.y,s.options.mass),s.y+=g.y*this.timestep):(l.y=0,g.y=0);var T=Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2));return T}},{key:"_freezeNodes",value:function(){var n=this.body.nodes;for(var s in n)if(n.hasOwnProperty(s)&&n[s].x&&n[s].y){var l=n[s].options.fixed;this.freezeCache[s]={x:l.x,y:l.y},l.x=!0,l.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var n=this.body.nodes;for(var s in n)n.hasOwnProperty(s)&&this.freezeCache[s]!==void 0&&(n[s].options.fixed.x=this.freezeCache[s].x,n[s].options.fixed.y=this.freezeCache[s].y);this.freezeCache={}}},{key:"stabilize",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof s!="number"&&(s=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",s)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=s,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return n._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var n=this,s=function(){return n.stabilized===!1&&n.stabilizationIterations<n.targetIterations},l=function(){n.body.emitter.emit("stabilizationProgress",{iterations:n.stabilizationIterations,total:n.targetIterations})};this._startStabilizing()&&l();for(var g=0;s()&&g<this.options.stabilization.updateInterval;)this.physicsTick(),g++;l(),s()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(n){for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var l=this.physicsBody.physicsNodeIndices[s],g=this.body.nodes[l],T=this.physicsBody.forces[l],O=20,P=.03,_=Math.sqrt(Math.pow(T.x,2)+Math.pow(T.x,2)),R=Math.min(Math.max(5,_),15),I=3*R,F=r.HSVToHex((180-Math.min(1,Math.max(0,P*_))*180)/360,1,1),W={x:g.x+O*T.x,y:g.y+O*T.y};n.lineWidth=R,n.strokeStyle=F,n.beginPath(),n.moveTo(g.x,g.y),n.lineTo(W.x,W.y),n.stroke();var Y=Math.atan2(T.y,T.x);n.fillStyle=F,i.draw(n,{type:"arrow",point:W,angle:Y,length:I}),n.fill()}}}]),a}();k.default=t},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(S,m,v){(0,c.default)(this,y),this.body=S,this.physicsBody=m,this.setOptions(v)}return(0,x.default)(y,[{key:"setOptions",value:function(m){this.options=m}},{key:"solve",value:function(){for(var m,v,d,h,o,f,e,r,i=this.body.nodes,t=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,u=this.options.nodeDistance,n=-2/3/u,s=4/3,l=0;l<t.length-1;l++){e=i[t[l]];for(var g=l+1;g<t.length;g++)r=i[t[g]],m=r.x-e.x,v=r.y-e.y,d=Math.sqrt(m*m+v*v),d===0&&(d=.1*Math.random(),m=d),d<2*u&&(d<.5*u?f=1:f=n*d+s,f=f/d,h=m*f,o=v*f,a[e.id].x-=h,a[e.id].y-=o,a[r.id].x+=h,a[r.id].y+=o)}}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(S,m,v){(0,c.default)(this,y),this.body=S,this.physicsBody=m,this.setOptions(v)}return(0,x.default)(y,[{key:"setOptions",value:function(m){this.options=m}},{key:"solve",value:function(){var m,v,d,h,o,f,e,r,i,t,a=this.body.nodes,u=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,s=this.options.nodeDistance;for(i=0;i<u.length-1;i++)for(e=a[u[i]],t=i+1;t<u.length;t++)if(r=a[u[t]],e.level===r.level){m=r.x-e.x,v=r.y-e.y,d=Math.sqrt(m*m+v*v);var l=.05;d<s?f=-Math.pow(l*d,2)+Math.pow(l*s,2):f=0,d===0?d=.01:f=f/d,h=m*f,o=v*f,n[e.id].x-=h,n[e.id].y-=o,n[r.id].x+=h,n[r.id].y+=o}}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(S,m,v){(0,c.default)(this,y),this.body=S,this.physicsBody=m,this.setOptions(v)}return(0,x.default)(y,[{key:"setOptions",value:function(m){this.options=m}},{key:"solve",value:function(){for(var m=void 0,v=void 0,d=this.physicsBody.physicsEdgeIndices,h=this.body.edges,o=void 0,f=void 0,e=void 0,r=0;r<d.length;r++)v=h[d[r]],v.connected===!0&&v.toId!==v.fromId&&this.body.nodes[v.toId]!==void 0&&this.body.nodes[v.fromId]!==void 0&&(v.edgeType.via!==void 0?(m=v.options.length===void 0?this.options.springLength:v.options.length,o=v.to,f=v.edgeType.via,e=v.from,this._calculateSpringForce(o,f,.5*m),this._calculateSpringForce(f,e,.5*m)):(m=v.options.length===void 0?this.options.springLength*1.5:v.options.length,this._calculateSpringForce(v.from,v.to,m)))}},{key:"_calculateSpringForce",value:function(m,v,d){var h=m.x-v.x,o=m.y-v.y,f=Math.max(Math.sqrt(h*h+o*o),.01),e=this.options.springConstant*(d-f)/f,r=h*e,i=o*e;this.physicsBody.forces[m.id]!==void 0&&(this.physicsBody.forces[m.id].x+=r,this.physicsBody.forces[m.id].y+=i),this.physicsBody.forces[v.id]!==void 0&&(this.physicsBody.forces[v.id].x-=r,this.physicsBody.forces[v.id].y-=i)}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(S,m,v){(0,c.default)(this,y),this.body=S,this.physicsBody=m,this.setOptions(v)}return(0,x.default)(y,[{key:"setOptions",value:function(m){this.options=m}},{key:"solve",value:function(){for(var m,v,d,h,o,f,e,r,i=this.body.edges,t=.5,a=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,s=0;s<u.length;s++){var l=u[s];n[l].springFx=0,n[l].springFy=0}for(var g=0;g<a.length;g++)v=i[a[g]],v.connected===!0&&(m=v.options.length===void 0?this.options.springLength:v.options.length,d=v.from.x-v.to.x,h=v.from.y-v.to.y,r=Math.sqrt(d*d+h*h),r=r===0?.01:r,e=this.options.springConstant*(m-r)/r,o=d*e,f=h*e,v.to.level!=v.from.level?(n[v.toId]!==void 0&&(n[v.toId].springFx-=o,n[v.toId].springFy-=f),n[v.fromId]!==void 0&&(n[v.fromId].springFx+=o,n[v.fromId].springFy+=f)):(n[v.toId]!==void 0&&(n[v.toId].x-=t*o,n[v.toId].y-=t*f),n[v.fromId]!==void 0&&(n[v.fromId].x+=t*o,n[v.fromId].y+=t*f)));e=1;for(var T,O,P=0;P<u.length;P++){var _=u[P];T=Math.min(e,Math.max(-e,n[_].springFx)),O=Math.min(e,Math.max(-e,n[_].springFy)),n[_].x+=T,n[_].y+=O}for(var R=0,I=0,F=0;F<u.length;F++){var W=u[F];R+=n[W].x,I+=n[W].y}for(var Y=R/u.length,X=I/u.length,q=0;q<u.length;q++){var Q=u[q];n[Q].x-=Y,n[Q].y-=X}}}]),y}();k.default=E},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(120),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"_calculateForces",value:function(t,a,u,n,s){t===0&&(t=.1*Math.random(),a=t),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var l=n.edges.length+1,g=this.options.gravitationalConstant*s.mass*n.options.mass*l/Math.pow(t,2),T=a*g,O=u*g;this.physicsBody.forces[n.id].x+=T,this.physicsBody.forces[n.id].y+=O}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=o(D),b=p(0),x=o(b),C=p(1),E=o(C),y=p(4),S=o(y),m=p(5),v=o(m),d=p(121),h=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,v.default)(r,e);function r(i,t,a){return(0,x.default)(this,r),(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a))}return(0,E.default)(r,[{key:"_calculateForces",value:function(t,a,u,n,s){if(t>0){var l=s.edges.length+1,g=this.options.centralGravity*l*s.options.mass;n[s.id].x=a*g,n[s.id].y=u*g}}}]),r}(h.default);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(8),c=m(D),b=p(6),x=m(b),C=p(0),E=m(C),y=p(1),S=m(y);function m(r){return r&&r.__esModule?r:{default:r}}var v=p(2),d=p(76).default,h=p(228).default,o=p(74).default,f=p(47).default,e=function(){function r(i){var t=this;(0,E.default)(this,r),this.body=i,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},v.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return(0,S.default)(r,[{key:"clusterByHubsize",value:function(t,a){t===void 0?t=this._getHubSize():(typeof t>"u"?"undefined":(0,x.default)(t))==="object"&&(a=this._checkOptions(t),t=this._getHubSize());for(var u=[],n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>=t&&u.push(s.id)}for(var l=0;l<u.length;l++)this.clusterByConnection(u[l],a,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(a.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");a=this._checkOptions(a);var n={},s={};v.forEach(this.body.nodes,function(l,g){var T=d.cloneOptions(l);a.joinCondition(T)===!0&&(n[g]=l,v.forEach(l.edges,function(O){t.clusteredEdges[O.id]===void 0&&(s[O.id]=O)}))}),this._cluster(n,s,a,u)}},{key:"clusterByEdgeCount",value:function(t,a){var u=this,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;a=this._checkOptions(a);for(var s=[],l={},g=void 0,T=void 0,O=void 0,P=function(Y){var X={},q={},Q=u.body.nodeIndices[Y],J=u.body.nodes[Q];if(l[Q]===void 0){O=0,T=[];for(var j=0;j<J.edges.length;j++)g=J.edges[j],u.clusteredEdges[g.id]===void 0&&(g.toId!==g.fromId&&O++,T.push(g));if(O===t){R=function(he){if(a.joinCondition===void 0||a.joinCondition===null)return!0;var de=d.cloneOptions(he);return a.joinCondition(de)};for(var G=!0,U=0;U<T.length;U++){g=T[U];var $=u._getConnectedId(g,Q);if(R(J))q[g.id]=g,X[Q]=J,X[$]=u.body.nodes[$],l[Q]=!0;else{G=!1;break}}if((0,c.default)(X).length>0&&(0,c.default)(q).length>0&&G===!0)if(I=function(){for(var he=0;he<s.length;++he)for(var de in X)if(s[he].nodes[de]!==void 0)return s[he]},F=I(),F!==void 0){for(var ne in X)F.nodes[ne]===void 0&&(F.nodes[ne]=X[ne]);for(var se in q)F.edges[se]===void 0&&(F.edges[se]=q[se])}else s.push({nodes:X,edges:q})}}},_=0;_<this.body.nodeIndices.length;_++){var R,I,F;P(_)}for(var _=0;_<s.length;_++)this._cluster(s[_].nodes,s[_].edges,a,!1);n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,t,a)}},{key:"clusterBridges",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,t,a)}},{key:"clusterByConnection",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[t]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];a=this._checkOptions(a,n),a.clusterNodeProperties.x===void 0&&(a.clusterNodeProperties.x=n.x),a.clusterNodeProperties.y===void 0&&(a.clusterNodeProperties.y=n.y),a.clusterNodeProperties.fixed===void 0&&(a.clusterNodeProperties.fixed={},a.clusterNodeProperties.fixed.x=n.options.fixed.x,a.clusterNodeProperties.fixed.y=n.options.fixed.y);var s={},l={},g=n.id,T=d.cloneOptions(n);s[g]=n;for(var O=0;O<n.edges.length;O++){var P=n.edges[O];if(this.clusteredEdges[P.id]===void 0){var _=this._getConnectedId(P,g);if(this.clusteredNodes[_]===void 0)if(_!==g)if(a.joinCondition===void 0)l[P.id]=P,s[_]=this.body.nodes[_];else{var R=d.cloneOptions(this.body.nodes[_]);a.joinCondition(T,R)===!0&&(l[P.id]=P,s[_]=this.body.nodes[_])}else l[P.id]=P}}var I=(0,c.default)(s).map(function(X){return s[X].id});for(F in s)if(s.hasOwnProperty(F))for(var F=s[F],W=0;W<F.edges.length;W++){var Y=F.edges[W];I.indexOf(this._getConnectedId(Y,F.id))>-1&&(l[Y.id]=Y)}this._cluster(s,l,a,u)}},{key:"_createClusterEdges",value:function(t,a,u,n){for(var s=void 0,l=void 0,g=void 0,T=void 0,O=void 0,P=void 0,_=(0,c.default)(t),R=[],I=0;I<_.length;I++){l=_[I],g=t[l];for(var F=0;F<g.edges.length;F++)s=g.edges[F],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?a[s.id]=s:s.toId==l?(T=u.id,O=s.fromId,P=O):(T=s.toId,O=u.id,P=T),t[P]===void 0&&R.push({edge:s,fromId:O,toId:T}))}for(var W=[],Y=function(G){for(var U=0;U<W.length;U++){var $=W[U],ne=G.fromId===$.fromId&&G.toId===$.toId,se=G.fromId===$.toId&&G.toId===$.fromId;if(ne||se)return $}return null},X=0;X<R.length;X++){var q=R[X],Q=q.edge,J=Y(q);J===null?(J=this._createClusteredEdge(q.fromId,q.toId,Q,n),W.push(J)):J.clusteringEdgeReplacingIds.push(Q.id),this.body.edges[Q.id].edgeReplacedById=J.id,this._backupEdgeOptions(Q),Q.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.clusterEdgeProperties===void 0&&(t.clusterEdgeProperties={}),t.clusterNodeProperties===void 0&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,a,u){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=[];for(var l in t)t.hasOwnProperty(l)&&this.clusteredNodes[l]!==void 0&&s.push(l);for(var g=0;g<s.length;++g)delete t[s[g]];if((0,c.default)(t).length!=0&&!((0,c.default)(t).length==1&&u.clusterNodeProperties.allowSingleNodeCluster!=!0)){var T=v.deepExtend({},u.clusterNodeProperties);if(u.processProperties!==void 0){var O=[];for(var P in t)if(t.hasOwnProperty(P)){var _=d.cloneOptions(t[P]);O.push(_)}var R=[];for(var I in a)if(a.hasOwnProperty(I)&&I.substr(0,12)!=="clusterEdge:"){var F=d.cloneOptions(a[I],"edge");R.push(F)}if(T=u.processProperties(T,O,R),!T)throw new Error("The processProperties function does not return properties!")}T.id===void 0&&(T.id="cluster:"+v.randomUUID());var W=T.id;T.label===void 0&&(T.label="cluster");var Y=void 0;T.x===void 0&&(Y=this._getClusterPosition(t),T.x=Y.x),T.y===void 0&&(Y===void 0&&(Y=this._getClusterPosition(t)),T.y=Y.y),T.id=W;var X=this.body.functions.createNode(T,h);X.containedNodes=t,X.containedEdges=a,X.clusterEdgeProperties=u.clusterEdgeProperties,this.body.nodes[T.id]=X,this._clusterEdges(t,a,T,u.clusterEdgeProperties),T.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){this.clusteredEdges[t.id]===void 0&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var a=this.clusteredEdges[t.id];a!==void 0&&(t.setOptions({physics:a.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return this.body.nodes[t]!==void 0?this.body.nodes[t].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var a=(0,c.default)(t),u=t[a[0]].x,n=t[a[0]].x,s=t[a[0]].y,l=t[a[0]].y,g=void 0,T=1;T<a.length;T++)g=t[a[T]],u=g.x<u?g.x:u,n=g.x>n?g.x:n,s=g.y<s?g.y:s,l=g.y>l?g.y:l;return{x:.5*(u+n),y:.5*(s+l)}}},{key:"openCluster",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+t+" is not a valid cluster.");var s=this.findNode(t),l=s.indexOf(t)-1;if(l>=0){var g=s[l],T=this.body.nodes[g];T._openChildCluster(t),delete this.body.nodes[t],u===!0&&this.body.emitter.emit("_dataChanged");return}var O=n.containedNodes,P=n.containedEdges;if(a!==void 0&&a.releaseFunction!==void 0&&typeof a.releaseFunction=="function"){var _={},R={x:n.x,y:n.y};for(var I in O)if(O.hasOwnProperty(I)){var F=this.body.nodes[I];_[I]={x:F.x,y:F.y}}var W=a.releaseFunction(R,_);for(var Y in O)if(O.hasOwnProperty(Y)){var X=this.body.nodes[Y];W[Y]!==void 0&&(X.x=W[Y].x===void 0?n.x:W[Y].x,X.y=W[Y].y===void 0?n.y:W[Y].y)}}else v.forEach(O,function(Ce){Ce.options.fixed.x===!1&&(Ce.x=n.x),Ce.options.fixed.y===!1&&(Ce.y=n.y)});for(var q in O)if(O.hasOwnProperty(q)){var Q=this.body.nodes[q];Q.vx=n.vx,Q.vy=n.vy,Q.setOptions({physics:!0}),delete this.clusteredNodes[q]}for(var J=[],j=0;j<n.edges.length;j++)J.push(n.edges[j]);for(var G=0;G<J.length;G++){for(var U=J[G],$=this._getConnectedId(U,t),ne=this.clusteredNodes[$],se=0;se<U.clusteringEdgeReplacingIds.length;se++){var te=U.clusteringEdgeReplacingIds[se],he=this.body.edges[te];if(he!==void 0)if(ne!==void 0){var de=this.body.nodes[ne.clusterId];de.containedEdges[he.id]=he,delete P[he.id];var ve=he.fromId,De=he.toId;he.toId==$?De=ne.clusterId:ve=ne.clusterId,this._createClusteredEdge(ve,De,he,de.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(he)}U.remove()}for(var _e in P)P.hasOwnProperty(_e)&&this._restoreEdge(P[_e]);delete this.body.nodes[t],u===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var a=[];if(this.isCluster(t)===!0){var u=this.body.nodes[t].containedNodes;for(var n in u)u.hasOwnProperty(n)&&a.push(this.body.nodes[n].id)}return a}},{key:"findNode",value:function(t){for(var a=[],u=100,n=0,s=void 0;this.clusteredNodes[t]!==void 0&&n<u;){if(s=this.body.nodes[t],s===void 0)return[];a.push(s.id),t=this.clusteredNodes[t].clusterId,n++}return s=this.body.nodes[t],s===void 0?[]:(a.push(s.id),a.reverse(),a)}},{key:"updateClusteredNode",value:function(t,a){if(t===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(a===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[t]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(a),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,a){if(t===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(a===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[t]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var u=this.getClusteredEdges(t),n=0;n<u.length;n++){var s=this.body.edges[u[n]];s.setOptions(a)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var a=[],u=100,n=0;t!==void 0&&this.body.edges[t]!==void 0&&n<u;)a.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return a.reverse(),a}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var a=[t],u=[],n=[],s=100,l=0;a.length>0&&l<s;){var g=a.pop();if(g!==void 0){var T=this.body.edges[g];if(T!==void 0){l++;var O=T.clusteringEdgeReplacingIds;if(O===void 0)n.push(g);else for(var P=0;P<O.length;++P){var _=O[P];a.indexOf(O)!==-1||u.indexOf(O)!==-1||a.push(_)}u.push(g)}}}return n}},{key:"_getConnectedId",value:function(t,a){return t.toId!=a?t.toId:(t.fromId!=a,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,a=0,u=0,n=0,s=0;s<this.body.nodeIndices.length;s++){var l=this.body.nodes[this.body.nodeIndices[s]];l.edges.length>n&&(n=l.edges.length),t+=l.edges.length,a+=Math.pow(l.edges.length,2),u+=1}t=t/u,a=a/u;var g=a-Math.pow(t,2),T=Math.sqrt(g),O=Math.floor(t+2*T);return O>n&&(O=n),O}},{key:"_createClusteredEdge",value:function(t,a,u,n,s){var l=d.cloneOptions(u,"edge");v.deepExtend(l,n),l.from=t,l.to=a,l.id="clusterEdge:"+v.randomUUID(),s!==void 0&&v.deepExtend(l,s);var g=this.body.functions.createEdge(l);return g.clusteringEdgeReplacingIds=[u.id],g.connect(),this.body.edges[g.id]=g,g}},{key:"_clusterEdges",value:function(t,a,u,n){if(a instanceof o){var s=a,l={};l[s.id]=s,a=l}if(t instanceof f){var g=t,T={};T[g.id]=g,t=T}if(u==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=u.clusterEdgeProperties),this._createClusterEdges(t,a,u,n);for(var O in a)if(a.hasOwnProperty(O)&&this.body.edges[O]!==void 0){var P=this.body.edges[O];this._backupEdgeOptions(P),P.setOptions({physics:!1})}for(var _ in t)t.hasOwnProperty(_)&&(this.clusteredNodes[_]={clusterId:u.id,node:this.body.nodes[_]},this.body.nodes[_].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(t!==void 0){var a=this.clusteredNodes[t];if(a!==void 0){var u=a.clusterId;if(u!==void 0)return this.body.nodes[u]}}}},{key:"_filter",value:function(t,a){var u=[];return v.forEach(t,function(n){a(n)&&u.push(n)}),u}},{key:"_updateState",value:function(){var t=this,a=void 0,u=[],n=[],s=function(I){v.forEach(t.body.nodes,function(F){F.isCluster===!0&&I(F)})};for(a in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(a)){var l=this.body.nodes[a];l===void 0&&u.push(a)}s(function(R){for(var I=0;I<u.length;I++)delete R.containedNodes[u[I]]});for(var g=0;g<u.length;g++)delete this.clusteredNodes[u[g]];v.forEach(this.clusteredEdges,function(R){var I=t.body.edges[R];(I===void 0||!I.endPointsValid())&&n.push(R)}),s(function(R){v.forEach(R.containedEdges,function(I,F){!I.endPointsValid()&&n.indexOf(F)===-1&&n.push(F)})}),v.forEach(this.body.edges,function(R,I){var F=!0,W=R.clusteringEdgeReplacingIds;if(W!==void 0){var Y=0;v.forEach(W,function(X){var q=t.body.edges[X];q!==void 0&&q.endPointsValid()&&(Y+=1)}),F=Y>0}(!R.endPointsValid()||!F)&&n.push(I)}),s(function(R){v.forEach(n,function(I){delete R.containedEdges[I],v.forEach(R.edges,function(F,W){if(F.id===I){R.edges[W]=null;return}F.clusteringEdgeReplacingIds=t._filter(F.clusteringEdgeReplacingIds,function(Y){return n.indexOf(Y)===-1})}),R.edges=t._filter(R.edges,function(F){return F!==null})})}),v.forEach(n,function(R){delete t.clusteredEdges[R]}),v.forEach(n,function(R){delete t.body.edges[R]});var T=(0,c.default)(this.body.edges);v.forEach(T,function(R){var I=t.body.edges[R],F=t._isClusteredNode(I.fromId)||t._isClusteredNode(I.toId);if(F!==t._isClusteredEdge(I.id))if(F){var W=t._getClusterNodeForNode(I.fromId);W!==void 0&&t._clusterEdges(t.body.nodes[I.fromId],I,W);var Y=t._getClusterNodeForNode(I.toId);Y!==void 0&&t._clusterEdges(t.body.nodes[I.toId],I,Y)}else throw new Error("remove edge from clustering not implemented!")});for(var O=!1,P=!0,_=function(){var I=[];s(function(W){var Y=(0,c.default)(W.containedNodes).length,X=W.options.allowSingleNodeCluster===!0;(X&&Y<1||!X&&Y<2)&&I.push(W.id)});for(var F=0;F<I.length;++F)t.openCluster(I[F],{},!1);P=I.length>0,O=O||P};P;)_();O&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return this.clusteredNodes[t]!==void 0}},{key:"_isClusteredEdge",value:function(t){return this.clusteredEdges[t]!==void 0}}]),r}();k.default=e},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(3),c=d(D),b=p(0),x=d(b),C=p(1),E=d(C),y=p(4),S=d(y),m=p(5),v=d(m);function d(e){return e&&e.__esModule?e:{default:e}}var h=p(2),o=p(47).default,f=function(e){(0,v.default)(r,e);function r(i,t,a,u,n,s){(0,x.default)(this,r);var l=(0,S.default)(this,(r.__proto__||(0,c.default)(r)).call(this,i,t,a,u,n,s));return l.isCluster=!0,l.containedNodes={},l.containedEdges={},l}return(0,E.default)(r,[{key:"_openChildCluster",value:function(t){var a=this,u=this.body.nodes[t];if(this.containedNodes[t]===void 0)throw new Error("node with id: "+t+" not in current cluster");if(!u.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],h.forEach(u.edges,function(n){delete a.containedEdges[n.id]}),h.forEach(u.containedNodes,function(n,s){a.containedNodes[s]=n}),u.containedNodes={},h.forEach(u.containedEdges,function(n,s){a.containedEdges[s]=n}),u.containedEdges={},h.forEach(u.edges,function(n){h.forEach(a.edges,function(s){var l=s.clusteringEdgeReplacingIds.indexOf(n.id);l!==-1&&(h.forEach(n.clusteringEdgeReplacingIds,function(g){s.clusteringEdgeReplacingIds.push(g),a.body.edges[g].edgeReplacedById=s.id}),s.clusteringEdgeReplacingIds.splice(l,1))})}),u.edges=[]}}]),r}(o);k.default=f},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(m){return m&&m.__esModule?m:{default:m}}function E(){var m;window!==void 0&&(m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),m===void 0?window.requestAnimationFrame=function(v){v()}:window.requestAnimationFrame=m}var y=p(2),S=function(){function m(v,d){(0,c.default)(this,m),E(),this.body=v,this.canvas=d,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},y.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,x.default)(m,[{key:"bindEventListeners",value:function(){var d=this;this.body.emitter.on("dragStart",function(){d.dragging=!0}),this.body.emitter.on("dragEnd",function(){d.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){d._resizeNodes()}),this.body.emitter.on("_redraw",function(){d.renderingActive===!1&&d._redraw()}),this.body.emitter.on("_blockRedraw",function(){d.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){d.allowRedraw=!0,d.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){d.renderRequests+=1,d.renderingActive=!0,d._startRendering()}),this.body.emitter.on("_stopRendering",function(){d.renderRequests-=1,d.renderingActive=d.renderRequests>0,d.renderTimer=void 0}),this.body.emitter.on("destroy",function(){d.renderRequests=0,d.allowRedraw=!1,d.renderingActive=!1,d.requiresTimeout===!0?clearTimeout(d.renderTimer):window.cancelAnimationFrame(d.renderTimer),d.body.emitter.off()})}},{key:"setOptions",value:function(d){if(d!==void 0){var h=["hideEdgesOnDrag","hideNodesOnDrag"];y.selectiveDeepExtend(h,this.options,d)}}},{key:"_requestNextFrame",value:function(d,h){if(!(typeof window>"u")){var o=void 0,f=window;return this.requiresTimeout===!0?o=f.setTimeout(d,h):f.requestAnimationFrame&&(o=f.requestAnimationFrame(d)),o}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var d=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){d._redraw(!1)},0))}},{key:"_redraw",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var h=this.canvas.getContext(),o=this.canvas.frame.canvas.clientWidth,f=this.canvas.frame.canvas.clientHeight;if(h.clearRect(0,0,o,f),this.canvas.frame.clientWidth===0)return;h.save(),h.translate(this.body.view.translation.x,this.body.view.translation.y),h.scale(this.body.view.scale,this.body.view.scale),h.beginPath(),this.body.emitter.emit("beforeDrawing",h),h.closePath(),d===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(h),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(h,d),h.beginPath(),this.body.emitter.emit("afterDrawing",h),h.closePath(),h.restore(),d===!0&&h.clearRect(0,0,o,f)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var d=this.canvas.getContext();d.save(),d.translate(this.body.view.translation.x,this.body.view.translation.y),d.scale(this.body.view.scale,this.body.view.scale);var h=this.body.nodes,o=void 0;for(var f in h)h.hasOwnProperty(f)&&(o=h[f],o.resize(d),o.updateBoundingBox(d,o.selected));d.restore()}},{key:"_drawNodes",value:function(d){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.body.nodes,f=this.body.nodeIndices,e=void 0,r=[],i=20,t=this.canvas.DOMtoCanvas({x:-i,y:-i}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+i,y:this.canvas.frame.canvas.clientHeight+i}),u={top:t.y,left:t.x,bottom:a.y,right:a.x},n=0;n<f.length;n++)e=o[f[n]],e.isSelected()?r.push(f[n]):h===!0||e.isBoundingBoxOverlappingWith(u)===!0?e.draw(d):e.updateBoundingBox(d,e.selected);for(var s=0;s<r.length;s++)e=o[r[s]],e.draw(d)}},{key:"_drawEdges",value:function(d){for(var h=this.body.edges,o=this.body.edgeIndices,f=void 0,e=0;e<o.length;e++)f=h[o[e]],f.connected===!0&&f.draw(d)}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var d=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,d.indexOf("msie 9.0")!=-1?this.requiresTimeout=!0:d.indexOf("safari")!=-1&&d.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),m}();k.default=S},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(v){return v&&v.__esModule?v:{default:v}}var E=p(10),y=p(37),S=p(2),m=function(){function v(d){(0,c.default)(this,v),this.body=d,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},S.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,x.default)(v,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.once("resize",function(o){o.width!==0&&(h.body.view.translation.x=o.width*.5),o.height!==0&&(h.body.view.translation.y=o.height*.5)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){h.hammerFrame.destroy(),h.hammer.destroy(),h._cleanUp()})}},{key:"setOptions",value:function(h){var o=this;if(h!==void 0){var f=["width","height","autoResize"];S.selectiveDeepExtend(f,this.options,h)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var e=o.setSize();e===!0&&o.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),S.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){this.resizeTimer!==void 0&&clearInterval(this.resizeTimer),S.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/h,this.cameraState.previousHeight=this.frame.canvas.height/h,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/h,y:.5*this.frame.canvas.height/h}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0){var h=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,o=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,f=this.cameraState.scale;h!=1&&o!=1?f=this.cameraState.scale*.5*(h+o):h!=1?f=this.cameraState.scale*h:o!=1&&(f=this.cameraState.scale*o),this.body.view.scale=f;var e=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:e.x-this.cameraState.position.x,y:e.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(h){if(typeof h=="number")return h+"px";if(typeof h=="string"){if(h.indexOf("%")!==-1||h.indexOf("px")!==-1)return h;if(h.indexOf("%")===-1)return h+"px"}throw new Error("Could not use the value supplied for width or height:"+h)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var h=document.createElement("DIV");h.style.color="red",h.style.fontWeight="bold",h.style.padding="10px",h.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(h)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var h=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new E(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:E.DIRECTION_ALL}),y.onTouch(this.hammer,function(o){h.body.eventListeners.onTouch(o)}),this.hammer.on("tap",function(o){h.body.eventListeners.onTap(o)}),this.hammer.on("doubletap",function(o){h.body.eventListeners.onDoubleTap(o)}),this.hammer.on("press",function(o){h.body.eventListeners.onHold(o)}),this.hammer.on("panstart",function(o){h.body.eventListeners.onDragStart(o)}),this.hammer.on("panmove",function(o){h.body.eventListeners.onDrag(o)}),this.hammer.on("panend",function(o){h.body.eventListeners.onDragEnd(o)}),this.hammer.on("pinch",function(o){h.body.eventListeners.onPinch(o)}),this.frame.canvas.addEventListener("mousewheel",function(o){h.body.eventListeners.onMouseWheel(o)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(o){h.body.eventListeners.onMouseWheel(o)}),this.frame.canvas.addEventListener("mousemove",function(o){h.body.eventListeners.onMouseMove(o)}),this.frame.canvas.addEventListener("contextmenu",function(o){h.body.eventListeners.onContext(o)}),this.hammerFrame=new E(this.frame),y.onRelease(this.hammerFrame,function(o){h.body.eventListeners.onRelease(o)})}},{key:"setSize",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;h=this._prepareValue(h),o=this._prepareValue(o);var f=!1,e=this.frame.canvas.width,r=this.frame.canvas.height,i=this.pixelRatio;if(this._setPixelRatio(),h!=this.options.width||o!=this.options.height||this.frame.style.width!=h||this.frame.style.height!=o)this._getCameraState(i),this.frame.style.width=h,this.frame.style.height=o,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=h,this.options.height=o,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},f=!0;else{var t=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==t||this.frame.canvas.height!==a)&&this._getCameraState(i),this.frame.canvas.width!==t&&(this.frame.canvas.width=t,f=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,f=!0)}return f===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(e/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,f}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var h=this.getContext();if(h===void 0)throw new Error("Could not get canvax context");var o=1;typeof window<"u"&&(o=window.devicePixelRatio||1);var f=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return o/f}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var h=this.getContext();if(h===void 0)throw new Error("Could not get canvax context");h.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(h){return(h-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(h){return h*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(h){return(h-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(h){return h*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(h){return{x:this._XconvertCanvasToDOM(h.x),y:this._YconvertCanvasToDOM(h.y)}}},{key:"DOMtoCanvas",value:function(h){return{x:this._XconvertDOMtoCanvas(h.x),y:this._YconvertDOMtoCanvas(h.y)}}}]),v}();k.default=m},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(m){return m&&m.__esModule?m:{default:m}}var E=p(2),y=p(76).default,S=function(){function m(v,d){var h=this;(0,c.default)(this,m),this.body=v,this.canvas=d,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){h.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,x.default)(m,[{key:"setOptions",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=d}},{key:"fit",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{nodes:[]},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=void 0,f=void 0;if((d.nodes===void 0||d.nodes.length===0)&&(d.nodes=this.body.nodeIndices),h===!0){var e=0;for(var r in this.body.nodes)if(this.body.nodes.hasOwnProperty(r)){var i=this.body.nodes[r];i.predefinedPosition===!0&&(e+=1)}if(e>.5*this.body.nodeIndices.length){this.fit(d,!1);return}o=y.getRange(this.body.nodes,d.nodes);var t=this.body.nodeIndices.length;f=12.662/(t+7.4147)+.0964822;var a=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);f*=a}else{this.body.emitter.emit("_resizeNodes"),o=y.getRange(this.body.nodes,d.nodes);var u=Math.abs(o.maxX-o.minX)*1.1,n=Math.abs(o.maxY-o.minY)*1.1,s=this.canvas.frame.canvas.clientWidth/u,l=this.canvas.frame.canvas.clientHeight/n;f=s<=l?s:l}(f>1||f===0)&&(f=1);var g=y.findCenter(o),T={position:g,scale:f,animation:d.animation};this.moveTo(T)}},{key:"focus",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[d]!==void 0){var o={x:this.body.nodes[d].x,y:this.body.nodes[d].y};h.position=o,h.lockedOnNode=d,this.moveTo(h)}else console.log("Node: "+d+" cannot be found.")}},{key:"moveTo",value:function(d){if(d===void 0){d={};return}d.offset===void 0&&(d.offset={x:0,y:0}),d.offset.x===void 0&&(d.offset.x=0),d.offset.y===void 0&&(d.offset.y=0),d.scale===void 0&&(d.scale=this.body.view.scale),d.position===void 0&&(d.position=this.getViewPosition()),d.animation===void 0&&(d.animation={duration:0}),d.animation===!1&&(d.animation={duration:0}),d.animation===!0&&(d.animation={}),d.animation.duration===void 0&&(d.animation.duration=1e3),d.animation.easingFunction===void 0&&(d.animation.easingFunction="easeInOutQuad"),this.animateView(d)}},{key:"animateView",value:function(d){if(d!==void 0){this.animationEasingFunction=d.animation.easingFunction,this.releaseNode(),d.locked===!0&&(this.lockedOnNodeId=d.lockedOnNode,this.lockedOnNodeOffset=d.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=d.scale,this.body.view.scale=this.targetScale;var h=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o={x:h.x-d.position.x,y:h.y-d.position.y};this.targetTranslation={x:this.sourceTranslation.x+o.x*this.targetScale+d.offset.x,y:this.sourceTranslation.y+o.y*this.targetScale+d.offset.y},d.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*d.animation.duration*.001)||1/60,this.animationEasingFunction=d.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var d={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},h=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o={x:h.x-d.x,y:h.y-d.y},f=this.body.view.translation,e={x:f.x+o.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:f.y+o.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=e}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=d===!0?1:this.easingTime;var h=E.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*h,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*h,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*h},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),m}();k.default=S},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(v){return v&&v.__esModule?v:{default:v}}var E=p(2),y=p(233).default,S=p(104).default,m=function(){function v(d,h,o){(0,c.default)(this,v),this.body=d,this.canvas=h,this.selectionHandler=o,this.navigationHandler=new y(d,h),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},E.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,x.default)(v,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.on("destroy",function(){clearTimeout(h.popupTimer),delete h.body.functions.getPointer})}},{key:"setOptions",value:function(h){if(h!==void 0){var o=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];E.selectiveNotDeepExtend(o,this.options,h),E.mergeOptions(this.options,h,"keyboard"),h.tooltip&&(E.extend(this.options.tooltip,h.tooltip),h.tooltip.color&&(this.options.tooltip.color=E.parseColor(h.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(h){return{x:h.x-E.getAbsoluteLeft(this.canvas.frame.canvas),y:h.y-E.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(h){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(h.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(h){var o=this.getPointer(h.center),f=this.selectionHandler.options.multiselect&&(h.changedPointers[0].ctrlKey||h.changedPointers[0].metaKey);this.checkSelectionChanges(o,h,f),this.selectionHandler._generateClickEvent("click",h,o)}},{key:"onDoubleTap",value:function(h){var o=this.getPointer(h.center);this.selectionHandler._generateClickEvent("doubleClick",h,o)}},{key:"onHold",value:function(h){var o=this.getPointer(h.center),f=this.selectionHandler.options.multiselect;this.checkSelectionChanges(o,h,f),this.selectionHandler._generateClickEvent("click",h,o),this.selectionHandler._generateClickEvent("hold",h,o)}},{key:"onRelease",value:function(h){if(new Date().valueOf()-this.touchTime>10){var o=this.getPointer(h.center);this.selectionHandler._generateClickEvent("release",h,o),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(h){var o=this.getPointer({x:h.clientX,y:h.clientY});this.selectionHandler._generateClickEvent("oncontext",h,o)}},{key:"checkSelectionChanges",value:function(h,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,e=this.selectionHandler.getSelection(),r=!1;f===!0?r=this.selectionHandler.selectAdditionalOnPoint(h):r=this.selectionHandler.selectOnPoint(h);var i=this.selectionHandler.getSelection(),t=this._determineDifference(e,i),a=this._determineDifference(i,e);t.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",o,h,e),r=!0),t.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",o,h,e),r=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",o,h),r=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",o,h),r=!0),r===!0&&this.selectionHandler._generateClickEvent("select",o,h)}},{key:"_determineDifference",value:function(h,o){var f=function(r,i){for(var t=[],a=0;a<r.length;a++){var u=r[a];i.indexOf(u)===-1&&t.push(u)}return t};return{nodes:f(h.nodes,o.nodes),edges:f(h.edges,o.edges)}}},{key:"onDragStart",value:function(h){this.drag.pointer===void 0&&this.onTouch(h);var o=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=E.extend({},this.body.view.translation),this.drag.nodeId=void 0,o!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=o.id,o.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(o)),this.selectionHandler._generateClickEvent("dragStart",h,this.drag.pointer);var f=this.selectionHandler.selectionObj.nodes;for(var e in f)if(f.hasOwnProperty(e)){var r=f[e],i={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler._generateClickEvent("dragStart",h,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(h){var o=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var f=this.getPointer(h.center),e=this.drag.selection;if(e&&e.length&&this.options.dragNodes===!0){this.selectionHandler._generateClickEvent("dragging",h,f);var r=f.x-this.drag.pointer.x,i=f.y-this.drag.pointer.y;e.forEach(function(u){var n=u.node;u.xFixed===!1&&(n.x=o.canvas._XconvertDOMtoCanvas(o.canvas._XconvertCanvasToDOM(u.x)+r)),u.yFixed===!1&&(n.y=o.canvas._YconvertDOMtoCanvas(o.canvas._YconvertCanvasToDOM(u.y)+i))}),this.body.emitter.emit("startSimulation")}else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",h,f,void 0,!0),this.drag.pointer===void 0){this.onDragStart(h);return}var t=f.x-this.drag.pointer.x,a=f.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+t,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(h){this.drag.dragging=!1;var o=this.drag.selection;o&&o.length?(o.forEach(function(f){f.node.options.fixed.x=f.xFixed,f.node.options.fixed.y=f.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",h,this.getPointer(h.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",h,this.getPointer(h.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(h){var o=this.getPointer(h.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var f=this.pinch.scale*h.scale;this.zoom(f,o)}},{key:"zoom",value:function(h,o){if(this.options.zoomView===!0){var f=this.body.view.scale;h<1e-5&&(h=1e-5),h>10&&(h=10);var e=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(e=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,i=h/f,t=(1-i)*o.x+r.x*i,a=(1-i)*o.y+r.y*i;if(this.body.view.scale=h,this.body.view.translation={x:t,y:a},e!=null){var u=this.canvas.canvasToDOM(e);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),f<h?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:o}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:o})}}},{key:"onMouseWheel",value:function(h){if(this.options.zoomView===!0){var o=0;if(h.wheelDelta?o=h.wheelDelta/120:h.detail&&(o=-h.detail/3),o!==0){var f=this.body.view.scale,e=o/10;o<0&&(e=e/(1-e)),f*=1+e;var r=this.getPointer({x:h.clientX,y:h.clientY});this.zoom(f,r)}h.preventDefault()}}},{key:"onMouseMove",value:function(h){var o=this,f=this.getPointer({x:h.clientX,y:h.clientY}),e=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(f),this.popup.hidden===!1&&(e=!0,this.popup.setPosition(f.x+3,f.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),e===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return o._checkShowPopup(f)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(h,f)}},{key:"_checkShowPopup",value:function(h){var o=this.canvas._XconvertDOMtoCanvas(h.x),f=this.canvas._YconvertDOMtoCanvas(h.y),e={left:o,top:f,right:o,bottom:f},r=this.popupObj===void 0?void 0:this.popupObj.id,i=!1,t="node";if(this.popupObj===void 0){for(var a=this.body.nodeIndices,u=this.body.nodes,n=void 0,s=[],l=0;l<a.length;l++)n=u[a[l]],n.isOverlappingWith(e)===!0&&n.getTitle()!==void 0&&s.push(a[l]);s.length>0&&(this.popupObj=u[s[s.length-1]],i=!0)}if(this.popupObj===void 0&&i===!1){for(var g=this.body.edgeIndices,T=this.body.edges,O=void 0,P=[],_=0;_<g.length;_++)O=T[g[_]],O.isOverlappingWith(e)===!0&&O.connected===!0&&O.getTitle()!==void 0&&P.push(g[_]);P.length>0&&(this.popupObj=T[P[P.length-1]],t="edge")}this.popupObj!==void 0?this.popupObj.id!==r&&(this.popup===void 0&&(this.popup=new S(this.canvas.frame)),this.popup.popupTargetType=t,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(h.x+3,h.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(h){var o=this.selectionHandler._pointerToPositionObject(h),f=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(f=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(o),f===!0)){var e=this.selectionHandler.getNodeAt(h);f=e===void 0?!1:e.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(h)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(f=this.body.edges[this.popup.popupTargetId].isOverlappingWith(o));f===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),v}();k.default=m},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(v){return v&&v.__esModule?v:{default:v}}var E=p(10),y=p(37),S=p(35),m=function(){function v(d,h){var o=this;(0,c.default)(this,v),this.body=d,this.canvas=h,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){o.activated=!0,o.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){o.activated=!1,o.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){o.keycharm!==void 0&&o.keycharm.destroy()}),this.options={}}return(0,x.default)(v,[{key:"setOptions",value:function(h){h!==void 0&&(this.options=h,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var h=0;h<this.navigationHammers.length;h++)this.navigationHammers[h].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var h=this;this.cleanNavigation(),this.navigationDOM={};var o=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],f=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var e=0;e<o.length;e++){this.navigationDOM[o[e]]=document.createElement("div"),this.navigationDOM[o[e]].className="vis-button vis-"+o[e],this.navigationDOM.wrapper.appendChild(this.navigationDOM[o[e]]);var r=new E(this.navigationDOM[o[e]]);f[e]==="_fit"?y.onTouch(r,this._fit.bind(this)):y.onTouch(r,this.bindToRedraw.bind(this,f[e])),this.navigationHammers.push(r)}var i=new E(this.canvas.frame);y.onRelease(i,function(){h._stopMovement()}),this.navigationHammers.push(i),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(h){this.boundFunctions[h]===void 0&&(this.boundFunctions[h]=this[h].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[h]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(h){this.boundFunctions[h]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[h]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[h])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var h in this.boundFunctions)this.boundFunctions.hasOwnProperty(h)&&(this.body.emitter.off("initRedraw",this.boundFunctions[h]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var h=this.body.view.scale,o=this.body.view.scale*(1+this.options.keyboard.speed.zoom),f=this.body.view.translation,e=o/h,r=(1-e)*this.canvas.canvasViewCenter.x+f.x*e,i=(1-e)*this.canvas.canvasViewCenter.y+f.y*e;this.body.view.scale=o,this.body.view.translation={x:r,y:i},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var h=this.body.view.scale,o=this.body.view.scale/(1+this.options.keyboard.speed.zoom),f=this.body.view.translation,e=o/h,r=(1-e)*this.canvas.canvasViewCenter.x+f.x*e,i=(1-e)*this.canvas.canvasViewCenter.y+f.y*e;this.body.view.scale=o,this.body.view.translation={x:r,y:i},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var h=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=S({container:window,preventDefault:!0}):this.keycharm=S({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){h.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){h.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){h.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){h.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){h.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){h.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){h.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){h.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){h.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){h.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){h.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){h.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){h.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){h.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){h.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){h.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){h.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){h.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){h.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){h.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){h.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){h.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){h.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){h.unbindFromRedraw("_zoomOut")},"keyup")))}}]),v}();k.default=m},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(v){return v&&v.__esModule?v:{default:v}}var E=p(47).default,y=p(74).default,S=p(2),m=function(){function v(d,h){var o=this;(0,c.default)(this,v),this.body=d,this.canvas=h,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},S.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return(0,x.default)(v,[{key:"setOptions",value:function(h){if(h!==void 0){var o=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];S.selectiveDeepExtend(o,this.options,h)}}},{key:"selectOnPoint",value:function(h){var o=!1;if(this.options.selectable===!0){var f=this.getNodeAt(h)||this.getEdgeAt(h);this.unselectAll(),f!==void 0&&(o=this.selectObject(f)),this.body.emitter.emit("_requestRedraw")}return o}},{key:"selectAdditionalOnPoint",value:function(h){var o=!1;if(this.options.selectable===!0){var f=this.getNodeAt(h)||this.getEdgeAt(h);f!==void 0&&(o=!0,f.isSelected()===!0?this.deselectObject(f):this.selectObject(f),this.body.emitter.emit("_requestRedraw"))}return o}},{key:"_initBaseEvent",value:function(h,o){var f={};return f.pointer={DOM:{x:o.x,y:o.y},canvas:this.canvas.DOMtoCanvas(o)},f.event=h,f}},{key:"_generateClickEvent",value:function(h,o,f,e){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i=this._initBaseEvent(o,f);if(r===!0)i.nodes=[],i.edges=[];else{var t=this.getSelection();i.nodes=t.nodes,i.edges=t.edges}e!==void 0&&(i.previousSelection=e),h=="click"&&(i.items=this.getClickedItems(f)),this.body.emitter.emit(h,i)}},{key:"selectObject",value:function(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return h!==void 0?(h instanceof E&&o===!0&&this._selectConnectedEdges(h),h.select(),this._addToSelection(h),!0):!1}},{key:"deselectObject",value:function(h){h.isSelected()===!0&&(h.selected=!1,this._removeFromSelection(h))}},{key:"_getAllNodesOverlappingWith",value:function(h){for(var o=[],f=this.body.nodes,e=0;e<this.body.nodeIndices.length;e++){var r=this.body.nodeIndices[e];f[r].isOverlappingWith(h)&&o.push(r)}return o}},{key:"_pointerToPositionObject",value:function(h){var o=this.canvas.DOMtoCanvas(h);return{left:o.x-1,top:o.y+1,right:o.x+1,bottom:o.y-1}}},{key:"getNodeAt",value:function(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=this._pointerToPositionObject(h),e=this._getAllNodesOverlappingWith(f);if(e.length>0)return o===!0?this.body.nodes[e[e.length-1]]:e[e.length-1]}},{key:"_getEdgesOverlappingWith",value:function(h,o){for(var f=this.body.edges,e=0;e<this.body.edgeIndices.length;e++){var r=this.body.edgeIndices[e];f[r].isOverlappingWith(h)&&o.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(h){var o=[];return this._getEdgesOverlappingWith(h,o),o}},{key:"getEdgeAt",value:function(h){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=this.canvas.DOMtoCanvas(h),e=10,r=null,i=this.body.edges,t=0;t<this.body.edgeIndices.length;t++){var a=this.body.edgeIndices[t],u=i[a];if(u.connected){var n=u.from.x,s=u.from.y,l=u.to.x,g=u.to.y,T=u.edgeType.getDistanceToEdge(n,s,l,g,f.x,f.y);T<e&&(r=a,e=T)}}if(r!==null)return o===!0?this.body.edges[r]:r}},{key:"_addToSelection",value:function(h){h instanceof E?this.selectionObj.nodes[h.id]=h:this.selectionObj.edges[h.id]=h}},{key:"_addToHover",value:function(h){h instanceof E?this.hoverObj.nodes[h.id]=h:this.hoverObj.edges[h.id]=h}},{key:"_removeFromSelection",value:function(h){h instanceof E?(delete this.selectionObj.nodes[h.id],this._unselectConnectedEdges(h)):delete this.selectionObj.edges[h.id]}},{key:"unselectAll",value:function(){for(var h in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(h)&&this.selectionObj.nodes[h].unselect();for(var o in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(o)&&this.selectionObj.edges[o].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var h=0;for(var o in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(o)&&(h+=1);return h}},{key:"_getSelectedNode",value:function(){for(var h in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(h))return this.selectionObj.nodes[h]}},{key:"_getSelectedEdge",value:function(){for(var h in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(h))return this.selectionObj.edges[h]}},{key:"_getSelectedEdgeCount",value:function(){var h=0;for(var o in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(o)&&(h+=1);return h}},{key:"_getSelectedObjectCount",value:function(){var h=0;for(var o in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(o)&&(h+=1);for(var f in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(f)&&(h+=1);return h}},{key:"_selectionIsEmpty",value:function(){for(var h in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(h))return!1;for(var o in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(o))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var h in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(h)&&this.selectionObj.nodes[h].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(h){for(var o=0;o<h.edges.length;o++){var f=h.edges[o];f.select(),this._addToSelection(f)}}},{key:"_hoverConnectedEdges",value:function(h){for(var o=0;o<h.edges.length;o++){var f=h.edges[o];f.hover=!0,this._addToHover(f)}}},{key:"_unselectConnectedEdges",value:function(h){for(var o=0;o<h.edges.length;o++){var f=h.edges[o];f.unselect(),this._removeFromSelection(f)}}},{key:"emitBlurEvent",value:function(h,o,f){var e=this._initBaseEvent(h,o);f.hover===!0&&(f.hover=!1,f instanceof E?(e.node=f.id,this.body.emitter.emit("blurNode",e)):(e.edge=f.id,this.body.emitter.emit("blurEdge",e)))}},{key:"emitHoverEvent",value:function(h,o,f){var e=this._initBaseEvent(h,o),r=!1;return f.hover===!1&&(f.hover=!0,this._addToHover(f),r=!0,f instanceof E?(e.node=f.id,this.body.emitter.emit("hoverNode",e)):(e.edge=f.id,this.body.emitter.emit("hoverEdge",e))),r}},{key:"hoverObject",value:function(h,o){var f=this.getNodeAt(o);f===void 0&&(f=this.getEdgeAt(o));var e=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(f===void 0||f instanceof E&&f.id!=r||f instanceof y)&&(this.emitBlurEvent(h,o,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],e=!0);for(var i in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(i)&&(e===!0?(this.hoverObj.edges[i].hover=!1,delete this.hoverObj.edges[i]):(f===void 0||f instanceof y&&f.id!=i||f instanceof E&&!f.hover)&&(this.emitBlurEvent(h,o,this.hoverObj.edges[i]),delete this.hoverObj.edges[i],e=!0));f!==void 0&&(e=e||this.emitHoverEvent(h,o,f),f instanceof E&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(f)),e===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var h=this.getSelectedNodes(),o=this.getSelectedEdges();return{nodes:h,edges:o}}},{key:"getSelectedNodes",value:function(){var h=[];if(this.options.selectable===!0)for(var o in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(o)&&h.push(this.selectionObj.nodes[o].id);return h}},{key:"getSelectedEdges",value:function(){var h=[];if(this.options.selectable===!0)for(var o in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(o)&&h.push(this.selectionObj.edges[o].id);return h}},{key:"setSelection",value:function(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=void 0,e=void 0;if(!h||!h.nodes&&!h.edges)throw"Selection must be an object with nodes and/or edges properties";if((o.unselectAll||o.unselectAll===void 0)&&this.unselectAll(),h.nodes)for(f=0;f<h.nodes.length;f++){e=h.nodes[f];var r=this.body.nodes[e];if(!r)throw new RangeError('Node with id "'+e+'" not found');this.selectObject(r,o.highlightEdges)}if(h.edges)for(f=0;f<h.edges.length;f++){e=h.edges[f];var i=this.body.edges[e];if(!i)throw new RangeError('Edge with id "'+e+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!h||h.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:h},{highlightEdges:o})}},{key:"selectEdges",value:function(h){if(!h||h.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:h})}},{key:"updateSelection",value:function(){for(var h in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(h)&&(this.body.nodes.hasOwnProperty(h)||delete this.selectionObj.nodes[h]);for(var o in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(o)&&(this.body.edges.hasOwnProperty(o)||delete this.selectionObj.edges[o])}},{key:"getClickedItems",value:function(h){for(var o=this.canvas.DOMtoCanvas(h),f=[],e=this.body.nodeIndices,r=this.body.nodes,i=e.length-1;i>=0;i--){var t=r[e[i]],a=t.getItemsOnPoint(o);f.push.apply(f,a)}for(var u=this.body.edgeIndices,n=this.body.edges,s=u.length-1;s>=0;s--){var l=n[u[s]],g=l.getItemsOnPoint(o);f.push.apply(f,g)}return f}}]),v}();k.default=m},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(30),c=d(D),b=p(6),x=d(b),C=p(8),E=d(C),y=p(0),S=d(y),m=p(1),v=d(m);function d(a){return a&&a.__esModule?a:{default:a}}var h=p(2),o=p(76).default,f=p(236),e=f.HorizontalStrategy,r=f.VerticalStrategy,i=function(){function a(){(0,S.default)(this,a),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,v.default)(a,[{key:"addRelation",value:function(n,s){this.childrenReference[n]===void 0&&(this.childrenReference[n]=[]),this.childrenReference[n].push(s),this.parentReference[s]===void 0&&(this.parentReference[s]=[]),this.parentReference[s].push(n)}},{key:"checkIfTree",value:function(){for(var n in this.parentReference)if(this.parentReference[n].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(n,s){s!==void 0&&this.trees[n.id]===void 0&&(this.trees[n.id]=s,this.treeIndex=Math.max(s,this.treeIndex))}},{key:"ensureLevel",value:function(n){this.levels[n]===void 0&&(this.levels[n]=0)}},{key:"getMaxLevel",value:function(n){var s=this,l={},g=function T(O){if(l[O]!==void 0)return l[O];var P=s.levels[O];if(s.childrenReference[O]){var _=s.childrenReference[O];if(_.length>0)for(var R=0;R<_.length;R++)P=Math.max(P,T(_[R]))}return l[O]=P,P};return g(n)}},{key:"levelDownstream",value:function(n,s){this.levels[s.id]===void 0&&(this.levels[n.id]===void 0&&(this.levels[n.id]=0),this.levels[s.id]=this.levels[n.id]+1)}},{key:"setMinLevelToZero",value:function(n){var s=1e9;for(var l in n)n.hasOwnProperty(l)&&this.levels[l]!==void 0&&(s=Math.min(this.levels[l],s));for(var g in n)n.hasOwnProperty(g)&&this.levels[g]!==void 0&&(this.levels[g]-=s)}},{key:"getTreeSize",value:function(n,s){var l=1e9,g=-1e9,T=1e9,O=-1e9;for(var P in this.trees)if(this.trees.hasOwnProperty(P)&&this.trees[P]===s){var _=n[P];l=Math.min(_.x,l),g=Math.max(_.x,g),T=Math.min(_.y,T),O=Math.max(_.y,O)}return{min_x:l,max_x:g,min_y:T,max_y:O}}},{key:"hasSameParent",value:function(n,s){var l=this.parentReference[n.id],g=this.parentReference[s.id];if(l===void 0||g===void 0)return!1;for(var T=0;T<l.length;T++)for(var O=0;O<g.length;O++)if(l[T]==g[O])return!0;return!1}},{key:"inSameSubNetwork",value:function(n,s){return this.trees[n.id]===this.trees[s.id]}},{key:"getLevels",value:function(){return(0,E.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(n,s){this.distributionOrdering[s]===void 0&&(this.distributionOrdering[s]=[]);var l=!1,g=this.distributionOrdering[s];for(var T in g)if(g[T]===n){l=!0;break}l||(this.distributionOrdering[s].push(n),this.distributionIndex[n.id]=this.distributionOrdering[s].length-1)}}]),a}(),t=function(){function a(u){(0,S.default)(this,a),this.body=u,this.initialRandomSeed=Math.round(Math.random()*1e6),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,v.default)(a,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("_dataChanged",function(){n.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){n.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){n.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(n.options.hierarchical.enabled===!0){var s=n.direction.curveType();n.body.emitter.emit("_forceDisableDynamicCurves",s,!1)}})}},{key:"setOptions",value:function(n,s){if(n!==void 0){var l=this.options.hierarchical,g=l.enabled;if(h.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,n),h.mergeOptions(this.options,n,"hierarchical"),n.randomSeed!==void 0&&(this.initialRandomSeed=n.randomSeed),l.enabled===!0)return g===!0&&this.body.emitter.emit("refresh",!0),l.direction==="RL"||l.direction==="DU"?l.levelSeparation>0&&(l.levelSeparation*=-1):l.levelSeparation<0&&(l.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(s);if(g===!0)return this.body.emitter.emit("refresh"),h.deepExtend(s,this.optionsBackup)}return s}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(n){if(this.options.hierarchical.enabled===!0){var s=this.optionsBackup.physics;n.physics===void 0||n.physics===!0?(n.physics={enabled:s.enabled===void 0?!0:s.enabled,solver:"hierarchicalRepulsion"},s.enabled=s.enabled===void 0?!0:s.enabled,s.solver=s.solver||"barnesHut"):(0,x.default)(n.physics)==="object"?(s.enabled=n.physics.enabled===void 0?!0:n.physics.enabled,s.solver=n.physics.solver||"barnesHut",n.physics.solver="hierarchicalRepulsion"):n.physics!==!1&&(s.solver="barnesHut",n.physics={solver:"hierarchicalRepulsion"});var l=this.direction.curveType();if(n.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},n.edges={smooth:!1};else if(n.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},n.edges.smooth=!1;else if(typeof n.edges.smooth=="boolean")this.optionsBackup.edges={smooth:n.edges.smooth},n.edges.smooth={enabled:n.edges.smooth,type:l};else{var g=n.edges.smooth;g.type!==void 0&&g.type!=="dynamic"&&(l=g.type),this.optionsBackup.edges={smooth:g.enabled===void 0?!0:g.enabled,type:g.type===void 0?"dynamic":g.type,roundness:g.roundness===void 0?.5:g.roundness,forceDirection:g.forceDirection===void 0?!1:g.forceDirection},n.edges.smooth={enabled:g.enabled===void 0?!0:g.enabled,type:l,roundness:g.roundness===void 0?.5:g.roundness,forceDirection:g.forceDirection===void 0?!1:g.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",l)}return n}},{key:"seededRandom",value:function(){var n=Math.sin(this.randomSeed++)*1e4;return n-Math.floor(n)}},{key:"positionInitially",value:function(n){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var s=n.length+50,l=0;l<n.length;l++){var g=n[l],T=2*Math.PI*this.seededRandom();g.x===void 0&&(g.x=s*Math.cos(T)),g.y===void 0&&(g.y=s*Math.sin(T))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var n=this.body.nodeIndices,s=0,l=0;l<n.length;l++){var g=this.body.nodes[n[l]];g.predefinedPosition===!0&&(s+=1)}if(s<.5*n.length){var T=10,O=0,P=150,_={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(n.length>P){for(var R=n.length;n.length>P&&O<=T;){O+=1;var I=n.length;O%3===0?this.body.modules.clustering.clusterBridges(_):this.body.modules.clustering.clusterOutliers(_);var F=n.length;if(I==F&&O%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*R)})}O>T&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(n,this.body.edgeIndices,!0),this._shiftToCenter();for(var W=70,Y=0;Y<n.length;Y++){var X=this.body.nodes[n[Y]];X.predefinedPosition===!1&&(X.x+=(.5-this.seededRandom())*W,X.y+=(.5-this.seededRandom())*W)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var n=o.getRangeCore(this.body.nodes,this.body.nodeIndices),s=o.findCenter(n),l=0;l<this.body.nodeIndices.length;l++){var g=this.body.nodes[this.body.nodeIndices[l]];g.x-=s.x,g.y-=s.y}}},{key:"_declusterAll",value:function(){for(var n=!0;n===!0;){n=!1;for(var s=0;s<this.body.nodeIndices.length;s++)this.body.nodes[this.body.nodeIndices[s]].isCluster===!0&&(n=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[s],{},!1));n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var n=void 0,s=void 0,l=!1,g=!1;this.lastNodeOnLevel={},this.hierarchical=new i;for(s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&(n=this.body.nodes[s],n.options.level!==void 0?(l=!0,this.hierarchical.levels[s]=n.options.level):g=!0);if(g===!0&&l===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(g===!0){var T=this.options.hierarchical.sortMethod;T==="hubsize"?this._determineLevelsByHubsize():T==="directed"?this._determineLevelsDirected():T==="custom"&&this._determineLevelsCustomCallback()}for(var O in this.body.nodes)this.body.nodes.hasOwnProperty(O)&&this.hierarchical.ensureLevel(O);var P=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(P),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var n=this,s=!1,l={},g=function(){for(var j=O(),G=0,U=0;U<j.length-1;U++){var $=j[U].max-j[U+1].min;G+=$+n.options.hierarchical.treeSpacing,T(U+1,G)}},T=function(j,G){var U=n.hierarchical.trees;for(var $ in U)U.hasOwnProperty($)&&U[$]===j&&n.direction.shift($,G)},O=function(){for(var j=[],G=0;G<n.hierarchical.numTrees();G++)j.push(n.direction.getTreeSize(G));return j},P=function J(j,G){if(!G[j.id]&&(G[j.id]=!0,n.hierarchical.childrenReference[j.id])){var U=n.hierarchical.childrenReference[j.id];if(U.length>0)for(var $=0;$<U.length;$++)J(n.body.nodes[U[$]],G)}},_=function(j){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,U=1e9,$=1e9,ne=1e9,se=-1e9;for(var te in j)if(j.hasOwnProperty(te)){var he=n.body.nodes[te],de=n.hierarchical.levels[he.id],ve=n.direction.getPosition(he),De=n._getSpaceAroundNode(he,j),_e=(0,c.default)(De,2),Ce=_e[0],ye=_e[1];U=Math.min(Ce,U),$=Math.min(ye,$),de<=G&&(ne=Math.min(ve,ne),se=Math.max(ve,se))}return[ne,se,U,$]},R=function(j,G){var U=n.hierarchical.getMaxLevel(j.id),$=n.hierarchical.getMaxLevel(G.id);return Math.min(U,$)},I=function(j,G,U){for(var $=n.hierarchical,ne=0;ne<G.length;ne++){var se=G[ne],te=$.distributionOrdering[se];if(te.length>1)for(var he=0;he<te.length-1;he++){var de=te[he],ve=te[he+1];$.hasSameParent(de,ve)&&$.inSameSubNetwork(de,ve)&&j(de,ve,U)}}},F=function(j,G){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=n.direction.getPosition(j),ne=n.direction.getPosition(G),se=Math.abs(ne-$),te=n.options.hierarchical.nodeSpacing;if(se>te){var he={},de={};P(j,he),P(G,de);var ve=R(j,G),De=_(he,ve),_e=_(de,ve),Ce=De[1],ye=_e[0],Ee=_e[2],Ne=Math.abs(Ce-ye);if(Ne>te){var Re=Ce-ye+te;Re<-Ee+te&&(Re=-Ee+te),Re<0&&(n._shiftBlock(G.id,Re),s=!0,U===!0&&n._centerParent(G))}}},W=function(j,G){for(var U=G.id,$=G.edges,ne=n.hierarchical.levels[G.id],se=n.options.hierarchical.levelSeparation*n.options.hierarchical.levelSeparation,te={},he=[],de=0;de<$.length;de++){var ve=$[de];if(ve.toId!=ve.fromId){var De=ve.toId==U?ve.from:ve.to;te[$[de].id]=De,n.hierarchical.levels[De.id]<ne&&he.push(ve)}}var _e=function(pe,re){for(var ae=0,ce=0;ce<re.length;ce++)if(te[re[ce].id]!==void 0){var be=n.direction.getPosition(te[re[ce].id])-pe;ae+=be/Math.sqrt(be*be+se)}return ae},Ce=function(pe,re){for(var ae=0,ce=0;ce<re.length;ce++)if(te[re[ce].id]!==void 0){var be=n.direction.getPosition(te[re[ce].id])-pe;ae-=se*Math.pow(be*be+se,-1.5)}return ae},ye=function(pe,re){for(var ae=n.direction.getPosition(G),ce={},be=0;be<pe;be++){var Te=_e(ae,re),ue=Ce(ae,re),Le=40,Dt=Math.max(-Le,Math.min(Le,Math.round(Te/ue)));if(ae=ae-Dt,ce[ae]!==void 0)break;ce[ae]=be}return ae},Ee=function(pe){var re=n.direction.getPosition(G);if(l[G.id]===void 0){var ae={};P(G,ae),l[G.id]=ae}var ce=_(l[G.id]),be=ce[2],Te=ce[3],ue=pe-re,Le=0;ue>0?Le=Math.min(ue,Te-n.options.hierarchical.nodeSpacing):ue<0&&(Le=-Math.min(-ue,be-n.options.hierarchical.nodeSpacing)),Le!=0&&(n._shiftBlock(G.id,Le),s=!0)},Ne=function(pe){var re=n.direction.getPosition(G),ae=n._getSpaceAroundNode(G),ce=(0,c.default)(ae,2),be=ce[0],Te=ce[1],ue=pe-re,Le=re;ue>0?Le=Math.min(re+(Te-n.options.hierarchical.nodeSpacing),pe):ue<0&&(Le=Math.max(re-(be-n.options.hierarchical.nodeSpacing),pe)),Le!==re&&(n.direction.setPosition(G,Le),s=!0)},Re=ye(j,he);Ee(Re),Re=ye(j,$),Ne(Re)},Y=function(j){var G=n.hierarchical.getLevels();G=G.reverse();for(var U=0;U<j;U++){s=!1;for(var $=0;$<G.length;$++)for(var ne=G[$],se=n.hierarchical.distributionOrdering[ne],te=0;te<se.length;te++)W(1e3,se[te]);if(s!==!0)break}},X=function(j){var G=n.hierarchical.getLevels();G=G.reverse();for(var U=0;U<j&&(s=!1,I(F,G,!0),s===!0);U++);},q=function(){for(var j in n.body.nodes)n.body.nodes.hasOwnProperty(j)&&n._centerParent(n.body.nodes[j])},Q=function(){var j=n.hierarchical.getLevels();j=j.reverse();for(var G=0;G<j.length;G++)for(var U=j[G],$=n.hierarchical.distributionOrdering[U],ne=0;ne<$.length;ne++)n._centerParent($[ne])};this.options.hierarchical.blockShifting===!0&&(X(5),q()),this.options.hierarchical.edgeMinimization===!0&&Y(20),this.options.hierarchical.parentCentralization===!0&&Q(),g()}},{key:"_getSpaceAroundNode",value:function(n,s){var l=!0;s===void 0&&(l=!1);var g=this.hierarchical.levels[n.id];if(g!==void 0){var T=this.hierarchical.distributionIndex[n.id],O=this.direction.getPosition(n),P=this.hierarchical.distributionOrdering[g],_=1e9,R=1e9;if(T!==0){var I=P[T-1];if(l===!0&&s[I.id]===void 0||l===!1){var F=this.direction.getPosition(I);_=O-F}}if(T!=P.length-1){var W=P[T+1];if(l===!0&&s[W.id]===void 0||l===!1){var Y=this.direction.getPosition(W);R=Math.min(R,Y-O)}}return[_,R]}else return[0,0]}},{key:"_centerParent",value:function(n){if(this.hierarchical.parentReference[n.id])for(var s=this.hierarchical.parentReference[n.id],l=0;l<s.length;l++){var g=s[l],T=this.body.nodes[g],O=this.hierarchical.childrenReference[g];if(O!==void 0){var P=this._getCenterPosition(O),_=this.direction.getPosition(T),R=this._getSpaceAroundNode(T),I=(0,c.default)(R,2),F=I[0],W=I[1],Y=_-P;(Y<0&&Math.abs(Y)<W-this.options.hierarchical.nodeSpacing||Y>0&&Math.abs(Y)<F-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(T,P)}}}},{key:"_placeNodesByHierarchy",value:function(n){this.positionedNodes={};for(var s in n)if(n.hasOwnProperty(s)){var l=(0,E.default)(n[s]);l=this._indexArrayToNodes(l),this.direction.sort(l);for(var g=0,T=0;T<l.length;T++){var O=l[T];if(this.positionedNodes[O.id]===void 0){var P=this.options.hierarchical.nodeSpacing,_=P*g;g>0&&(_=this.direction.getPosition(l[T-1])+P),this.direction.setPosition(O,_,s),this._validatePositionAndContinue(O,s,_),g++}}}}},{key:"_placeBranchNodes",value:function(n,s){var l=this.hierarchical.childrenReference[n];if(l!==void 0){for(var g=[],T=0;T<l.length;T++)g.push(this.body.nodes[l[T]]);this.direction.sort(g);for(var O=0;O<g.length;O++){var P=g[O],_=this.hierarchical.levels[P.id];if(_>s&&this.positionedNodes[P.id]===void 0){var R=this.options.hierarchical.nodeSpacing,I=void 0;O===0?I=this.direction.getPosition(this.body.nodes[n]):I=this.direction.getPosition(g[O-1])+R,this.direction.setPosition(P,I,_),this._validatePositionAndContinue(P,_,I)}else return}var F=this._getCenterPosition(g);this.direction.setPosition(this.body.nodes[n],F,s)}}},{key:"_validatePositionAndContinue",value:function(n,s,l){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[s]!==void 0){var g=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[s]]);if(l-g<this.options.hierarchical.nodeSpacing){var T=g+this.options.hierarchical.nodeSpacing-l,O=this._findCommonParent(this.lastNodeOnLevel[s],n.id);this._shiftBlock(O.withChild,T)}}this.lastNodeOnLevel[s]=n.id,this.positionedNodes[n.id]=!0,this._placeBranchNodes(n.id,s)}}},{key:"_indexArrayToNodes",value:function(n){for(var s=[],l=0;l<n.length;l++)s.push(this.body.nodes[n[l]]);return s}},{key:"_getDistribution",value:function(){var n={},s=void 0,l=void 0;for(s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){l=this.body.nodes[s];var g=this.hierarchical.levels[s]===void 0?0:this.hierarchical.levels[s];this.direction.fix(l,g),n[g]===void 0&&(n[g]={}),n[g][s]=l}return n}},{key:"_getActiveEdges",value:function(n){var s=this,l=[];return h.forEach(n.edges,function(g){s.body.edgeIndices.indexOf(g.id)!==-1&&l.push(g)}),l}},{key:"_getHubSizes",value:function(){var n=this,s={},l=this.body.nodeIndices;h.forEach(l,function(T){var O=n.body.nodes[T],P=n._getActiveEdges(O).length;s[P]=!0});var g=[];return h.forEach(s,function(T){g.push(Number(T))}),g.sort(function(T,O){return O-T}),g}},{key:"_determineLevelsByHubsize",value:function(){for(var n=this,s=function(_,R){n.hierarchical.levelDownstream(_,R)},l=this._getHubSizes(),g=function(_){var R=l[_];if(R===0)return"break";h.forEach(n.body.nodeIndices,function(I){var F=n.body.nodes[I];R===n._getActiveEdges(F).length&&n._crawlNetwork(s,I)})},T=0;T<l.length;++T){var O=g(T);if(O==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var n=this,s=1e5,l=function(O,P,_){},g=function(O,P,_){var R=n.hierarchical.levels[O.id];R===void 0&&(R=n.hierarchical.levels[O.id]=s);var I=l(o.cloneOptions(O,"node"),o.cloneOptions(P,"node"),o.cloneOptions(_,"edge"));n.hierarchical.levels[P.id]=R+I};this._crawlNetwork(g),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var n=this,s=1e4,l=function(O){return h.forEach(n.body.edges,function(P){if(P.toId===O.fromId&&P.fromId===O.toId)return!0}),!1},g=function(O,P,_){var R=n.hierarchical.levels[O.id],I=n.hierarchical.levels[P.id];l(_)&&R!==void 0&&I!==void 0||(R===void 0&&(R=n.hierarchical.levels[O.id]=s),_.toId==P.id?n.hierarchical.levels[P.id]=R+1:n.hierarchical.levels[P.id]=R-1)};this._crawlNetwork(g),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var n=this,s=function(g,T){n.hierarchical.levels[T.id]>n.hierarchical.levels[g.id]&&n.hierarchical.addRelation(g.id,T.id)};this._crawlNetwork(s),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},l=arguments[1],g={},T=function F(W,Y){if(g[W.id]===void 0){n.hierarchical.setTreeIndex(W,Y),g[W.id]=!0;for(var X=void 0,q=n._getActiveEdges(W),Q=0;Q<q.length;Q++){var J=q[Q];J.connected===!0&&(J.toId==W.id?X=J.from:X=J.to,W.id!=X.id&&(s(W,X,J),F(X,Y)))}}};if(l===void 0)for(var O=0,P=0;P<this.body.nodeIndices.length;P++){var _=this.body.nodeIndices[P];if(g[_]===void 0){var R=this.body.nodes[_];T(R,O),O+=1}}else{var I=this.body.nodes[l];if(I===void 0){console.error("Node not found:",l);return}T(I)}}},{key:"_shiftBlock",value:function(n,s){var l=this,g={},T=function O(P){if(!g[P]){g[P]=!0,l.direction.shift(P,s);var _=l.hierarchical.childrenReference[P];if(_!==void 0)for(var R=0;R<_.length;R++)O(_[R])}};T(n)}},{key:"_findCommonParent",value:function(n,s){var l=this,g={},T=function P(_,R){var I=l.hierarchical.parentReference[R];if(I!==void 0)for(var F=0;F<I.length;F++){var W=I[F];_[W]=!0,P(_,W)}},O=function P(_,R){var I=l.hierarchical.parentReference[R];if(I!==void 0)for(var F=0;F<I.length;F++){var W=I[F];if(_[W]!==void 0)return{foundParent:W,withChild:R};var Y=P(_,W);if(Y.foundParent!==null)return Y}return{foundParent:null,withChild:R}};return T(g,n),O(g,s)}},{key:"setDirectionStrategy",value:function(){var n=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";n?this.direction=new r(this):this.direction=new e(this)}},{key:"_getCenterPosition",value:function(n){for(var s=1e9,l=-1e9,g=0;g<n.length;g++){var T=void 0;if(n[g].id!==void 0)T=n[g];else{var O=n[g];T=this.body.nodes[O]}var P=this.direction.getPosition(T);s=Math.min(s,P),l=Math.max(l,P)}return .5*(s+l)}}]),a}();k.default=t},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.VerticalStrategy=k.HorizontalStrategy=void 0;var D=p(3),c=d(D),b=p(4),x=d(b),C=p(5),E=d(C),y=p(0),S=d(y),m=p(1),v=d(m);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){(0,S.default)(this,e)}return(0,v.default)(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(i){return this.fake_use(i),this.abstract()}},{key:"setPosition",value:function(i,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(i,t,a),this.abstract()}},{key:"getTreeSize",value:function(i){return this.fake_use(i),this.abstract()}},{key:"sort",value:function(i){this.fake_use(i),this.abstract()}},{key:"fix",value:function(i,t){this.fake_use(i,t),this.abstract()}},{key:"shift",value:function(i,t){this.fake_use(i,t),this.abstract()}}]),e}(),o=function(e){(0,E.default)(r,e);function r(i){(0,S.default)(this,r);var t=(0,x.default)(this,(r.__proto__||(0,c.default)(r)).call(this));return t.layout=i,t}return(0,v.default)(r,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;u!==void 0&&this.layout.hierarchical.addToOrdering(t,u),t.x=a}},{key:"getTreeSize",value:function(t){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:a.min_x,max:a.max_x}}},{key:"sort",value:function(t){t.sort(function(a,u){return a.x===void 0||u.x===void 0?0:a.x-u.x})}},{key:"fix",value:function(t,a){t.y=this.layout.options.hierarchical.levelSeparation*a,t.options.fixed.y=!0}},{key:"shift",value:function(t,a){this.layout.body.nodes[t].x+=a}}]),r}(h),f=function(e){(0,E.default)(r,e);function r(i){(0,S.default)(this,r);var t=(0,x.default)(this,(r.__proto__||(0,c.default)(r)).call(this));return t.layout=i,t}return(0,v.default)(r,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;u!==void 0&&this.layout.hierarchical.addToOrdering(t,u),t.y=a}},{key:"getTreeSize",value:function(t){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:a.min_y,max:a.max_y}}},{key:"sort",value:function(t){t.sort(function(a,u){return a.y===void 0||u.y===void 0?0:a.y-u.y})}},{key:"fix",value:function(t,a){t.x=this.layout.options.hierarchical.levelSeparation*a,t.options.fixed.x=!0}},{key:"shift",value:function(t,a){this.layout.body.nodes[t].y+=a}}]),r}(h);k.HorizontalStrategy=f,k.VerticalStrategy=o},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(8),c=d(D),b=p(19),x=d(b),C=p(6),E=d(C),y=p(0),S=d(y),m=p(1),v=d(m);function d(r){return r&&r.__esModule?r:{default:r}}var h=p(2),o=p(10),f=p(37),e=function(){function r(i,t,a){var u=this;(0,S.default)(this,r),this.body=i,this.canvas=t,this.selectionHandler=a,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},h.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){u._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,v.default)(r,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,a,u){a!==void 0&&(a.locale!==void 0?this.options.locale=a.locale:this.options.locale=u.locale,a.locales!==void 0?this.options.locales=a.locales:this.options.locales=u.locales),t!==void 0&&(typeof t=="boolean"?this.options.enabled=t:(this.options.enabled=!0,h.deepExtend(this.options,t)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),a=this.selectionHandler._getSelectedEdgeCount(),u=t+a,n=this.options.locales[this.options.locale],s=!1;this.options.addNode!==!1&&(this._createAddNodeButton(n),s=!0),this.options.addEdge!==!1&&(s===!0?this._createSeperator(1):s=!0,this._createAddEdgeButton(n)),t===1&&typeof this.options.editNode=="function"?(s===!0?this._createSeperator(2):s=!0,this._createEditNodeButton(n)):a===1&&t===0&&this.options.editEdge!==!1&&(s===!0?this._createSeperator(3):s=!0,this._createEditEdgeButton(n)),u!==0&&(t>0&&this.options.deleteNode!==!1?(s===!0&&this._createSeperator(4),this._createDeleteButton(n)):t===0&&this.options.deleteEdge!==!1&&(s===!0&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var a=this.selectionHandler._getSelectedNode();if(a!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(a.isCluster!==!0){var u=h.deepExtend({},a.options,!1);if(u.x=a.x,u.y=a.y,this.options.editNode.length===2)this.options.editNode(u,function(n){n!=null&&t.inMode==="editNode"&&t.body.data.nodes.getDataSet().update(n),t.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",(0,E.default)(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0)){var t=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(t.from,t.to);return}if(this.guiEnabled===!0){var a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0){var u=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(u.from.x,u.from.y),s=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(s.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(l){var g=u.edgeType.findBorderPositions(l);n.selected===!1&&(n.x=g.from.x,n.y=g.from.y),s.selected===!1&&(s.x=g.to.x,s.y=g.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var a=this.selectionHandler.getSelectedNodes(),u=this.selectionHandler.getSelectedEdges(),n=void 0;if(a.length>0){for(var s=0;s<a.length;s++)if(this.body.nodes[a[s]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else u.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){var l={nodes:a,edges:u};if(n.length===2)n(l,function(g){g!=null&&t.inMode==="delete"?(t.body.data.edges.getDataSet().remove(g.edges),t.body.data.nodes.getDataSet().remove(g.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(u),this.body.data.nodes.getDataSet().remove(a),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,a){var u=h.deepExtend({},this.options.controlNodeStyle);u.id="targetNode"+h.randomUUID(),u.hidden=!1,u.physics=!1,u.x=t,u.y=a;var n=this.body.functions.createNode(u);return n.shape.boundingBox={left:t,right:t,top:a,bottom:a},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},h.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],a=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(a),this._bindHammerToDiv(a,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(this.manipulationHammers.length!=0){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),h.recursiveDOMDelete(this.manipulationDiv),h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var a=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(a),this._bindHammerToDiv(a,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var a=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(a),this._bindHammerToDiv(a,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var a=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(a),this._bindHammerToDiv(a,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var a=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(a),this._bindHammerToDiv(a,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var a;this.options.rtl?a="vis-button vis-delete-rtl":a="vis-button vis-delete";var u=this._createButton("delete",a,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(u),this._bindHammerToDiv(u,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var a=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(a),this._bindHammerToDiv(a,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,a,u){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=a,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=u,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,a){this.temporaryEventFunctions.push({event:t,boundFunction:a}),this.body.emitter.on(t,a)}},{key:"_temporaryBindUI",value:function(t,a){if(this.body.eventListeners[t]!==void 0)this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=a;else throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,x.default)((0,c.default)(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var a=this.temporaryEventFunctions[t].event,u=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(a,u)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,a){var u=new o(t,{});f.onTouch(u,a),this.manipulationHammers.push(u)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var a=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);a!==-1&&this.body.edgeIndices.splice(a,1)}for(var u=0;u<this.temporaryIds.nodes.length;u++){delete this.body.nodes[this.temporaryIds.nodes[u]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[u]);n!==-1&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var a=this.lastTouch,u=this.selectionHandler._pointerToPositionObject(a),n=this.body.nodes[this.temporaryIds.nodes[0]],s=this.body.nodes[this.temporaryIds.nodes[1]],l=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var g=n.isOverlappingWith(u),T=s.isOverlappingWith(u);g===!0?(this.selectedControlNode=n,l.edgeType.from=n):T===!0&&(this.selectedControlNode=s,l.edgeType.to=s),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var a=this.body.functions.getPointer(t.center),u=this.canvas.DOMtoCanvas(a);if(this.selectedControlNode!==void 0)this.selectedControlNode.x=u.x,this.selectedControlNode.y=u.y;else{var n=a.x-this.lastTouch.x,s=a.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+s}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var a=this.body.functions.getPointer(t.center),u=this.selectionHandler._pointerToPositionObject(a),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(u),l=void 0,g=s.length-1;g>=0;g--)if(s[g]!==this.selectedControlNode.id){l=this.body.nodes[s[g]];break}if(l!==void 0&&this.selectedControlNode!==void 0)if(l.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var T=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===T.id?this._performEditEdge(l.id,n.to.id):this._performEditEdge(n.from.id,l.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation);var a=this.lastTouch,u=this.selectionHandler.getNodeAt(a);if(u!==void 0)if(u.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(u.x,u.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var s=this.body.functions.createEdge({id:"connectionEdge"+h.randomUUID(),from:u.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(t){var a=this.body.functions.getPointer(t.center);if(this.temporaryIds.nodes[0]!==void 0){var u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(a.x),u.y=this.canvas._YconvertDOMtoCanvas(a.y),this.body.emitter.emit("_redraw")}else{var n=a.x-this.lastTouch.x,s=a.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+s}}}},{key:"_finishConnect",value:function(t){var a=this.body.functions.getPointer(t.center),u=this.selectionHandler._pointerToPositionObject(a),n=void 0;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(u),l=void 0,g=s.length-1;g>=0;g--)if(this.temporaryIds.nodes.indexOf(s[g])===-1){l=this.body.nodes[s[g]];break}this._cleanupTemporaryNodesAndEdges(),l!==void 0&&(l.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[l.id]!==void 0&&this._performAddEdge(n,l.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var a=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",t,a,void 0,!0)}},{key:"_performAddNode",value:function(t){var a=this,u={id:h.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(u,function(n){n!=null&&a.inMode==="addNode"&&(a.body.data.nodes.getDataSet().add(n),a.showManipulatorToolbar())});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(u),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,a){var u=this,n={from:t,to:a};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,function(s){s!=null&&u.inMode==="addEdge"&&(u.body.data.edges.getDataSet().add(s),u.selectionHandler.unselectAll(),u.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,a){var u=this,n={id:this.edgeBeingEditedId,from:t,to:a,label:this.body.data.edges._data[this.edgeBeingEditedId].label},s=this.options.editEdge;if((typeof s>"u"?"undefined":(0,E.default)(s))==="object"&&(s=s.editWithoutDrag),typeof s=="function")if(s.length===2)s(n,function(l){l==null||u.inMode!=="editEdge"?(u.body.edges[n.id].updateEdgeType(),u.body.emitter.emit("_redraw"),u.showManipulatorToolbar()):(u.body.data.edges.getDataSet().update(l),u.selectionHandler.unselectAll(),u.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}();k.default=e},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(30),c=m(D),b=p(0),x=m(b),C=p(1),E=m(C),y=p(239),S=m(y);function m(d){return d&&d.__esModule?d:{default:d}}var v=function(){function d(h,o,f){(0,x.default)(this,d),this.body=h,this.springLength=o,this.springConstant=f,this.distanceSolver=new S.default}return(0,E.default)(d,[{key:"setOptions",value:function(o){o&&(o.springLength&&(this.springLength=o.springLength),o.springConstant&&(this.springConstant=o.springConstant))}},{key:"solve",value:function(o,f){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=this.distanceSolver.getDistances(this.body,o,f);this._createL_matrix(r),this._createK_matrix(r),this._createE_matrix();for(var i=.01,t=1,a=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),n=5,s=1e9,l=0,g=0,T=0,O=0,P=0;s>i&&a<u;){a+=1;var _=this._getHighestEnergyNode(e),R=(0,c.default)(_,4);for(l=R[0],s=R[1],g=R[2],T=R[3],O=s,P=0;O>t&&P<n;){P+=1,this._moveNode(l,g,T);var I=this._getEnergy(l),F=(0,c.default)(I,3);O=F[0],g=F[1],T=F[2]}}}},{key:"_getHighestEnergyNode",value:function(o){for(var f=this.body.nodeIndices,e=this.body.nodes,r=0,i=f[0],t=0,a=0,u=0;u<f.length;u++){var n=f[u];if(e[n].predefinedPosition===!1||e[n].isCluster===!0&&o===!0||e[n].options.fixed.x===!0||e[n].options.fixed.y===!0){var s=this._getEnergy(n),l=(0,c.default)(s,3),g=l[0],T=l[1],O=l[2];r<g&&(r=g,i=n,t=T,a=O)}}return[i,r,t,a]}},{key:"_getEnergy",value:function(o){var f=(0,c.default)(this.E_sums[o],2),e=f[0],r=f[1],i=Math.sqrt(Math.pow(e,2)+Math.pow(r,2));return[i,e,r]}},{key:"_moveNode",value:function(o,f,e){for(var r=this.body.nodeIndices,i=this.body.nodes,t=0,a=0,u=0,n=i[o].x,s=i[o].y,l=this.K_matrix[o],g=this.L_matrix[o],T=0;T<r.length;T++){var O=r[T];if(O!==o){var P=i[O].x,_=i[O].y,R=l[O],I=g[O],F=1/Math.pow(Math.pow(n-P,2)+Math.pow(s-_,2),1.5);t+=R*(1-I*Math.pow(s-_,2)*F),a+=R*(I*(n-P)*(s-_)*F),u+=R*(1-I*Math.pow(n-P,2)*F)}}var W=t,Y=a,X=f,q=u,Q=e,J=(X/W+Q/Y)/(Y/W-q/Y),j=-(Y*J+X)/W;i[o].x+=j,i[o].y+=J,this._updateE_matrix(o)}},{key:"_createL_matrix",value:function(o){var f=this.body.nodeIndices,e=this.springLength;this.L_matrix=[];for(var r=0;r<f.length;r++){this.L_matrix[f[r]]={};for(var i=0;i<f.length;i++)this.L_matrix[f[r]][f[i]]=e*o[f[r]][f[i]]}}},{key:"_createK_matrix",value:function(o){var f=this.body.nodeIndices,e=this.springConstant;this.K_matrix=[];for(var r=0;r<f.length;r++){this.K_matrix[f[r]]={};for(var i=0;i<f.length;i++)this.K_matrix[f[r]][f[i]]=e*Math.pow(o[f[r]][f[i]],-2)}}},{key:"_createE_matrix",value:function(){var o=this.body.nodeIndices,f=this.body.nodes;this.E_matrix={},this.E_sums={};for(var e=0;e<o.length;e++)this.E_matrix[o[e]]=[];for(var r=0;r<o.length;r++){for(var i=o[r],t=f[i].x,a=f[i].y,u=0,n=0,s=r;s<o.length;s++){var l=o[s];if(l!==i){var g=f[l].x,T=f[l].y,O=1/Math.sqrt(Math.pow(t-g,2)+Math.pow(a-T,2));this.E_matrix[i][s]=[this.K_matrix[i][l]*(t-g-this.L_matrix[i][l]*(t-g)*O),this.K_matrix[i][l]*(a-T-this.L_matrix[i][l]*(a-T)*O)],this.E_matrix[l][r]=this.E_matrix[i][s],u+=this.E_matrix[i][s][0],n+=this.E_matrix[i][s][1]}}this.E_sums[i]=[u,n]}}},{key:"_updateE_matrix",value:function(o){for(var f=this.body.nodeIndices,e=this.body.nodes,r=this.E_matrix[o],i=this.K_matrix[o],t=this.L_matrix[o],a=e[o].x,u=e[o].y,n=0,s=0,l=0;l<f.length;l++){var g=f[l];if(g!==o){var T=r[l],O=T[0],P=T[1],_=e[g].x,R=e[g].y,I=1/Math.sqrt(Math.pow(a-_,2)+Math.pow(u-R,2)),F=i[g]*(a-_-t[g]*(a-_)*I),W=i[g]*(u-R-t[g]*(u-R)*I);r[l]=[F,W],n+=F,s+=W;var Y=this.E_sums[g];Y[0]+=F-O,Y[1]+=W-P}}this.E_sums[o]=[n,s]}}]),d}();k.default=v},function(L,k,p){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var D=p(0),c=C(D),b=p(1),x=C(b);function C(y){return y&&y.__esModule?y:{default:y}}var E=function(){function y(){(0,c.default)(this,y)}return(0,x.default)(y,[{key:"getDistances",value:function(m,v,d){for(var h={},o=m.edges,f=0;f<v.length;f++){var e=v[f],r={};h[e]=r;for(var i=0;i<v.length;i++)r[v[i]]=f==i?0:1e9}for(var t=0;t<d.length;t++){var a=o[d[t]];a.connected===!0&&h[a.fromId]!==void 0&&h[a.toId]!==void 0&&(h[a.fromId][a.toId]=1,h[a.toId][a.fromId]=1)}for(var u=v.length,n=0;n<u;n++)for(var s=v[n],l=h[s],g=0;g<u-1;g++)for(var T=v[g],O=h[T],P=g+1;P<u;P++){var _=v[P],R=h[_],I=Math.min(O[_],O[s]+l[_]);O[_]=I,R[T]=I}return h}}]),y}();k.default=E}])});
